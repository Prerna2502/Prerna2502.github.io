/*! For license information please see main.02ce4b74.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},574:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FirebaseError:function(){return ka},SDK_VERSION:function(){return fo},_DEFAULT_ENTRY_NAME:function(){return Ja},_addComponent:function(){return to},_addOrOverwriteComponent:function(){return no},_apps:function(){return Za},_clearComponents:function(){return oo},_components:function(){return eo},_getProvider:function(){return io},_registerComponent:function(){return ro},_removeServiceInstance:function(){return ao},deleteApp:function(){return mo},getApp:function(){return po},getApps:function(){return vo},initializeApp:function(){return ho},onLog:function(){return ko},registerVersion:function(){return go},setLogLevel:function(){return wo}});var i=n(791),a=n(164);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&c(e),o=t&&c(t),u=a||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?l(i,h):".."===d?(l(i,h),f++):f&&(l(i,h),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?x:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function S(){return Math.random().toString(36).substr(2,f)}var T=w();function C(e){s(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(v(e.state))}function N(){O(v(I()))}var R=!1;function O(e){if(R)R=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}}var P=v(I()),D=[P.key];function L(e){return h+g(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(_,A),r&&window.addEventListener(E,N)):0===F&&(window.removeEventListener(_,A),r&&window.removeEventListener(E,N))}var j=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,S(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,S(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(A(window.location.href)+"#"+e)}function O(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?y(p(e.basename)):"",c=C[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return u&&(e=m(e,u)),k(e)}var v=w();function _(e){s(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var E=!1,I=null;function S(){var e=N(),t=l(e);if(e!==t)R(t);else{var n=h(),r=V.location;if(!E&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(I===g(n))return;I=null,function(e){if(E)E=!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&(n=0);var r=L.lastIndexOf(g(e));-1===r&&(r=0);var i=n-r;i&&(E=!0,M(i))}(e)}))}}(n)}}var O=N(),P=l(O);O!==P&&R(P);var D=h(),L=[g(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,S):0===F&&window.removeEventListener(T,S)}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=A(window.location.href)),n+"#"+l(u+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(u+t);if(N()!==i){I=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),L=o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(u+t);N()!==i&&(I=t,R(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=v.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function P(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=w();function f(e){s(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=P(o,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=P(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var L=n(7),M=n.n(L),F=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function j(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=i.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",o=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=j(t.props.value),t}u(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):F,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(i.Component);o.childContextTypes=((n={})[a]=M().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}u(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return s.contextTypes=((r={})[a]=M().object,r),{Provider:o,Consumer:s}},z=V,B=n(239),q=n.n(B);n(228);function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=n(110),K=n.n(H),G=function(e){var t=z();return t.displayName=e,t},Q=G("Router-History"),$=function(e){var t=z();return t.displayName=e,t},Y=$("Router"),J=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}u(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.createElement(Y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(Q.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;i.Component;var X={},Z=0;function ee(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=X[n]||(X[n]={});if(r[e])return r[e];var i=[],a={regexp:q()(e,i,t),keys:i};return Z<1e4&&(r[e]=a,Z++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var te=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=this;return i.createElement(Y.Consumer,null,(function(t){t||d(!1);var n=e.props.location||t.location,r=s({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ee(n.pathname,e.props):t.match}),a=e.props,o=a.children,u=a.component,c=a.render;return Array.isArray(o)&&0===o.length&&(o=null),i.createElement(Y.Provider,{value:r},r.match?o?"function"===typeof o?o(r):o:u?i.createElement(u,r):c?c(r):null:"function"===typeof o?o(r):null)}))},t}(i.Component);function ne(e){return"/"===e.charAt(0)?e:"/"+e}function re(e,t){if(!e)return t;var n=ne(e);return 0!==t.pathname.indexOf(n)?t:s({},t,{pathname:t.pathname.substr(n.length)})}function ie(e){return"string"===typeof e?e:g(e)}function ae(e){return function(){d(!1)}}function oe(){}i.Component;i.Component;var ue=i.useContext;var se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=S(t.props),t}return u(t,e),t.prototype.render=function(){return i.createElement(J,{history:this.history,children:this.props.children})},t}(i.Component);i.Component;var ce=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?k(e,null,null,t):e},fe=function(e){return e},he=i.forwardRef;"undefined"===typeof he&&(he=fe);var de=he((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=W(e,["innerRef","navigate","onClick"]),u=o.target,c=s({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=fe!==he&&t||n,i.createElement("a",c)}));var pe=he((function(e,t){var n=e.component,r=void 0===n?de:n,a=e.replace,o=e.to,u=e.innerRef,c=W(e,["component","replace","to","innerRef"]);return i.createElement(Y.Consumer,null,(function(e){e||d(!1);var n=e.history,l=le(ce(o,e.location),e.location),f=l?n.createHref(l):"",h=s({},c,{href:f,navigate:function(){var t=ce(o,e.location);(a?n.replace:n.push)(t)}});return fe!==he?h.ref=t||u:h.innerRef=u,i.createElement(r,h)}))})),ve=function(e){return e},me=i.forwardRef;"undefined"===typeof me&&(me=ve);me((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=W(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(Y.Consumer,null,(function(e){e||d(!1);var n=h||e.location,a=le(ce(y,n),n),w=a.pathname,b=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?ee(n.pathname,{path:b,exact:l,sensitive:p,strict:v}):null,_=!!(f?f(x,n):x),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,o):c,I=_?s({},m,{},u):m,S=s({"aria-current":_&&r||null,className:E,style:I,to:a},k);return ve!==me?S.ref=t||g:S.innerRef=g,i.createElement(pe,S)}))}));function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t){if(null==e)return{};var n,r,i=W(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xe=n(441),_e=n(613),Ee=n.n(_e);var Ie=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,E=0,I=0,S=0,O=0,D=v=d=0,M=0,F=0,U=0,j=0,V=s.length,z=V-1,B="",q="",W="",H="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+I+E+x&&(0!==_&&(p=47===_?10:47),I=E=x=0,V++,z++),0===_+I+E+x){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=R}if(j=(v=t(r,F,v,p,h+1)).length,0<P&&(w=u(3,v,F=n(R,B,U),r,C,T,j,p,h,c),B=F.join(""),void 0!==w&&0===(j=(v=w.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,U),v,c,h+1);W+=v,v=U=F=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(j=(B=B.replace(" ",":")).length),0<P&&void 0!==(w=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(j=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+s.charAt(M);break}default:58!==B.charCodeAt(j-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}U=F=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<P*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+E+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(F=U=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===S&&58===s.charCodeAt(M-3)&&(A=S);case 8:111===O&&(A=O)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+E+I+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+E&&x++;break;case 93:0===I+_+E&&x--;break;case 41:0===I+_+x&&E--;break;case 40:if(0===I+_+x){if(0===d)if(2*S+3*O===533);else d=1;E++}break;case 64:0===_+E+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+E))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:j=M,_=42}break;case 42:47===p&&42===S&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),m="",_=0)}}0===_&&(B+=m)}O=S,S=p,M++}if(0<(j=q.length)){if(F=r,0<P&&(void 0!==(w=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=w).length))return H+q+W;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],O=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=O.length=0;break;default:if("function"===typeof t)O[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},Se={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Te=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ae=Te((function(e){return Ce.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Re=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Oe=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,xe.typeOf)(e)},Pe=Object.freeze([]),De=Object.freeze({});function Le(e){return"function"==typeof e}function Me(e){return e.displayName||e.name||"Component"}function Fe(e){return e&&"string"==typeof e.styledComponentId}var Ue="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",je="undefined"!=typeof window&&"HTMLElement"in window,Ve=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ze={};function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var qe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Be(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),We=new Map,He=new Map,Ke=1,Ge=function(e){if(We.has(e))return We.get(e);for(;He.has(Ke);)Ke++;var t=Ke++;return We.set(e,t),He.set(t,e),t},Qe=function(e){return He.get(e)},$e=function(e,t){t>=Ke&&(Ke=t+1),We.set(e,t),He.set(t,e)},Ye="style["+Ue+'][data-styled-version="5.3.3"]',Je=new RegExp("^"+Ue+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Xe=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ze=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Je);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&($e(c,s),Xe(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},et=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},tt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ue))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ue,"active"),r.setAttribute("data-styled-version","5.3.3");var o=et();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},nt=function(){function e(e){var t=this.element=tt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Be(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),rt=function(){function e(e){var t=this.element=tt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),it=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),at=je,ot={isServer:!je,useCSSOMInjection:!Ve},ut=function(){function e(e,t,n){void 0===e&&(e=De),void 0===t&&(t={}),this.options=Ne({},ot,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&je&&at&&(at=!1,function(e){for(var t=document.querySelectorAll(Ye),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ue)&&(Ze(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ge(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ne({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new it(i):r?new nt(i):new rt(i),new qe(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ge(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ge(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ge(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Qe(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Ue+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),st=/(a)(d)/gi,ct=function(e){return String.fromCharCode(e+(e>25?39:97))};function lt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ct(t%52)+n;return(ct(t%52)+n).replace(st,"$1-$2")}var ft=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ht=function(e){return ft(5381,e)};function dt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Le(n)&&!Fe(n))return!1}return!0}var pt=ht("5.3.3"),vt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&dt(e),this.componentId=t,this.baseHash=ft(pt,t),this.baseStyle=n,ut.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Pt(this.rules,e,t,n).join(""),o=lt(ft(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=ft(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Pt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=ft(c,p+f),l+=p}}if(l){var v=lt(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),mt=/^\s*\/\/.*$/gm,yt=[":","[",".","#"];function gt(e){var t,n,r,i,a=void 0===e?De:e,o=a.options,u=void 0===o?De:o,s=a.plugins,c=void 0===s?Pe:s,l=new Ie(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==yt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(mt,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Be(15),ft(e,t.name)}),5381).toString():"",p}var kt=i.createContext(),wt=(kt.Consumer,i.createContext()),bt=(wt.Consumer,new ut),xt=gt();function _t(){return(0,i.useContext)(kt)||bt}function Et(){return(0,i.useContext)(wt)||xt}function It(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=_t(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return gt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){Ee()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(kt.Provider,{value:o},i.createElement(wt.Provider,{value:u},e.children))}var St=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=xt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Be(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=xt),this.name+e.hash},e}(),Tt=/([A-Z])/,Ct=/([A-Z])/g,At=/^ms-/,Nt=function(e){return"-"+e.toLowerCase()};function Rt(e){return Tt.test(e)?e.replace(Ct,Nt).replace(At,"-ms-"):e}var Ot=function(e){return null==e||!1===e||""===e};function Pt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Pt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Ot(e)?"":Fe(e)?"."+e.styledComponentId:Le(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Pt(e(t),t,n,r):e instanceof St?n?(e.inject(n,r),e.getName(r)):e:Oe(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Ot(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Le(t[o])?a.push(Rt(o)+":",t[o],";"):Oe(t[o])?a.push.apply(a,e(t[o],o)):a.push(Rt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Se?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Dt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Le(e)||Oe(e)?Dt(Pt(Re(Pe,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Dt(Pt(Re(e,n)))}new Set;var Mt=function(e,t,n){return void 0===n&&(n=De),e.theme!==n.theme&&e.theme||t||n.theme},Ft=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ut=/(^-|-$)/g;function jt(e){return e.replace(Ft,"-").replace(Ut,"")}var Vt=function(e){return lt(ht(e)>>>0)};function zt(e){return"string"==typeof e&&!0}var Bt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},qt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Wt(e,t,n){var r=e[n];Bt(t)&&Bt(r)?Ht(r,t):e[n]=t}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Bt(o))for(var u in o)qt(u)&&Wt(e,o[u],u)}return e}var Kt=i.createContext();Kt.Consumer;var Gt={};function Qt(e,t,n){var r=Fe(e),a=!zt(e),o=t.attrs,u=void 0===o?Pe:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":jt(e);Gt[n]=(Gt[n]||0)+1;var r=n+"-"+Vt("5.3.3"+n+Gt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return zt(e)?"styled."+e:"Styled("+Me(e)+")"}(e):l,h=t.displayName&&t.componentId?jt(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new vt(n,h,r?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=De);var r=Ne({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Le(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Mt(t,(0,i.useContext)(Kt),u)||De,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=_t(),a=Et();return t?e.generateAndInjectStyles(De,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=zt(y),k=p!==t?Ne({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,Ae,y):!g||Ae(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=Ne({},t.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,i.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=i.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Pe,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(zt(e)?e:jt(Me(e)));return Qt(e,Ne({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ht({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&K()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var $t=function(e){return function e(t,n,r){if(void 0===r&&(r=De),!(0,xe.isValidElementType)(n))return Be(1,String(n));var i=function(){return t(n,r,Lt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ne({},r,{},i))},i.attrs=function(i){return e(t,n,Ne({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Qt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){$t[e]=$t(e)}));var Yt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=dt(e),ut.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Pt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&ut.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=et();return"<style "+[n&&'nonce="'+n+'"',Ue+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Be(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Be(2);var n=((t={})[Ue]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=et();return r&&(n.nonce=r),[i.createElement("style",Ne({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ut({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Be(2):i.createElement(It,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Be(3)}}();var Jt,Xt,Zt,en,tn,nn,rn,an,on,un,sn,cn,ln,fn,hn=$t,dn=hn.div(Jt||(Jt=be(["\n    display: flex;\n    border-bottom: 8px solid #222;\n    padding: 50px 5%;\n    color: white;\n    overflow: hidden;\n"]))),pn=hn.div(Xt||(Xt=be(["\n    display: flex;\n    align-items: center;\n    flex-direction: ",";\n    justify-content: space-between;\n    max-width: 1100px;\n    margin: auto;\n    width: 100%;\n\n    @media (max-width: 1000px) {\n        flex-direction: column;\n    }\n"])),(function(e){return e.direction})),vn=hn.div(Zt||(Zt=be(["\n    @media (max-width: 1000px) {\n        ",": last-of-type h2 {\n            margin-bottom: 50px;\n        }\n    }\n"])),dn),mn=hn.div(en||(en=be(["\n    width: 50%;\n\n    @media (max-width: 100px){\n        width: 100%;\n        padding: 0 45px;\n        text-align: center;\n    }\n"]))),yn=hn.h1(tn||(tn=be(["\n    font-size: 50px;\n    line-height: 1.1;\n    margin-bottom: 8px;\n\n    @media (max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),gn=hn.h2(nn||(nn=be(["\n    font-size: 26px;\n    font-weight: normal;\n    line-height: normal;\n\n    @media (max-width: 600px) {\n        font-size: 18px;\n    }\n"]))),kn=hn.img(rn||(rn=be(["\n    max-width: 100%;\n    height: auto;\n"]))),wn=n(184),bn=["children","direction"],xn=["children"],_n=["children"],En=["children"],In=["children"];function Sn(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=we(e,bn);return(0,wn.jsx)(dn,ke(ke({},i),{},{children:(0,wn.jsx)(pn,{direction:r,children:t})}))}Sn.Container=function(e){var t=e.children,n=we(e,xn);return(0,wn.jsx)(vn,ke(ke({},n),{},{children:t}))},Sn.Pane=function(e){var t=e.children,n=we(e,_n);return(0,wn.jsx)(mn,ke(ke({},n),{},{children:t}))},Sn.Title=function(e){var t=e.children,n=we(e,En);return(0,wn.jsx)(yn,ke(ke({},n),{},{children:t}))},Sn.SubTitle=function(e){var t=e.children,n=we(e,In);return(0,wn.jsx)(gn,ke(ke({},n),{},{children:t}))},Sn.Image=function(e){var t=Object.assign({},e);return(0,wn.jsx)(kn,ke({},t))};var Tn,Cn,An,Nn,Rn,On,Pn=hn.div(an||(an=be(["\n    display: flex;\n    padding: 70px 56px;\n    margin: auto;\n    max-width: 1000px;\n    flex-direction: column;\n\n    @media (max-width: 1000px) {\n        padding: 70px 30px;\n    }\n"]))),Dn=hn.div(on||(on=be(["\n    display: flex;\n    flex-direction: column;\n    text-align: left;\n"]))),Ln=hn.div(un||(un=be(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));\n    grid-gap: 15px;\n\n    @media (max-width: 1000px) {\n        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    }\n"]))),Mn=hn.a(sn||(sn=be(["\n    color: #757575;\n    margin-bottom: 20px;\n    font-size: 14px;\n    text-decoration: none;\n"]))),Fn=hn.p(cn||(cn=be(["\n    font-size: 16px;\n    color: #757575;\n    margin-botom: 40px;\n"]))),Un=hn.p(ln||(ln=be(["\n    font-size: 13px;\n    color: #757575;\n    margin-botom: 40px;\n"]))),jn=hn.p(fn||(fn=be(["\n    flex-basis: 100%;\n    height:0;\n"]))),Vn=["children"],zn=["children"],Bn=["children"],qn=["children"],Wn=["children"],Hn=["children"],Kn=["children"];function Gn(e){var t=e.children,n=we(e,Vn);return(0,wn.jsx)(Pn,ke(ke({},n),{},{children:t}))}function Qn(e){if(Array.isArray(e))return e}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){if(e){if("string"===typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}function Jn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xn(e,t){return Qn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Yn(e,t)||Jn()}Gn.Row=function(e){var t=e.children,n=we(e,zn);return(0,wn.jsx)(Ln,ke(ke({},n),{},{children:t}))},Gn.Column=function(e){var t=e.children,n=we(e,Bn);return(0,wn.jsx)(Dn,ke(ke({},n),{},{children:t}))},Gn.Link=function(e){var t=e.children,n=we(e,qn);return(0,wn.jsx)(Mn,ke(ke({},n),{},{children:t}))},Gn.Title=function(e){var t=e.children,n=we(e,Wn);return(0,wn.jsx)(Fn,ke(ke({},n),{},{children:t}))},Gn.Text=function(e){var t=e.children,n=we(e,Hn);return(0,wn.jsx)(Un,ke(ke({},n),{},{children:t}))},Gn.Break=function(e){var t=e.children,n=we(e,Kn);return(0,wn.jsx)(jn,ke(ke({},n),{},{children:t}))};var Zn,er,tr,nr,rr,ir=hn.div(Tn||(Tn=be(["\n    display: flex;\n    border-bottom: 8px solid #222;\n\n"]))),ar=hn.div(Cn||(Cn=be(["\n    display: flex;\n    padding: 70px 45px;\n    flex-direction: column;\n    max-width: 815px;\n    margin: auto;\n"]))),or=hn.h1(An||(An=be(["\n    font-size: 50px;\n    line-height: 1.1;\n    margin-top: 0;\n    margin-bottom: 8px;\n    color: white;\n    text-align: center;\n\n    @media (max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),ur=hn.div(Nn||(Nn=be(["\n    color: white;\n    margin-bottom: 10px;\n    max-width: 700px;\n    margin: auto;\n    width: 100%;\n \n    &:first-of-type {\n        margin-top: 3em;\n    }\n    \n    &:last-of-type {\n        margin-bottom: 3em;\n    }\n"]))),sr=hn.div(Rn||(Rn=be(["\n    display: flex;\n    justify-content: space-between;\n    cursor: pointer;\n    margin-bottom: 1px;\n    font-size: 26px;\n    font-weight: normal;\n    background: #303030;\n    padding: 0.8em 1.2em;\n    user-select: none;\n    align-items: center;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media(max-width: 600px){\n            width: 16px;\n        }\n    }\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n    }\n"]))),cr=hn.div(On||(On=be(["\n    max-height: 1200px;\n    transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\n    font-size: 26px;\n    font-weight: normal;\n    line-weight: normal;\n    background: #303030;\n    padding: 0.8em 2.2em 0.8em 1.2em;\n    white-space: pre-wrap;\n    user-select: none;\n\n    @media(max-width: 600px){\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),lr=["children"],fr=["children"],hr=["children"],dr=["children"],pr=["children"],vr=(0,i.createContext)();function mr(e){var t=e.children,n=we(e,lr);return(0,wn.jsx)(ir,ke(ke({},n),{},{children:(0,wn.jsx)(ar,{children:t})}))}mr.Title=function(e){var t=e.children,n=we(e,fr);return(0,wn.jsx)(or,ke(ke({},n),{},{children:t}))},mr.Item=function(e){var t=e.children,n=we(e,hr),r=Xn((0,i.useState)(!1),2),a=r[0],o=r[1];return(0,wn.jsx)(vr.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,wn.jsx)(ur,ke(ke({},n),{},{children:t}))})},mr.Header=function(e){var t=e.children,n=we(e,dr),r=(0,i.useContext)(vr),a=r.toggleShow,o=r.setToggleShow;return(0,wn.jsxs)(sr,ke(ke({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,wn.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,wn.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},mr.Body=function(e){var t=e.children,n=we(e,pr);return(0,i.useContext)(vr).toggleShow?(0,wn.jsx)(cr,ke(ke({},n),{},{children:t})):null};var yr,gr,kr,wr,br,xr=hn.div(Zn||(Zn=be(["\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    margin-top: 20px;\n    flex-wrap: wrap;\n\n    @media (max-width: 1000px){\n        flex-direction: column;\n        align-items: center;\n    }\n"]))),_r=hn.input(er||(er=be(["\n    max-width: 450px;\n    width: 100%;\n    border: 0;\n    padding: 10px;\n    height: 70px;\n    box-sizing: border-box;\n"]))),Er=hn.button(tr||(tr=be(["\n    display: flex;\n    align-items: center;\n    height: 70px;\n    background: #e50914;\n    color: white;\n    text-transform: uppercase;\n    padding: 0 32px;\n    font-size: 26px;\n    border:0;\n    cursor: pointer;\n\n    &:hover {\n        background: #f40612;\n    }\n\n    @media (max-width: 1000px) {\n        height: 50px;\n        font-size: 16px;\n        margin-top: 20px;\n        font-weight: bold;\n    }\n\n    img {\n        margin-left: 10px;\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media (max-width: 1000px) {\n            width: 16px;\n        }\n    }\n"]))),Ir=hn.p(nr||(nr=be(["\n    font-size: 19.2px;\n    color: white;\n    text-align: center;\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),Sr=hn.div(rr||(rr=be(["\n    flex-basis:100%;\n    height: 0;\n"]))),Tr=["children"],Cr=["children"],Ar=["children"];function Nr(e){var t=e.children,n=we(e,Tr);return(0,wn.jsxs)(xr,ke(ke({},n),{},{children:[" ",t," "]}))}Nr.Input=function(e){var t=Object.assign({},e);return(0,wn.jsx)(_r,ke({},t))},Nr.Break=function(e){var t=Object.assign({},e);return(0,wn.jsx)(Sr,ke({},t))},Nr.Button=function(e){var t=e.children,n=we(e,Cr);return(0,wn.jsxs)(Er,ke(ke({},n),{},{children:[t," ",(0,wn.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Nr.Text=function(e){var t=e.children,n=we(e,Ar);return(0,wn.jsx)(Ir,ke(ke({},n),{},{children:t}))};var Rr,Or,Pr,Dr=hn.div(yr||(yr=be(["\n    display: flex;\n    flex-direction: column;\n    background: url(",") top left / cover no-repeat;\n"])),(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"})),Lr=(hn.div(gr||(gr=be([""]))),hn.div(kr||(kr=be(["\n    display: flex;\n    margin: 0 56px;\n    height: 64px;\n    padding: 18px 0;\n    justify-content: space-between;\n    align-items: center;\n\n    a{\n        display: flex;\n    }\n\n    @media(max-width: 1000px){\n        margin: 0 30px;\n    }\n"])))),Mr=hn.img(wr||(wr=be(["\n    height: 150px;\n    width: 200px;\n    margin-right: 40px;\n\n    @media(min-width: 1449px){\n        height: 45px;\n        width: 167px;\n    }\n"]))),Fr=hn(pe)(br||(br=be(["\n    display: block;\n    background-color: #e50914;\n    width: 84px;\n    height: fit-content;\n    color: white;\n    border: 0;\n    font-size: 15px;\n    border-radius: 3px;\n    padding: 8px 17px;\n    cursor: pointer;\n    text-decoration: none;\n    box-sizing: border-box;\n\n    &:hover {\n        background-color: #f40612;\n    }\n"]))),Ur=["bg","children"],jr=["children"],Vr=["to"],zr=["children"];function Br(e){var t=e.bg,n=void 0===t||t,r=e.children,i=we(e,Ur);return n?(0,wn.jsx)(Dr,ke(ke({},i),{},{children:r})):r}Br.Frame=function(e){var t=e.children,n=we(e,jr);return(0,wn.jsx)(Lr,ke(ke({},n),{},{children:t}))},Br.Logo=function(e){var t=e.to,n=we(e,Vr);return(0,wn.jsx)(pe,{to:t,children:(0,wn.jsx)(Mr,ke({},n))})},Br.ButtonLink=function(e){var t=e.children,n=we(e,zr);return(0,wn.jsx)(Fr,ke(ke({},n),{},{children:t}))};var qr,Wr,Hr,Kr,Gr,Qr,$r,Yr,Jr,Xr=hn.div(Rr||(Rr=be(["\n    display: flex;\n    flex-direction: column;\n    border-bottom: 8px solid #222;\n    text-align: center;\n    padding: 165px 45px;\n"]))),Zr=hn.div(Or||(Or=be(["\n    color: white;\n    max-width: 640px;\n    font-size: 50px;\n    font-weight: 500;\n    margin: auto;\n\n    @media(max-width: 60px){\n        font-size: 35px;\n    }\n"]))),ei=hn.div(Pr||(Pr=be(["\n    color: white;\n    font-size: 26px;\n    font-weight: normal;\n    margin: 16px auto;\n\n    @media(max-width: 60px){\n        font-size: 18px;\n}\n"]))),ti=["children"],ni=["children"],ri=["children"];function ii(e){var t=e.children,n=we(e,ti);return(0,wn.jsx)(Xr,ke(ke({},n),{},{children:t}))}ii.Title=function(e){var t=e.children,n=we(e,ni);return(0,wn.jsx)(Zr,ke(ke({},n),{},{children:t}))},ii.SubTitle=function(e){var t=e.children,n=we(e,ri);return(0,wn.jsx)(ei,ke(ke({},n),{},{children:t}))};var ai=hn.div(qr||(qr=be(["\n    display: flex;\n    flex-direction: column;\n    min-height: 660px;\n    background-color: rgba(0,0,0,0.75);\n    border-radius: 5px;\n    box-sizing: border-box;\n    width: 100%;\n    margin: auto;\n    max-width:450px;\n    padding: 60px 68px 40px;\n    margin-bottom:100px;\n"]))),oi=hn.div(Wr||(Wr=be(["\n    background: #e87c03;\n    border-radius: 4px;\n    font-size: 14px;\n    margin: 0 0 16px;\n    color: white;\n    padding: 15px 20px;\n"]))),ui=hn.form(Hr||(Hr=be(["\n    display: flex;\n    flex-direction: column;\n    max-width: 450px;\n    width: 100%;\n"]))),si=hn.h1(Kr||(Kr=be(["\n    color:#fff;\n    font-size: 32px;\n    font-weight: bold;\n    margin-bottom: 28px;\n"]))),ci=hn.p(Gr||(Gr=be(["\n    color: #737373;\n    font-size: 16px;\n    font-weight: 500;\n"]))),li=hn.p(Qr||(Qr=be(["\n    margin-top: 10px;\n    font-size: 13px;\n    line-height: normal;\n    color: #8c8c8c;\n"]))),fi=hn(pe)($r||($r=be(["\n    color:white;\n    text-decoration: none;\n\n    &:hover {\n        text-decoration: underline;\n    }\n"]))),hi=hn.input(Yr||(Yr=be(["\n    background: #333;\n    border-radius: 4px;\n    border: 0;\n    color: white;\n    height: 50px;\n    padding: 5px 20px;\n    margin-bottom: 20px;\n\n    &:last-of-type {\n        margin-bottom: 30px;\n    }\n"]))),di=hn.button(Jr||(Jr=be(["\n    background: #e50914;\n    border-radius: 4px;\n    font-size: 16px;\n    font-weight:bold;\n    margin: 24px 0 12px;\n    padding: 16px;\n    border: 0;\n    color:white;\n    cursor: pointer;\n\n    &:disabled {\n        opacity: 0.5;\n    }\n"]))),pi=["children"],vi=["children"],mi=["children"],yi=["children"],gi=["children"],ki=["children"],wi=["children"],bi=["children"],xi=["children"];function _i(e){var t=e.children,n=we(e,pi);return(0,wn.jsx)(ai,ke(ke({},n),{},{children:t}))}_i.Error=function(e){var t=e.children,n=we(e,vi);return(0,wn.jsx)(oi,ke(ke({},n),{},{children:t}))},_i.Base=function(e){var t=e.children,n=we(e,mi);return(0,wn.jsx)(ui,ke(ke({},n),{},{children:t}))},_i.Title=function(e){var t=e.children,n=we(e,yi);return(0,wn.jsx)(si,ke(ke({},n),{},{children:t}))},_i.Text=function(e){var t=e.children,n=we(e,gi);return(0,wn.jsx)(ci,ke(ke({},n),{},{children:t}))},_i.TextSmall=function(e){var t=e.children,n=we(e,ki);return(0,wn.jsx)(li,ke(ke({},n),{},{children:t}))},_i.Link=function(e){var t=e.children,n=we(e,wi);return(0,wn.jsx)(fi,ke(ke({},n),{},{children:t}))},_i.Input=function(e){var t=e.children,n=we(e,bi);return(0,wn.jsx)(hi,ke(ke({},n),{},{children:t}))},_i.Submit=function(e){var t=e.children,n=we(e,xi);return(0,wn.jsx)(di,ke(ke({},n),{},{children:t}))};var Ei=JSON.parse('[{"id":1,"header":"What is IndianMoview?","body":"Indian Movies is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does IndianMovies cost?","body":"Watch IndianMovies on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your IndianMovies account to watch instantly on the web at downloadindianmovies.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"IndianMovies is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on IndianMovies?","body":"IndianMovies has an extensive library of feature films, documentaries, TV programmes, anime, award-winning IndianMovies originals, and more. Watch as much as you want, any time you want."}]');function Ii(){return(0,wn.jsxs)(mr,{children:[(0,wn.jsx)(mr.Title,{children:"Frequently Asked Questions"}),Ei.map((function(e){return(0,wn.jsxs)(mr.Item,{children:[(0,wn.jsx)(mr.Header,{children:e.header}),(0,wn.jsx)(mr.Body,{children:e.body})]},e.id)})),(0,wn.jsxs)(Nr,{children:[(0,wn.jsx)(Nr.Input,{placeholder:"Email address"}),(0,wn.jsx)(Nr.Button,{children:"Try it now"}),(0,wn.jsx)(Nr.Break,{}),(0,wn.jsx)(Nr.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}function Si(){return(0,wn.jsxs)(Gn,{children:[(0,wn.jsx)(Gn.Title,{children:"Questions? Contact us."}),(0,wn.jsx)(Gn.Break,{}),(0,wn.jsxs)(Gn.Row,{children:[(0,wn.jsxs)(Gn.Column,{children:[(0,wn.jsx)(Gn.Link,{href:"#",children:"FAQ"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Investor Relations"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Ways to Watch"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Corporate Information"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"IndianMovies Originals"})]}),(0,wn.jsxs)(Gn.Column,{children:[(0,wn.jsx)(Gn.Link,{href:"#",children:"Help Centre"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Jobs"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Terms of Use"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Contact Us"})]}),(0,wn.jsxs)(Gn.Column,{children:[(0,wn.jsx)(Gn.Link,{href:"#",children:"Account"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Redeem Gift Cards"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Privacy"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Speed Test"})]}),(0,wn.jsxs)(Gn.Column,{children:[(0,wn.jsx)(Gn.Link,{href:"#",children:"Media Centre"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Buy Gift Cards"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Cookie Preferences"}),(0,wn.jsx)(Gn.Link,{href:"#",children:"Legal Notices"})]})]}),(0,wn.jsx)(Gn.Break,{}),(0,wn.jsx)(Gn.Text,{children:"IndianMovies India"})]})}var Ti=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function Ci(){return(0,wn.jsx)(Sn.Container,{children:Ti.map((function(e){return(0,wn.jsxs)(Sn,{direction:e.direction,children:[(0,wn.jsxs)(Sn.Pane,{children:[(0,wn.jsx)(Sn.Title,{children:e.title}),(0,wn.jsx)(Sn.SubTitle,{children:e.subTitle})]}),(0,wn.jsx)(Sn.Pane,{children:(0,wn.jsx)(Sn.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}var Ai="/browse",Ni="/signin",Ri=n(221),Oi=["children"];function Pi(e){var t=e.children;we(e,Oi);return(0,wn.jsxs)(Br,{children:[(0,wn.jsxs)(Br.Frame,{children:[(0,wn.jsx)(Br.Logo,{to:"/",alt:"Netflix",src:Ri}),(0,wn.jsx)(Br.ButtonLink,{to:Ni,children:"Sign In"})]}),t]})}function Di(){return(0,wn.jsxs)(wn.Fragment,{children:[(0,wn.jsx)(Pi,{children:(0,wn.jsxs)(ii,{children:[(0,wn.jsx)(ii.Title,{children:"Unlimited films, TV programmes and more."}),(0,wn.jsx)(ii.SubTitle,{children:"Watch anywhere. Cancle at any time."}),(0,wn.jsxs)(Nr,{children:[(0,wn.jsx)(Nr.Input,{placeholder:"Email address"}),(0,wn.jsx)(Nr.Button,{children:"Try it now"}),(0,wn.jsx)(Nr.Break,{}),(0,wn.jsx)(Nr.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}),(0,wn.jsx)(Ci,{}),(0,wn.jsx)(Ii,{}),(0,wn.jsx)(Si,{})]})}function Li(){return(0,wn.jsx)("p",{children:"Hello from the Browse"})}var Mi=(0,i.createContext)(null);function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}function Ui(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fi(e)););return e}function ji(){return ji="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ui(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ji.apply(this,arguments)}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function Bi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function Wi(e,t){if(t&&("object"===qi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Hi(e){var t=Bi();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wi(this,n)}}function Ki(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Gi(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Qi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Gi(a,r,i,o,u,"next",e)}function u(e){Gi(a,r,i,o,u,"throw",e)}o(void 0)}))}}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ji(e,t,n){return t&&Yi(e.prototype,t),n&&Yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Zi(e){return function(e){if(Array.isArray(e))return $n(e)}(e)||Xi(e)||Yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ea=n(757),ta=n.n(ea);function na(e,t,n){return na=Bi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},na.apply(null,arguments)}function ra(e){var t="function"===typeof Map?new Map:void 0;return ra=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return na(e,arguments,Fi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},ra(e)}var ia=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},aa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ia(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oa=function(e){return function(e){var t=ia(e);return aa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ua=function(e){try{return aa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ca(n)&&(e[n]=sa(e[n],t[n]));return e}function ca(e){return"__proto__"!==e}var la=function(){function e(){var t=this;$i(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ji(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oa(JSON.stringify({alg:"none",type:"JWT"})),oa(JSON.stringify(a)),""].join(".")}function ha(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function da(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())}function pa(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function va(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ma(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ya(){var e=ha();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ga(){return"object"===typeof indexedDB}var ka=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Vi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Vi(a),wa.prototype.create),a}return Ji(n)}(ra(Error)),wa=function(){function e(t,n,r){$i(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ji(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ba(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ka(n,a,t);return o}}]),e}();function ba(e,t){return e.replace(xa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xa=/\{\$([^}]+)}/g;function _a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ea(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ia(u)&&Ia(s)){if(!Ea(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ia(e){return null!==e&&"object"===typeof e}function Sa(e){for(var t=[],n=function(){var e=Xn(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ta(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Xn(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ca(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Aa(e,t){var n=new Na(e,t);return n.subscribe.bind(n)}var Na=function(){function e(t,n){var r=this;$i(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ji(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ki(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ra),void 0===r.error&&(r.error=Ra),void 0===r.complete&&(r.complete=Ra);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ra(){}function Oa(e){return e&&e._delegate?e._delegate:e}var Pa=function(){function e(t,n,r){$i(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ji(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Da="[DEFAULT]",La=function(){function e(t,n){$i(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ji(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new la;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch(s){}var t,n=Ki(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Xn(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Qi(ea.mark((function e(){var t;return ea.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Zi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Zi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ki(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Xn(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(pT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Da?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(pT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da;return this.component?this.component.multipleInstances?e:Da:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ma,Fa,Ua=function(){function e(t){$i(this,e),this.name=t,this.providers=new Map}return Ji(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new La(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ja=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fa||(Fa={}));var Va,za,Ba={debug:Fa.DEBUG,verbose:Fa.VERBOSE,info:Fa.INFO,warn:Fa.WARN,error:Fa.ERROR,silent:Fa.SILENT},qa=Fa.INFO,Wa=(ye(Ma={},Fa.DEBUG,"log"),ye(Ma,Fa.VERBOSE,"log"),ye(Ma,Fa.INFO,"info"),ye(Ma,Fa.WARN,"warn"),ye(Ma,Fa.ERROR,"error"),Ma),Ha=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ka=function(){function e(t){$i(this,e),this.name=t,this._logLevel=qa,this._logHandler=Ha,this._userLogHandler=null,ja.push(this)}return Ji(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Fa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ba[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fa.DEBUG].concat(t)),this._logHandler.apply(this,[this,Fa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Fa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fa.INFO].concat(t)),this._logHandler.apply(this,[this,Fa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fa.WARN].concat(t)),this._logHandler.apply(this,[this,Fa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fa.ERROR].concat(t)),this._logHandler.apply(this,[this,Fa.ERROR].concat(t))}}]),e}();var Ga=function(){function e(t){$i(this,e),this.container=t}return Ji(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qa="@firebase/app",$a="0.7.14",Ya=new Ka("@firebase/app"),Ja="[DEFAULT]",Xa=(ye(Va={},Qa,"fire-core"),ye(Va,"@firebase/app-compat","fire-core-compat"),ye(Va,"@firebase/analytics","fire-analytics"),ye(Va,"@firebase/analytics-compat","fire-analytics-compat"),ye(Va,"@firebase/app-check","fire-app-check"),ye(Va,"@firebase/app-check-compat","fire-app-check-compat"),ye(Va,"@firebase/auth","fire-auth"),ye(Va,"@firebase/auth-compat","fire-auth-compat"),ye(Va,"@firebase/database","fire-rtdb"),ye(Va,"@firebase/database-compat","fire-rtdb-compat"),ye(Va,"@firebase/functions","fire-fn"),ye(Va,"@firebase/functions-compat","fire-fn-compat"),ye(Va,"@firebase/installations","fire-iid"),ye(Va,"@firebase/installations-compat","fire-iid-compat"),ye(Va,"@firebase/messaging","fire-fcm"),ye(Va,"@firebase/messaging-compat","fire-fcm-compat"),ye(Va,"@firebase/performance","fire-perf"),ye(Va,"@firebase/performance-compat","fire-perf-compat"),ye(Va,"@firebase/remote-config","fire-rc"),ye(Va,"@firebase/remote-config-compat","fire-rc-compat"),ye(Va,"@firebase/storage","fire-gcs"),ye(Va,"@firebase/storage-compat","fire-gcs-compat"),ye(Va,"@firebase/firestore","fire-fst"),ye(Va,"@firebase/firestore-compat","fire-fst-compat"),ye(Va,"fire-js","fire-js"),ye(Va,"firebase","fire-js-all"),Va),Za=new Map,eo=new Map;function to(e,t){try{e.container.addComponent(t)}catch(n){Ya.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function no(e,t){e.container.addOrOverwriteComponent(t)}function ro(e){var t=e.name;if(eo.has(t))return Ya.debug("There were multiple attempts to register component ".concat(t,".")),!1;eo.set(t,e);var n,r=Ki(Za.values());try{for(r.s();!(n=r.n()).done;){to(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function io(e,t){return e.container.getProvider(t)}function ao(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ja;io(e,t).clearInstance(n)}function oo(){eo.clear()}var uo,so=(ye(za={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye(za,"bad-app-name","Illegal App name: '{$appName}"),ye(za,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ye(za,"app-deleted","Firebase App named '{$appName}' already deleted"),ye(za,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ye(za,"invalid-log-argument","First argument to `onLog` must be null or a function."),za),co=new wa("app","Firebase",so),lo=function(){function e(t,n,r){var i=this;$i(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",(function(){return i}),"PUBLIC"))}return Ji(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}]),e}(),fo="9.6.4";function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ja,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw co.create("bad-app-name",{appName:String(i)});var a=Za.get(i);if(a){if(Ea(e,a.options)&&Ea(r,a.config))return a;throw co.create("duplicate-app",{appName:i})}var o,u=new Ua(i),s=Ki(eo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new lo(e,r,u);return Za.set(i,l),l}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=Za.get(e);if(!t)throw co.create("no-app",{appName:e});return t}function vo(){return Array.from(Za.values())}function mo(e){return yo.apply(this,arguments)}function yo(){return yo=Qi(ea.mark((function e(t){var n;return ea.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Za.has(n)){e.next=6;break}return Za.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(e,t,n){var r,i=null!==(r=Xa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ya.warn(u.join(" "))}ro(new Pa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ko(e,t){if(null!==e&&"function"!==typeof e)throw co.create("invalid-log-argument");!function(e,t){var n,r=Ki(ja);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ba[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Fa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wo(e){var t;t=e,ja.forEach((function(e){e.setLogLevel(t)}))}uo="",ro(new Pa("platform-logger",(function(e){return new Ga(e)}),"PRIVATE")),go(Qa,$a,uo),go(Qa,$a,"esm2017"),go("fire-js","");function bo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xo;Object.create;var _o="facebook.com",Eo="github.com",Io="google.com",So="password",To="twitter.com",Co="EMAIL_SIGNIN",Ao="PASSWORD_RESET",No="RECOVER_EMAIL",Ro="REVERT_SECOND_FACTOR_ADDITION",Oo="VERIFY_AND_CHANGE_EMAIL",Po="VERIFY_EMAIL";function Do(){return ye({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Lo=function(){var e;return ye(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ye(e,"argument-error",""),ye(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ye(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ye(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ye(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ye(e,"cordova-not-ready","Cordova framework is not ready."),ye(e,"cors-unsupported","This browser is not supported."),ye(e,"credential-already-in-use","This credential is already associated with a different user account."),ye(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ye(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ye(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ye(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ye(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ye(e,"email-already-in-use","The email address is already in use by another account."),ye(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ye(e,"expired-action-code","The action code has expired."),ye(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ye(e,"internal-error","An internal AuthError has occurred."),ye(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ye(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ye(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ye(e,"invalid-auth-event","An internal AuthError has occurred."),ye(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ye(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ye(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ye(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ye(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ye(e,"invalid-email","The email address is badly formatted."),ye(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ye(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ye(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ye(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ye(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ye(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ye(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ye(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ye(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ye(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ye(e,"wrong-password","The password is invalid or the user does not have a password."),ye(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ye(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ye(e,"invalid-provider-id","The specified provider ID is invalid."),ye(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ye(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ye(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ye(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ye(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ye(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ye(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ye(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ye(e,"missing-continue-uri","A continue URL must be provided in the request."),ye(e,"missing-iframe-start","An internal AuthError has occurred."),ye(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ye(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ye(e,"missing-multi-factor-info","No second factor identifier is provided."),ye(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ye(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ye(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ye(e,"app-deleted","This instance of FirebaseApp has been deleted."),ye(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ye(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ye(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ye(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ye(e,"no-auth-event","An internal AuthError has occurred."),ye(e,"no-such-provider","User was not linked to an account with the given provider."),ye(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ye(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ye(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ye(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ye(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ye(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ye(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ye(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ye(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ye(e,"rejected-credential","The request contains malformed or mismatching credentials."),ye(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ye(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ye(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ye(e,"timeout","The operation has timed out."),ye(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ye(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ye(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ye(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ye(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ye(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ye(e,"unverified-email","The operation requires a verified email."),ye(e,"user-cancelled","The user did not grant your application the permissions it requested."),ye(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ye(e,"user-disabled","The user account has been disabled by an administrator."),ye(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ye(e,"user-signed-out",""),ye(e,"weak-password","The password must be 6 characters long or more."),ye(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ye(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Mo=Do,Fo=new wa("auth","Firebase",Do()),Uo=new Ka("@firebase/auth");function jo(e){if(Uo.logLevel<=Fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Uo.error.apply(Uo,["Auth (".concat(fo,"): ").concat(e)].concat(n))}}function Vo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wo.apply(void 0,[e].concat(n))}function zo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wo.apply(void 0,[e].concat(n))}function Bo(e,t,n){var r=Object.assign(Object.assign({},Mo()),ye({},t,n));return new wa("auth","Firebase",r).create(t,{appName:e.name})}function qo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vo(e,"argument-error"),Bo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Zi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Zi(o)))}return Fo.create.apply(Fo,[e].concat(n))}function Ho(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wo.apply(void 0,[t].concat(r))}}function Ko(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jo(t),new Error(t)}function Go(e,t){e||Ko(t)}var Qo=new Map;function $o(e){Go(e instanceof Function,"Expected a class definition");var t=Qo.get(e);return t?(Go(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qo.set(e,t),t)}function Yo(e,t){var n=io(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ea(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Vo(r,"already-initialized")}return n.initialize({options:t})}function Jo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xo(){return"http:"===Zo()||"https:"===Zo()}function Zo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var eu=function(){function e(t,n){$i(this,e),this.shortDelay=t,this.longDelay=n,Go(n>t,"Short delay should be less than long delay!"),this.isMobile=da()||ma()}return Ji(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xo()||va()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function tu(e,t){Go(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var nu=function(){function e(){$i(this,e)}return Ji(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ru=(ye(xo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ye(xo,"MISSING_CUSTOM_TOKEN","internal-error"),ye(xo,"INVALID_IDENTIFIER","invalid-email"),ye(xo,"MISSING_CONTINUE_URI","internal-error"),ye(xo,"INVALID_PASSWORD","wrong-password"),ye(xo,"MISSING_PASSWORD","internal-error"),ye(xo,"EMAIL_EXISTS","email-already-in-use"),ye(xo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ye(xo,"INVALID_IDP_RESPONSE","invalid-credential"),ye(xo,"INVALID_PENDING_TOKEN","invalid-credential"),ye(xo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ye(xo,"MISSING_REQ_TYPE","internal-error"),ye(xo,"EMAIL_NOT_FOUND","user-not-found"),ye(xo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ye(xo,"EXPIRED_OOB_CODE","expired-action-code"),ye(xo,"INVALID_OOB_CODE","invalid-action-code"),ye(xo,"MISSING_OOB_CODE","internal-error"),ye(xo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ye(xo,"INVALID_ID_TOKEN","invalid-user-token"),ye(xo,"TOKEN_EXPIRED","user-token-expired"),ye(xo,"USER_NOT_FOUND","user-token-expired"),ye(xo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ye(xo,"INVALID_CODE","invalid-verification-code"),ye(xo,"INVALID_SESSION_INFO","invalid-verification-id"),ye(xo,"INVALID_TEMPORARY_PROOF","invalid-credential"),ye(xo,"MISSING_SESSION_INFO","missing-verification-id"),ye(xo,"SESSION_EXPIRED","code-expired"),ye(xo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ye(xo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ye(xo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ye(xo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ye(xo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ye(xo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ye(xo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ye(xo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ye(xo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ye(xo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ye(xo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xo),iu=new eu(3e4,6e4);function au(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ou(e,t,n,r){return uu.apply(this,arguments)}function uu(){return uu=Qi(ta().mark((function e(t,n,r,i){var a,o=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",su(t,a,Qi(ta().mark((function e(){var a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Sa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",nu.fetch()(hu(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t,n){return cu.apply(this,arguments)}function cu(){return(cu=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ru),n),e.prev=2,a=new du(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw pu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Xn(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw pu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw pu(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Bo(t,d,h);case 30:Vo(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ka)){e.next=37;break}throw e.t0;case 37:Vo(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function lu(e,t,n,r){return fu.apply(this,arguments)}function fu(){return fu=Qi(ta().mark((function e(t,n,r,i){var a,o,u=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ou(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var du=function(){function e(t){var n=this;$i(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zo(n.auth,"network-request-failed"))}),iu.get())}))}return Ji(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zo(e,t,r);return i.customData._tokenResponse=n,i}function vu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return wu.apply(this,arguments)}function wu(){return(wu=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function xu(){return xu=Qi(ta().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Oa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ho((a=Eu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bu(_u(a.auth_time)),issuedAtTime:bu(_u(a.iat)),expirationTime:bu(_u(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}function _u(e){return 1e3*Number(e)}function Eu(e){var t=Xn(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return jo("JWT malformed, contained fewer than 3 sections"),null;try{var a=ua(r);return a?JSON.parse(a):(jo("Failed to decode base64 JWT payload"),null)}catch(o){return jo("Caught error parsing JWT payload as JSON",o),null}}function Iu(e,t){return Su.apply(this,arguments)}function Su(){return Su=Qi(ta().mark((function e(t,n){var r=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ka&&Tu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Su.apply(this,arguments)}function Tu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Cu=function(){function e(t){$i(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ji(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Au=function(){function e(t,n){$i(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ji(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Nu(e){return Ru.apply(this,arguments)}function Ru(){return Ru=Qi(ta().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Iu(t,ku(r,{idToken:i}));case 6:Ho(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Du(o.providerUserInfo):[],s=Pu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Au(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Ou(){return(Ou=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oa(t),e.next=3,Nu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Zi(n),Zi(t))}function Du(e){return e.map((function(e){var t=e.providerId,n=bo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(t,{},Qi(ta().mark((function e(){var r,i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=hu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",nu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fu=function(){function e(){$i(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ji(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ho(e.idToken,"internal-error"),Ho("undefined"!==typeof e.idToken,"internal-error"),Ho("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Eu(e);return Ho(t,"internal-error"),Ho("undefined"!==typeof t.exp,"internal-error"),Ho("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Qi(ta().mark((function e(t){var n,r=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ho(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ko("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ho("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ho("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ho("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Uu(e,t){Ho("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ju=function(){function e(t){$i(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Cu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Au(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ji(e,[{key:"getIdToken",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ho(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return xu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ou.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ho(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ho(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Qi(ta().mark((function e(t){var n,r,i=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Nu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Iu(this,vu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ho(k&&_,t,"internal-error");var E=Fu.fromJSON(this.name,_);Ho("string"===typeof k,t,"internal-error"),Uu(f,t.name),Uu(h,t.name),Ho("boolean"===typeof w,t,"internal-error"),Ho("boolean"===typeof b,t,"internal-error"),Uu(d,t.name),Uu(p,t.name),Uu(v,t.name),Uu(m,t.name),Uu(y,t.name),Uu(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Qi(ta().mark((function t(n,r){var i,a,o,u=arguments;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Fu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Nu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vu=function(){function e(){$i(this,e),this.type="NONE",this.storage={}}return Ji(e,[{key:"_isAvailable",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Vu.type="NONE";var zu=Vu;function Bu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qu=function(){function e(t,n,r){$i(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ji(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ju._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Qi(ta().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e($o(zu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||$o(zu),u=Bu(i,n.config.apiKey,n.name),s=null,c=Ki(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ju._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yu(t))return"Blackberry";if(Ju(t))return"Webos";if(Ku(t))return"Safari";if((t.includes("chrome/")||Gu(t))&&!t.includes("edge/"))return"Chrome";if($u(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/firefox\//i.test(e)}function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/crios\//i.test(e)}function Qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/iemobile/i.test(e)}function $u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/android/i.test(e)}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/blackberry/i.test(e)}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/webos/i.test(e)}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/iphone|ipad|ipod/i.test(e)}function Zu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return Xu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function es(){return ya()&&10===document.documentMode}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return Xu(e)||$u(e)||Ju(e)||Yu(e)||/windows phone/i.test(e)||Qu(e)}function ns(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wu(ha());break;case"Worker":t="".concat(Wu(ha()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fo,"/").concat(r)}var rs=function(){function e(t,n){$i(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new as(this),this.idTokenSubscription=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Ji(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=$o(t)),this._initializationPromise=this.queue(Qi(ta().mark((function r(){var i,a;return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Qi(ta().mark((function e(t){var n,r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ho(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Oa(t):null)&&Ho(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Qi(ta().mark((function e(t){var n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ho(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence($o(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new wa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ho(n=t&&$o(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qu.create(this,[$o(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Qi(ta().mark((function e(t){var n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ho(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ho(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ns(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function is(e){return Oa(e)}var as=function(){function e(t){var n=this;$i(this,e),this.auth=t,this.observer=null,this.addObserver=Aa((function(e){return n.observer=e}))}return Ji(e,[{key:"next",get:function(){return Ho(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function os(e,t,n){var r=is(e);Ho(r._canInitEmulator,r,"emulator-config-failed"),Ho(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=us(t),o=function(e){var t=us(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ss(r.substr(a.length+1))}}var o=Xn(r.split(":"),2);return{host:o[0],port:ss(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function us(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ss(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var cs=function(){function e(t,n){$i(this,e),this.providerId=t,this.signInMethod=n}return Ji(e,[{key:"toJSON",value:function(){return Ko("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ko("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ko("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ko("not implemented")}}]),e}();function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:resetPassword",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return(ds=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:update",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return(ys=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithPassword",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){return ks.apply(this,arguments)}function ks(){return(ks=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:sendOobCode",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t){return bs.apply(this,arguments)}function bs(){return(bs=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){return Is.apply(this,arguments)}function Is(){return(Is=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return(As=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithEmailLink",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithEmailLink",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Os=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $i(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ji(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ms(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Cs(t,{email:this._email,oobCode:this._password}));case 5:Vo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hs(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ns(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(cs);function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return(Ds=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithIdp",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ls=function(e){zi(n,e);var t=Hi(n);function n(){var e;return $i(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ji(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ps(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ps(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ps(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(cs);function Ms(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:sendVerificationCode",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(){return(Us=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithPhoneNumber",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(){return(js=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lu(t,"POST","/v1/accounts:signInWithPhoneNumber",au(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vs=ye({},"USER_NOT_FOUND","user-not-found");function zs(){return(zs=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithPhoneNumber",au(t,r),Vs));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bs=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ji(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Us.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return js.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(cs);var qs=function(){function e(t){var n,r,i,a,o,u;$i(this,e);var s=Ta(Ca(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ho(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ji(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ta(Ca(e)).link,n=t?Ta(Ca(t)).deep_link_id:null,r=Ta(Ca(e)).deep_link_id;return(r?Ta(Ca(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(pT){return null}}}]),e}();var Ws=function(){function e(){$i(this,e),this.providerId=e.PROVIDER_ID}return Ji(e,null,[{key:"credential",value:function(e,t){return Os._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qs.parseLink(t);return Ho(n,"argument-error"),Os._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ws.PROVIDER_ID="password",Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hs=function(){function e(t){$i(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ji(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ks=function(e){zi(n,e);var t=Hi(n);function n(){var e;return $i(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ji(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Zi(this.scopes)}}]),n}(Hs),Gs=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ho(e.idToken||e.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ho("providerId"in t&&"signInMethod"in t,"argument-error"),Ls._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ks),Qs=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.call(this,"facebook.com")}return Ji(n,null,[{key:"credential",value:function(e){return Ls._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pT){return null}}}]),n}(Ks);Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qs.PROVIDER_ID="facebook.com";var $s=function(e){zi(n,e);var t=Hi(n);function n(){var e;return $i(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ji(n,null,[{key:"credential",value:function(e,t){return Ls._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(pT){return null}}}]),n}(Ks);$s.GOOGLE_SIGN_IN_METHOD="google.com",$s.PROVIDER_ID="google.com";var Ys=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.call(this,"github.com")}return Ji(n,null,[{key:"credential",value:function(e){return Ls._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pT){return null}}}]),n}(Ks);Ys.GITHUB_SIGN_IN_METHOD="github.com",Ys.PROVIDER_ID="github.com";var Js=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ji(n,[{key:"_getIdTokenResponse",value:function(e){return Ps(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ps(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ps(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(cs),Xs=function(e){zi(n,e);var t=Hi(n);function n(e){return $i(this,n),Ho(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ji(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Js.fromJSON(e);return Ho(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Js._create(r,n)}catch(i){return null}}}]),n}(Hs),Zs=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.call(this,"twitter.com")}return Ji(n,null,[{key:"credential",value:function(e,t){return Ls._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(pT){return null}}}]),n}(Ks);function ec(e,t){return tc.apply(this,arguments)}function tc(){return(tc=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signUp",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Zs.TWITTER_SIGN_IN_METHOD="twitter.com",Zs.PROVIDER_ID="twitter.com";var nc=function(){function e(t){$i(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ji(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Qi(ta().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ju._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=rc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Qi(ta().mark((function t(n,r,i){var a;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=rc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function rc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ic(){return ic=Qi(ta().mark((function e(t){var n,r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new nc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ec(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,nc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}var ac=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a){var o,u;return $i(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Vi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ji(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ka);function oc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ac._fromErrorAndOperation(e,n,t,r);throw n}))}function uc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,hc(!0,r,n);case 3:return e.t0=yu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=uc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=Qi(ta().mark((function e(t,n){var r,i,a=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Iu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",nc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t,n){return dc.apply(this,arguments)}function dc(){return(dc=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(n);case 2:i=uc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ho(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Iu(t,oc(i,a,n,t),r);case 6:return Ho((o=e.sent).idToken,i,"internal-error"),Ho(u=Eu(o.idToken),i,"internal-error"),s=u.sub,Ho(t.uid===s,i,"user-mismatch"),e.abrupt("return",nc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Vo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),vc.apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Qi(ta().mark((function e(t,n){var r,i,a,o,u=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,oc(t,i,n);case 4:return a=e.sent,e.next=7,nc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return(kc=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mc(is(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t){return bc.apply(this,arguments)}function bc(){return(bc=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,hc(!1,r,n.providerId);case 3:return e.abrupt("return",lc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t){return _c.apply(this,arguments)}function _c(){return(_c=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pc(Oa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(t,"POST","/v1/accounts:signInWithCustomToken",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(){return(Sc=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.next=3,Ec(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,nc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tc=function(){function e(t,n){$i(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ji(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Cc._fromServerResponse(e,t):Vo(e,"internal-error")}}]),e}(),Cc=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ji(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Tc);function Ac(e,t,n){var r;Ho((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ho("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ho(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ho(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Nc(){return(Nc=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ac(i,a,r),e.next=5,xs(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(){return(Rc=Qi(ta().mark((function e(t,n,r){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(Oa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(){return(Oc=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(Oa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,ls(r,{oobCode:n});case 3:i=e.sent,Ho(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ho(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ho(i.mfaInfo,r,"internal-error");case 13:Ho(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Tc._fromServerResponse(is(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(){return(Lc=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(Oa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return(Fc=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=is(t),e.next=3,ec(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,nc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e,t,n){return gc(Oa(e),Ws.credential(t,n))}function jc(){return(jc=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),a={requestType:"EMAIL_SIGNIN",email:n},Ho(r.handleCodeInApp,i,"argument-error"),r&&Ac(i,a,r),e.next=6,Es(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){return(Vc=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),Ho((a=Ws.credentialWithLink(n,r||Jo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",gc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:createAuthUri",au(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(){return(qc=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xo()?Jo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,zc(Oa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(){return(Wc=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ac(r.auth,a,n),e.next=8,ws(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(){return(Hc=Qi(ta().mark((function e(t,n,r){var i,a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ac(i.auth,o,r),e.next=8,Ss(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(){return(Qc=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s,c;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Oa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Iu(a,Kc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e,t,n){return Yc.apply(this,arguments)}function Yc(){return(Yc=Qi(ta().mark((function e(t,n,r){var i,a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Iu(t,hs(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jc=Ji((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Xc=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a){var o;return $i(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ji(n)}(Jc),Zc=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"facebook.com",r)}return Ji(n)}(Jc),el=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ji(n)}(Xc),tl=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"google.com",r)}return Ji(n)}(Jc),nl=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){return $i(this,n),t.call(this,e,"twitter.com",r,i)}return Ji(n)}(Xc);function rl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Eu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Jc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Zc(a,i);case"github.com":return new el(a,i);case"google.com":return new tl(a,i);case"twitter.com":return new nl(a,i,e.screenName||null);case"custom":case"anonymous":return new Jc(a,null);default:return new Jc(a,r,i)}}(n)}var il=function(){function e(t,n){$i(this,e),this.type=t,this.credential=n}return Ji(e,[{key:"toJSON",value:function(){return{multiFactorSession:ye({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),al=function(){function e(t,n,r){$i(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ji(e,[{key:"resolveSignIn",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=is(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Tc._fromServerResponse(r,e)}));Ho(i.mfaPendingCredential,r,"internal-error");var o=il._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Qi(ta().mark((function e(t){var a,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,nc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ho(n.user,r,"internal-error"),e.abrupt("return",nc._forOperation(n.user,n.operationType,u));case 17:Vo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ol(e,t){return ou(e,"POST","/v2/accounts/mfaEnrollment:start",au(e,t))}var ul=function(){function e(t){var n=this;$i(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Tc._fromServerResponse(t.auth,e)})))}))}return Ji(e,[{key:"getSession",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=il,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Iu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Qi(ta().mark((function e(t){var n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Iu(this.user,ou(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",au(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),sl=new WeakMap;var cl="__sak",ll=function(){function e(t,n){$i(this,e),this.storageRetriever=t,this.type=n}return Ji(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cl,"1"),this.storage.removeItem(cl),Promise.resolve(!0)):Promise.resolve(!1)}catch(pT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fl=function(e){zi(n,e);var t=Hi(n);function n(){var e;return $i(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ha();return Ku(e)||Xu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ts(),e._shouldAllowMigration=!0,e}return Ji(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);es()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Qi(ta().mark((function e(t,r){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(Fi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qi(ta().mark((function e(t){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(Fi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(Fi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ll);fl.type="LOCAL";var hl=fl,dl=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ji(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ll);dl.type="SESSION";var pl=dl;function vl(e){return Promise.all(e.map(function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ml=function(){function e(t){$i(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ji(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Qi(ta().mark((function e(t){var n,r,i,a,o,u,s,c;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ml.receivers=[];var gl=function(){function e(t){$i(this,e),this.target=t,this.handlers=new Set}return Ji(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Qi(ta().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=yl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kl(){return window}function wl(){return"undefined"!==typeof kl().WorkerGlobalScope&&"function"===typeof kl().importScripts}function bl(){return xl.apply(this,arguments)}function xl(){return(xl=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _l(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var El="firebaseLocalStorageDb",Il="firebaseLocalStorage",Sl="fbase_key",Tl=function(){function e(t){$i(this,e),this.request=t}return Ji(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Cl(e,t){return e.transaction([Il],t?"readwrite":"readonly").objectStore(Il)}function Al(){var e=indexedDB.deleteDatabase(El);return new Tl(e).toPromise()}function Nl(){var e=indexedDB.open(El,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Il,{keyPath:Sl})}catch(r){n(r)}})),e.addEventListener("success",Qi(ta().mark((function n(){var r;return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Il)){n.next=12;break}return r.close(),n.next=5,Al();case 5:return n.t0=t,n.next=8,Nl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Rl(e,t,n){return Ol.apply(this,arguments)}function Ol(){return Ol=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cl(t,!0).put((ye(i={},Sl,n),ye(i,"value",r),i)),e.abrupt("return",new Tl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Pl(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cl(t,!1).get(n),e.next=3,new Tl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(e,t){var n=Cl(e,!0).delete(t);return new Tl(n).toPromise()}var Ml=function(){function e(){$i(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ji(e,[{key:"_openDb",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Nl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Qi(ta().mark((function e(){var t=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ml._getInstance(wl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Qi(ta().mark((function e(n,r){var i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Qi(ta().mark((function e(){var t,n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_l()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Nl();case 5:return t=e.sent,e.next=8,Rl(t,cl,"1");case 8:return e.next=10,Ll(t,cl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qi(ta().mark((function e(t,n){var r=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Rl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qi(ta().mark((function e(t){var n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ll(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cl(e,!1).getAll();return new Tl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ki(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ml.type="LOCAL";var Fl=Ml;function Ul(e,t){return ou(e,"POST","/v2/accounts/mfaSignIn:start",au(e,t))}function jl(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Bl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ql=1e12,Wl=function(){function e(t){$i(this,e),this.auth=t,this.counter=ql,this._widgets=new Map}return Ji(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Hl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ql;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ql;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ql,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hl=function(){function e(t,n,r){var i=this;$i(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ho(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ji(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Kl=Bl("rcb"),Gl=new eu(3e4,6e4),Ql="https://www.google.com/recaptcha/api.js?",$l=function(){function e(){$i(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kl().grecaptcha}return Ji(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ho(Yl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(kl().grecaptcha):new Promise((function(r,i){var a=kl().setTimeout((function(){i(zo(e,"network-request-failed"))}),Gl.get());kl()[Kl]=function(){kl().clearTimeout(a),delete kl()[Kl];var o=kl().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zo(e,"internal-error"))},zl("".concat(Ql,"?").concat(Sa({onload:Kl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!kl().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Yl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Jl=function(){function e(){$i(this,e)}return Ji(e,[{key:"load",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Wl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Xl="recaptcha",Zl={theme:"light",type:"image"},ef=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Zl),r=arguments.length>2?arguments[2]:void 0;$i(this,e),this.parameters=n,this.type=Xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=is(r),this.isInvisible="invisible"===this.parameters.size,Ho("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ho(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jl:new $l,this.validateStartingState()}return Ji(e,[{key:"verify",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ho(!this.parameters.sitekey,this.auth,"argument-error"),Ho(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ho("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=kl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ho(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Qi(ta().mark((function e(){var t,n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ho(Xo()&&!wl(),this.auth,"internal-error"),e.next=3,tf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,jl(this.auth);case 8:Ho(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ho(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nf=function(){function e(t,n){$i(this,e),this.verificationId=t,this.onConfirmation=n}return Ji(e,[{key:"confirm",value:function(e){var t=Bs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rf(){return(rf=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=is(t),e.next=3,sf(i,n,Oa(r));case 3:return a=e.sent,e.abrupt("return",new nf(a,(function(e){return gc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t,n){return of.apply(this,arguments)}function of(){return(of=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),e.next=3,hc(!1,i,"phone");case 3:return e.next=5,sf(i.auth,n,Oa(r));case 5:return a=e.sent,e.abrupt("return",new nf(a,(function(e){return wc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(){return(uf=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),e.next=3,sf(i.auth,n,Oa(r));case 3:return a=e.sent,e.abrupt("return",new nf(a,(function(e){return xc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ho("string"===typeof a,t,"argument-error"),Ho(r.type===Xl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ho("enroll"===u.type,t,"internal-error"),e.next=13,ol(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ho("signin"===u.type,t,"internal-error"),Ho(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ul(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ms(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cf.apply(this,arguments)}function lf(){return(lf=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lc(Oa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=function(){function e(t){$i(this,e),this.providerId=e.PROVIDER_ID,this.auth=is(t)}return Ji(e,[{key:"verifyPhoneNumber",value:function(e,t){return sf(this.auth,e,Oa(t))}}],[{key:"credential",value:function(e,t){return Bs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Bs._fromTokenResponse(n,r):null}}]),e}();function hf(e,t){return t?$o(t):(Ho(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ff.PROVIDER_ID="phone",ff.PHONE_SIGN_IN_METHOD="phone";var df=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ji(n,[{key:"_getIdTokenResponse",value:function(e){return Ps(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ps(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ps(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(cs);function pf(e){return mc(e.auth,new df(e),e.bypassAuthState)}function vf(e){var t=e.auth,n=e.user;return Ho(n,t,"internal-error"),pc(n,new df(e),e.bypassAuthState)}function mf(e){return yf.apply(this,arguments)}function yf(){return(yf=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ho(r=t.user,n,"internal-error"),e.abrupt("return",lc(r,new df(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];$i(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ji(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Qi(ta().mark((function t(n,r){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Qi(ta().mark((function e(t){var n,r,i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pf;case"linkViaPopup":case"linkViaRedirect":return mf;case"reauthViaPopup":case"reauthViaRedirect":return vf;default:Vo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),kf=new eu(2e3,1e4);function wf(e,t,n){return bf.apply(this,arguments)}function bf(){return(bf=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=is(t),qo(t,n,Hs),a=hf(i,r),o=new If(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(){return(xf=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qo((i=Oa(t)).auth,n,Hs),a=hf(i.auth,r),o=new If(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t,n){return Ef.apply(this,arguments)}function Ef(){return(Ef=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qo((i=Oa(t)).auth,n,Hs),a=hf(i.auth,r),o=new If(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var If=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a,o){var u;return $i(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Vi(u),u}return Ji(n,[{key:"executeNotNull",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ho(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qi(ta().mark((function e(){var t,n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go(1===this.filter.length,"Popup operations only handle one event"),t=yl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,kf.get())}()}}]),n}(gf);If.currentPopupAction=null;var Sf=new Map,Tf=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $i(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ji(n,[{key:"execute",value:function(){var e=Qi(ta().mark((function e(){var t,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Cf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ji(Fi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Sf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Sf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Qi(ta().mark((function e(t){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ji(Fi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ji(Fi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gf);function Cf(e,t){return Af.apply(this,arguments)}function Af(){return Af=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pf(n),i=Of(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return(Rf=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t)._set(Pf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e){return $o(e._redirectPersistence)}function Pf(e){return Bu("pendingRedirect",e.config.apiKey,e.name)}function Df(e,t,n){return function(e,t,n){return Lf.apply(this,arguments)}(e,t,n)}function Lf(){return(Lf=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=is(t),qo(t,n,Hs),a=hf(i,r),e.next=5,Nf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mf(e,t,n){return function(e,t,n){return Ff.apply(this,arguments)}(e,t,n)}function Ff(){return(Ff=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qo((i=Oa(t)).auth,n,Hs),a=hf(i.auth,r),e.next=5,Nf(a,i.auth);case 5:return e.next=7,Wf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t,n){return function(e,t,n){return jf.apply(this,arguments)}(e,t,n)}function jf(){return(jf=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qo((i=Oa(t)).auth,n,Hs),a=hf(i.auth,r),e.next=5,hc(!1,i,n.providerId);case 5:return e.next=7,Nf(a,i.auth);case 7:return e.next=9,Wf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t){return zf.apply(this,arguments)}function zf(){return(zf=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t)._initializationPromise;case 2:return e.abrupt("return",Bf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=is(t),a=hf(i,n),o=new Tf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(e){return Hf.apply(this,arguments)}function Hf(){return(Hf=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kf=function(){function e(t){$i(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ji(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Gf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Gf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $f(e){return Yf.apply(this,arguments)}function Yf(){return Yf=Qi(ta().mark((function e(t){var n,r=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ou(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yf.apply(this,arguments)}var Jf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xf=/^https?/;function Zf(){return(Zf=Qi(ta().mark((function e(t){var n,r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$f(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ki(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!eh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function eh(e){var t=Jo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xf.test(r))return!1;if(Jf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var th=new eu(3e4,6e4);function nh(){var e=kl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Zi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rh=null;function ih(e){return rh=rh||function(e){return new Promise((function(t,n){var r,i,a;function o(){nh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nh(),n(zo(e,"network-request-failed"))},timeout:th.get()})}if(null===(i=null===(r=kl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kl().gapi)||void 0===a?void 0:a.load)){var u=Bl("iframefcb");return kl()[u]=function(){gapi.load?o():n(zo(e,"network-request-failed"))},zl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rh=null,e}))}(e),rh}var ah=new eu(5e3,15e3),oh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sh(e){var t=e.config;Ho(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?tu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:fo},i=uh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Sa(r).slice(1))}function ch(e){return lh.apply(this,arguments)}function lh(){return lh=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ih(t);case 2:return n=e.sent,Ho(r=kl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:sh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oh,dontclear:!0},(function(e){return new Promise(function(){var n=Qi(ta().mark((function n(r,i){var a,o,u;return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){kl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zo(t,"network-request-failed"),o=kl().setTimeout((function(){i(a)}),ah.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}var fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hh="_blank",dh="http://localhost",ph=function(){function e(t){$i(this,e),this.window=t,this.associatedEvent=null}return Ji(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},fh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ha().toLowerCase();n&&(u=Gu(c)?hh:n),Hu(c)&&(t=t||dh,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Xn(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zu(c)&&"_self"!==u)return mh(t||"",u),new ph(null);var f=window.open(t||"",u,l);Ho(f,e,"popup-blocked");try{f.focus()}catch(h){}return new ph(f)}function mh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yh="__/auth/handler",gh="emulator/auth/handler";function kh(e,t,n,r,i,a){Ho(e.config.authDomain,e,"auth-domain-config-required"),Ho(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fo,eventId:i};if(t instanceof Hs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Xn(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ks){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yh);return tu(t,gh)}(e),"?").concat(Sa(d).slice(1))}var wh="webStorageSupport",bh=function(){function e(){$i(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pl,this._completeRedirectFn=Bf}return Ji(e,[{key:"_openPopup",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){var a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=kh(t,n,r,Jo(),i),e.abrupt("return",vh(t,o,yl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=kh(t,n,r,Jo(),i),kl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Go(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch(t);case 2:return n=e.sent,r=new Kf(t),n.register("authEvent",(function(e){return Ho(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wh,{type:wh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ts()||Ku()||Xu()}}]),e}(),xh=bh,_h=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this,"phone")).credential=e,r}return Ji(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ou(e,"POST","/v2/accounts/mfaEnrollment:finalize",au(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ou(e,"POST","/v2/accounts/mfaSignIn:finalize",au(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){$i(this,e),this.factorId=t}return Ji(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ko("unexpected MultiFactorSessionType")}}}]),e}()),Eh=function(){function e(){$i(this,e)}return Ji(e,null,[{key:"assertion",value:function(e){return _h._fromCredential(e)}}]),e}();Eh.FACTOR_ID="phone";var Ih,Sh="@firebase/auth",Th="0.19.6",Ch=function(){function e(t){$i(this,e),this.auth=t,this.internalListeners=new Map}return Ji(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ho(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ah(){var e=ue(Q),t=(0,i.useContext)(Mi).firebase,n=Xn((0,i.useState)(""),2),r=n[0],a=n[1],o=Xn((0,i.useState)(""),2),u=o[0],s=o[1],c=Xn((0,i.useState)(""),2),l=c[0],f=c[1],h=""===u||""===r;return(0,wn.jsxs)(wn.Fragment,{children:[(0,wn.jsx)(Pi,{children:(0,wn.jsxs)(_i,{children:[(0,wn.jsx)(_i.Title,{children:"Sign In"}),l&&(0,wn.jsx)(_i.Error,{children:l}),(0,wn.jsxs)(_i.Base,{onSubmit:function(n){n.preventDefault();var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po(),t=io(e,"auth");return t.isInitialized()?t.getImmediate():Yo(e,{popupRedirectResolver:xh,persistence:[Fl,hl,pl]})}(t);Uc(i,r,u).then((function(){e.push(Ai)})).catch((function(e){a(""),s(""),f(e.message)}))},method:"POST",children:[(0,wn.jsx)(_i.Input,{placeholder:"Email address",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,wn.jsx)(_i.Input,{placeholder:"Password",type:"password",autoComplete:"off",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,wn.jsx)(_i.Submit,{disabled:h,type:"submit",children:"SignIn"})]}),(0,wn.jsxs)(_i.Text,{children:["New to IndianMovies? ",(0,wn.jsx)(_i.Link,{to:"/signup",children:" Sign up now."})]}),(0,wn.jsx)(_i.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,wn.jsx)(Si,{})]})}function Nh(){return(0,wn.jsx)("p",{children:"Hello from the Signup"})}Ih="Browser",ro(new Pa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ho(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ho(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Ih,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ns(Ih)},r=new rs(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($o);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ro(new Pa("auth-internal",(function(e){return function(e){return new Ch(e)}(is(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),go(Sh,Th,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ih)),go(Sh,Th,"esm2017");var Rh,Oh,Ph=function(){return(0,wn.jsx)("div",{className:"App",children:(0,wn.jsxs)(se,{children:[(0,wn.jsx)(te,{exact:!0,path:"/",children:(0,wn.jsx)(Di,{})}),(0,wn.jsx)(te,{exact:!0,path:Ni,children:(0,wn.jsx)(Ah,{})}),(0,wn.jsx)(te,{exact:!0,path:"/signup",children:(0,wn.jsx)(Nh,{})}),(0,wn.jsx)(te,{exact:!0,path:Ai,children:(0,wn.jsx)(Li,{})})]})})},Dh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Lt.apply(void 0,[e].concat(n)),o="sc-global-"+Vt(JSON.stringify(a)),u=new Yt(a,o);function s(e){var t=_t(),n=Et(),r=(0,i.useContext)(Kt),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return u.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,ze,n,i);else{var a=Ne({},t,{theme:Mt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return i.memo(s)}(Rh||(Rh=be(["\n    html, body {\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: black;\n        color: #333333;\n        font-size: 16px;\n    }\n"]))),Lh=function(){function e(t,n){var r=this;$i(this,e),this._delegate=t,this.firebase=n,to(t,new Pa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ji(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),mo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){to(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){no(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Mh=(ye(Oh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye(Oh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Oh),Fh=new wa("app-compat","Firebase",Mh);var Uh=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=ho(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_a(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:go,setLogLevel:wo,onLog:ko,apps:null,SDK_VERSION:fo,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(ro(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Fh.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&sa(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!_a(t,e=e||Ja))throw Fh.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(Lh);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){sa(t,e)},createSubscribe:Aa,ErrorFactory:wa,deepExtend:sa}),t}(),jh=new Ka("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){jh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Vh=self.firebase.SDK_VERSION;Vh&&Vh.indexOf("LITE")>=0&&jh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zh=Uh;function Bh(){return window}!function(e){go("@firebase/app-compat","0.1.15",e)}();function qh(e,t,n){return Wh.apply(this,arguments)}function Wh(){return Wh=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bh(),o=a.BuildInfo,Go(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Yh(n.sessionId);case 4:return u=e.sent,s={},Xu()?s.ibi=o.packageName:$u()?s.apn=o.packageName:Vo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",kh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Hh(){return(Hh=Qi(ta().mark((function e(t){var n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bh(),r=n.BuildInfo,i={},Xu()?i.iosBundleId=r.packageName:$u()?i.androidPackageName=r.packageName:Vo(t,"operation-not-supported-in-this-environment"),e.next=5,$f(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e){var t=Bh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Gh(e,t,n){return Qh.apply(this,arguments)}function Qh(){return Qh=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(zo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),$u()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Qh.apply(this,arguments)}function $h(e){var t,n,r,i,a,o,u,s,c,l,f=Bh();Ho("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ho("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ho("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ho("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ho("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Yh(e){return Jh.apply(this,arguments)}function Jh(){return(Jh=Qi(ta().mark((function e(t){var n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e){if(Go(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Zh=function(e){zi(n,e);var t=Hi(n);function n(){var e;return $i(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ji(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ji(Fi(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Kf);function ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ad(),postBody:null,tenantId:e.tenantId,error:zo(e,"no-auth-event")}}function td(e,t){return od()._set(ud(e),t)}function nd(e){return rd.apply(this,arguments)}function rd(){return(rd=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,od()._get(ud(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,od()._remove(ud(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e,t){var n,r,i=function(e){var t=sd(e),n=t.link?decodeURIComponent(t.link):void 0,r=sd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return sd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=sd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?zo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ad(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function od(){return $o(hl)}function ud(e){return Bu("authEvent",e.config.apiKey,e.name)}function sd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Qn(t=n)||Xi(t)||Yn(t)||Jn();r[0];return Ta(r.slice(1).join("?"))}var cd=function(){function e(){$i(this,e),this._redirectPersistence=pl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bf}return Ji(e,[{key:"_initialize",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Zh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){var a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Sf.clear(),e.next=10,this._originValidation(t);case 10:return o=ed(t,r,i),e.next=13,td(t,o);case 13:return e.next=15,qh(t,o,n);case 15:return u=e.sent,e.next=18,Kh(u);case 18:return s=e.sent,e.abrupt("return",Gh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Bh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nd(e);case 2:t.onEvent(fd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Qi(ta().mark((function n(r){var i,a;return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,nd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=id(i,r.url)),t.onEvent(a||fd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Bh().handleOpenURL=function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ld=cd;function fd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zo("no-auth-event")}}function hd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function dd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return!("file:"!==hd()&&"ionic:"!==hd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function pd(){return ya()&&11===(null===document||void 0===document?void 0:document.documentMode)}function vd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/Edge\/\d+/.test(e)}function md(){try{var e=self.localStorage,t=yl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return pd()||vd(e)}()||ga()}catch(n){return yd()&&ga()}return!1}function yd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function gd(){return("http:"===hd()||"https:"===hd()||va()||dd())&&!(ma()||pa())&&md()&&!yd()}function kd(){return dd()&&"undefined"!==typeof document}function wd(){return bd.apply(this,arguments)}function bd(){return(bd=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xd={LOCAL:"local",NONE:"none",SESSION:"session"},_d=Ho,Ed="persistence";function Id(e,t){_d(Object.values(xd).includes(t),e,"invalid-persistence-type"),ma()?_d(t!==xd.SESSION,e,"unsupported-persistence-type"):pa()?_d(t===xd.NONE,e,"unsupported-persistence-type"):yd()?_d(t===xd.NONE||t===xd.LOCAL&&ga(),e,"unsupported-persistence-type"):_d(t===xd.NONE||md(),e,"unsupported-persistence-type")}function Sd(e){return Td.apply(this,arguments)}function Td(){return Td=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Cd(),r=Bu(Ed,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Cd(){return"undefined"!==typeof window?window:null}var Ad=Ho,Nd=function(){function e(){$i(this,e),this.browserResolver=$o(xh),this.cordovaResolver=$o(ld),this.underlyingResolver=null,this._redirectPersistence=pl,this._completeRedirectFn=Bf}return Ji(e,[{key:"_initialize",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return kd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ad(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rd(e){return e.unwrap()}function Od(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Fd(e,function(e,t){var n,r=Oa(e),i=t;return Ho(t.customData.operationType,r,"argument-error"),Ho(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),al._fromError(r,i)}(e,t));else if(r){var i=Pd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Pd(e){var t=(e instanceof ka?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ka)&&"temporaryProof"in t&&"phoneNumber"in t)return ff.credentialFromResult(e);var n,r=t.providerId;if(!r||r===So)return null;switch(r){case Io:n=$s;break;case _o:n=Qs;break;case Eo:n=Ys;break;case To:n=Zs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Js._create(r,u):Ls._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Gs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ka?n.credentialFromError(e):n.credentialFromResult(e)}function Dd(e,t){return t.catch((function(t){throw t instanceof ka&&Od(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Pd(t)),additionalUserInfo:rl(e),user:Ud.getOrCreate(r)}}))}function Ld(e,t){return Md.apply(this,arguments)}function Md(){return(Md=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Dd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fd=function(){function e(t,n){$i(this,e),this.resolver=n,this.auth=t.wrapped()}return Ji(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Dd(Rd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ud=function(){function e(t){$i(this,e),this._delegate=t,this.multiFactor=function(e){var t=Oa(e);return sl.has(t)||sl.set(t,ul._fromUser(t)),sl.get(t)}(t)}return Ji(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(this.auth,wc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ld(this.auth,af(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(this.auth,_f(this._delegate,t,Nd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sd(is(this.auth));case 2:return e.abrupt("return",Uf(this._delegate,t,Nd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(this.auth,xc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ld(this.auth,function(e,t,n){return uf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Dd(this.auth,function(e,t,n){return xf.apply(this,arguments)}(this._delegate,e,Nd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sd(is(this.auth));case 2:return e.abrupt("return",Mf(this._delegate,t,Nd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Wc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $c(Oa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $c(Oa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return lf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Qc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Hc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ud.USER_MAP=new WeakMap;var jd=Ho,Vd=function(){function e(t,n){if($i(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;jd(r,"invalid-api-key",{appName:t.name}),jd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Nd:void 0;this._delegate=n.initialize({options:{persistence:Bd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Lo),this.linkUnderlyingAuth()}return Ji(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ud.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){os(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Pc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Rc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(this._delegate,Mc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jd(gd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vf(this._delegate,Nd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Dd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){is(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=zd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=zd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Nc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Id(this._delegate,t),e.t0=t,e.next=e.t0===xd.SESSION?4:e.t0===xd.LOCAL?6:e.t0===xd.NONE?11:13;break;case 4:return n=pl,e.abrupt("break",14);case 6:return e.next=8,$o(Fl)._isAvailable();case 8:return r=e.sent,n=r?Fl:hl,e.abrupt("break",14);case 11:return n=zu,e.abrupt("break",14);case 13:return e.abrupt("return",Vo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Dd(this._delegate,function(e){return ic.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Dd(this._delegate,gc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Dd(this._delegate,function(e,t){return Sc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Dd(this._delegate,Uc(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Dd(this._delegate,function(e,t,n){return Vc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ld(this._delegate,function(e,t,n){return rf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jd(gd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Dd(this._delegate,wf(this._delegate,t,Nd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jd(gd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sd(this._delegate);case 3:return e.abrupt("return",Df(this._delegate,t,Nd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function zd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ud.getOrCreate(e))},error:t,complete:n}}function Bd(e,t){var n=function(e,t){var n=Cd();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Bu(Ed,e,t);switch(n.sessionStorage.getItem(r)){case xd.NONE:return[zu];case xd.LOCAL:return[Fl,pl];case xd.SESSION:return[pl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Fl)||n.push(Fl),"undefined"!==typeof window)for(var r=0,i=[hl,pl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(zu)||n.push(zu),n}Vd.Persistence=xd;var qd=function(){function e(){$i(this,e),this.providerId="phone",this._delegate=new ff(Rd(zh.auth()))}return Ji(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ff.credential(e,t)}}]),e}();qd.PHONE_SIGN_IN_METHOD=ff.PHONE_SIGN_IN_METHOD,qd.PROVIDER_ID=ff.PROVIDER_ID;var Wd,Hd=Ho,Kd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zh.app();$i(this,e),Hd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ef(t,n,i.auth()),this.type=this._delegate.type}return Ji(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Wd=zh).INTERNAL.registerComponent(new Pa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Vd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Co,PASSWORD_RESET:Ao,RECOVER_EMAIL:No,REVERT_SECOND_FACTOR_ADDITION:Ro,VERIFY_AND_CHANGE_EMAIL:Oo,VERIFY_EMAIL:Po}},EmailAuthProvider:Ws,FacebookAuthProvider:Qs,GithubAuthProvider:Ys,GoogleAuthProvider:$s,OAuthProvider:Gs,SAMLAuthProvider:Xs,PhoneAuthProvider:qd,PhoneMultiFactorGenerator:Eh,RecaptchaVerifier:Kd,TwitterAuthProvider:Zs,Auth:Vd,AuthCredential:cs,Error:ka}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Wd.registerVersion("@firebase/auth-compat","0.2.6");var Gd,Qd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$d={},Yd=Yd||{},Jd=Qd||self;function Xd(){}function Zd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ep(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tp="closure_uid_"+(1e9*Math.random()>>>0),np=0;function rp(e,t,n){return e.call.apply(e.bind,arguments)}function ip(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ap(e,t,n){return(ap=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rp:ip).apply(null,arguments)}function op(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function up(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function sp(){this.s=this.s,this.o=this.o}var cp={};sp.prototype.s=!1,sp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,tp)&&e[tp]||(e[tp]=++np)}(this);delete cp[e]}},sp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fp=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function hp(e){return Array.prototype.concat.apply([],arguments)}function dp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pp(e){return/^[\s\xa0]*$/.test(e)}var vp,mp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yp(e,t){return-1!=e.indexOf(t)}function gp(e,t){return e<t?-1:e>t?1:0}e:{var kp=Jd.navigator;if(kp){var wp=kp.userAgent;if(wp){vp=wp;break e}}vp=""}function bp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xp(e){var t={};for(var n in e)t[n]=e[n];return t}var _p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ep(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<_p.length;a++)n=_p[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ip(e){return Ip[" "](e),e}Ip[" "]=Xd;var Sp,Tp=yp(vp,"Opera"),Cp=yp(vp,"Trident")||yp(vp,"MSIE"),Ap=yp(vp,"Edge"),Np=Ap||Cp,Rp=yp(vp,"Gecko")&&!(yp(vp.toLowerCase(),"webkit")&&!yp(vp,"Edge"))&&!(yp(vp,"Trident")||yp(vp,"MSIE"))&&!yp(vp,"Edge"),Op=yp(vp.toLowerCase(),"webkit")&&!yp(vp,"Edge");function Pp(){var e=Jd.document;return e?e.documentMode:void 0}e:{var Dp="",Lp=function(){var e=vp;return Rp?/rv:([^\);]+)(\)|;)/.exec(e):Ap?/Edge\/([\d\.]+)/.exec(e):Cp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Op?/WebKit\/(\S+)/.exec(e):Tp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Lp&&(Dp=Lp?Lp[1]:""),Cp){var Mp=Pp();if(null!=Mp&&Mp>parseFloat(Dp)){Sp=String(Mp);break e}}Sp=Dp}var Fp,Up={};function jp(){return function(e){var t=Up;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=mp(String(Sp)).split("."),n=mp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=gp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||gp(0==a[2].length,0==o[2].length)||gp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Jd.document&&Cp){var Vp=Pp();Fp=Vp||(parseInt(Sp,10)||void 0)}else Fp=void 0;var zp=Fp,Bp=function(){if(!Jd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Jd.addEventListener("test",Xd,t),Jd.removeEventListener("test",Xd,t)}catch(n){}return e}();function qp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Wp(e,t){if(qp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rp){e:{try{Ip(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wp.Z.h.call(this)}}qp.prototype.h=function(){this.defaultPrevented=!0},up(Wp,qp);var Hp={2:"touch",3:"pen",4:"mouse"};Wp.prototype.h=function(){Wp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kp="closure_listenable_"+(1e6*Math.random()|0),Gp=0;function Qp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Gp,this.ca=this.fa=!1}function $p(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Yp(e){this.src=e,this.g={},this.h=0}function Jp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=lp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&($p(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Yp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Xp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Qp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Zp="closure_lm_"+(1e6*Math.random()|0),ev={};function tv(e,t,n,r,i){if(r&&r.once)return rv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)tv(e,t[a],n,r,i);return null}return n=lv(n),e&&e[Kp]?e.N(t,n,ep(r)?!!r.capture:!!r,i):nv(e,t,n,!1,r,i)}function nv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ep(i)?!!i.capture:!!i,u=sv(e);if(u||(e[Zp]=u=new Yp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=uv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ov(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rv(e,t[a],n,r,i);return null}return n=lv(n),e&&e[Kp]?e.O(t,n,ep(r)?!!r.capture:!!r,i):nv(e,t,n,!0,r,i)}function iv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)iv(e,t[a],n,r,i);else r=ep(r)?!!r.capture:!!r,n=lv(n),e&&e[Kp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xp(a=e.g[t],n,r,i))&&($p(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=sv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xp(t,n,r,i)),(n=-1<e?t[e]:null)&&av(n))}function av(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Kp])Jp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ov(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sv(t))?(Jp(n,e),0==n.h&&(n.src=null,t[Zp]=null)):$p(e)}}}function ov(e){return e in ev?ev[e]:ev[e]="on"+e}function uv(e,t){if(e.ca)e=!0;else{t=new Wp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&av(e),e=n.call(r,t)}return e}function sv(e){return(e=e[Zp])instanceof Yp?e:null}var cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function lv(e){return"function"===typeof e?e:(e[cv]||(e[cv]=function(t){return e.handleEvent(t)}),e[cv])}function fv(){sp.call(this),this.i=new Yp(this),this.P=this,this.I=null}function hv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new qp(t,e);else if(t instanceof qp)t.target=t.target||e;else{var i=t;Ep(t=new qp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=dv(o,r,!0,t)&&i}if(i=dv(o=t.g=e,r,!0,t)&&i,i=dv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=dv(o=t.g=n[a],r,!1,t)&&i}function dv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Jp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}up(fv,sp),fv.prototype[Kp]=!0,fv.prototype.removeEventListener=function(e,t,n,r){iv(this,e,t,n,r)},fv.prototype.M=function(){if(fv.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$p(n[r]);delete t.g[e],t.h--}}this.I=null},fv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pv=Jd.JSON.stringify;function vv(){var e=_v,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mv,yv=function(){function e(){$i(this,e),this.h=this.g=null}return Ji(e,[{key:"add",value:function(e,t){var n=gv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),gv=new(function(){function e(t,n){$i(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ji(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new kv}),(function(e){return e.reset()})),kv=function(){function e(){$i(this,e),this.next=this.g=this.h=null}return Ji(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wv(e){Jd.setTimeout((function(){throw e}),0)}function bv(e,t){mv||function(){var e=Jd.Promise.resolve(void 0);mv=function(){e.then(Ev)}}(),xv||(mv(),xv=!0),_v.add(e,t)}var xv=!1,_v=new yv;function Ev(){for(var e;e=vv();){try{e.h.call(e.g)}catch(n){wv(n)}var t=gv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xv=!1}function Iv(e,t){fv.call(this),this.h=e||1,this.g=t||Jd,this.j=ap(this.kb,this),this.l=Date.now()}function Sv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Tv(e,t,n){if("function"===typeof e)n&&(e=ap(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ap(e.handleEvent,e)}return 2147483647<Number(t)?-1:Jd.setTimeout(e,t||0)}function Cv(e){e.g=Tv((function(){e.g=null,e.i&&(e.i=!1,Cv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}up(Iv,fv),(Gd=Iv.prototype).da=!1,Gd.S=null,Gd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hv(this,"tick"),this.da&&(Sv(this),this.start()))}},Gd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gd.M=function(){Iv.Z.M.call(this),Sv(this),delete this.g};var Av=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ji(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Cv(this)}},{key:"M",value:function(){ji(Fi(n.prototype),"M",this).call(this),this.g&&(Jd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(sp);function Nv(e){sp.call(this),this.h=e,this.g={}}up(Nv,sp);var Rv=[];function Ov(e,t,n,r){Array.isArray(n)||(n&&(Rv[0]=n.toString()),n=Rv);for(var i=0;i<n.length;i++){var a=tv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Pv(e){bp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&av(e)}),e),e.g={}}function Dv(){this.g=!0}function Lv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return pv(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Nv.prototype.M=function(){Nv.Z.M.call(this),Pv(this)},Nv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dv.prototype.Aa=function(){this.g=!1},Dv.prototype.info=function(){};var Mv={},Fv=null;function Uv(){return Fv=Fv||new fv}function jv(e){qp.call(this,Mv.Ma,e)}function Vv(e){var t=Uv();hv(t,new jv(t,e))}function zv(e,t){qp.call(this,Mv.STAT_EVENT,e),this.stat=t}function Bv(e){var t=Uv();hv(t,new zv(t,e))}function qv(e,t){qp.call(this,Mv.Na,e),this.size=t}function Wv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Jd.setTimeout((function(){e()}),t)}Mv.Ma="serverreachability",up(jv,qp),Mv.STAT_EVENT="statevent",up(zv,qp),Mv.Na="timingevent",up(qv,qp);var Hv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Kv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gv(){}function Qv(e){return e.h||(e.h=e.i())}function $v(){}Gv.prototype.h=null;var Yv,Jv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xv(){qp.call(this,"d")}function Zv(){qp.call(this,"c")}function em(){}function tm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Nv(this),this.P=rm,e=Np?125:void 0,this.W=new Iv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nm}function nm(){this.i=null,this.g="",this.h=!1}up(Xv,qp),up(Zv,qp),up(em,Gv),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},Yv=new em;var rm=45e3,im={},am={};function om(e,t,n){e.K=1,e.v=Am(_m(t)),e.s=n,e.U=!0,um(e,null)}function um(e,t){e.F=Date.now(),fm(e),e.A=_m(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Bm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new nm,e.g=Wy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Av(ap(e.Ia,e,e.g),e.O)),Ov(e.V,e.g,"readystatechange",e.gb),t=e.H?xp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function sm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function cm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=lm(e,n))==am){4==t&&(e.o=4,Bv(14),i=!1),Lv(e.j,e.m,null,"[Incomplete Response]");break}if(r==im){e.o=4,Bv(15),Lv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lv(e.j,e.m,r,null),mm(e,r)}sm(e)&&r!=am&&r!=im&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),My(t),t.L=!0,Bv(11))):(Lv(e.j,e.m,n,"[Invalid Chunked Response]"),vm(e),pm(e))}function lm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?am:(n=Number(t.substring(n,r)),isNaN(n)?im:(r+=1)+n>t.length?am:(t=t.substr(r,n),e.C=r+n,t))}function fm(e){e.Y=Date.now()+e.P,hm(e,e.P)}function hm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wv(ap(e.eb,e),t)}function dm(e){e.B&&(Jd.clearTimeout(e.B),e.B=null)}function pm(e){0==e.l.G||e.I||jy(e.l,e)}function vm(e){dm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sv(e.W),Pv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ym(n.i,e)))if(n.I=e.N,!e.J&&Ym(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Uy(n),Ty(n)}Ly(n),Bv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wv(ap(n.ab,n),6e3));if(1>=$m(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else zy(n,11)}else if((e.J||n.g==e)&&Uy(n),!pp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(yp(l,"spdy")||yp(l,"quic")||yp(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Jm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Cm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=qy(r,r.H?r.la:null,r.W),d.J){Xm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(dm(p),fm(p)),r.g=d}else Dy(r);0<n.l.length&&Ny(n)}else"stop"!=a[0]&&"close"!=a[0]||zy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zy(n,7):Sy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Vv(4)}catch(a){}}function ym(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zd(e)||"string"===typeof e)fp(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Zd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Zd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function gm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof gm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function km(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)wm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function wm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Gd=tm.prototype).setTimeout=function(e){this.P=e},Gd.gb=function(e){e=e.target;var t=this.L;t&&3==by(e)?t.l():this.Ia(e)},Gd.Ia=function(e){try{if(e==this.g)e:{var t=by(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Np||this.g&&(this.h.h||this.g.ga()||xy(this.g)))){this.I||4!=t||7==n||Vv(8==n||0>=r?3:2),dm(this);var i=this.g.ba();this.N=i;t:if(sm(this)){var a=xy(this.g);e="";var o=a.length,u=4==by(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vm(this),pm(this);var s="";break t}this.h.i=new Jd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pp(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Bv(12),vm(this),pm(this);break e}Lv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mm(this,i)}this.U?(cm(this,t,s),Np&&this.i&&3==t&&(Ov(this.V,this.W,"tick",this.fb),this.W.start())):(Lv(this.j,this.m,s,null),mm(this,s)),4==t&&vm(this),this.i&&!this.I&&(4==t?jy(this.l,this):(this.i=!1,fm(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Bv(12)):(this.o=0,Bv(13)),vm(this),pm(this)}}}catch(t){}},Gd.fb=function(){if(this.g){var e=by(this.g),t=this.g.ga();this.C<t.length&&(dm(this),cm(this,e,t),this.i&&4!=e&&fm(this))}},Gd.cancel=function(){this.I=!0,vm(this)},Gd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vv(3),Bv(17)),vm(this),this.o=2,pm(this)):hm(this,this.Y-e)},(Gd=gm.prototype).R=function(){km(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Gd.T=function(){return km(this),this.g.concat()},Gd.get=function(e,t){return wm(this.h,e)?this.h[e]:t},Gd.set=function(e,t){wm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Gd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var bm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xm){this.g=void 0!==t?t:e.g,Em(this,e.j),this.s=e.s,Im(this,e.i),Sm(this,e.m),this.l=e.l,t=e.h;var n=new Um;n.i=t.i,t.g&&(n.g=new gm(t.g),n.h=t.h),Tm(this,n),this.o=e.o}else e&&(n=String(e).match(bm))?(this.g=!!t,Em(this,n[1]||"",!0),this.s=Nm(n[2]||""),Im(this,n[3]||"",!0),Sm(this,n[4]),this.l=Nm(n[5]||"",!0),Tm(this,n[6]||"",!0),this.o=Nm(n[7]||"")):(this.g=!!t,this.h=new Um(null,this.g))}function _m(e){return new xm(e)}function Em(e,t,n){e.j=n?Nm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Im(e,t,n){e.i=n?Nm(t,!0):t}function Sm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tm(e,t,n){t instanceof Um?(e.h=t,function(e,t){t&&!e.j&&(jm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vm(this,t),Bm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Rm(t,Mm)),e.h=new Um(t,e.g))}function Cm(e,t,n){e.h.set(t,n)}function Am(e){return Cm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Om),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Om(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rm(t,Pm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rm(t,Pm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rm(n,"/"==n.charAt(0)?Lm:Dm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rm(n,Fm)),e.join("")};var Pm=/[#\/\?@]/g,Dm=/[#\?:]/g,Lm=/[#\?]/g,Mm=/[#\?@]/g,Fm=/#/g;function Um(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jm(e){e.g||(e.g=new gm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vm(e,t){jm(e),t=qm(e,t),wm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,wm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&km(e)))}function zm(e,t){return jm(e),t=qm(e,t),wm(e.g.h,t)}function Bm(e,t,n){Vm(e,t),0<n.length&&(e.i=null,e.g.set(qm(e,t),dp(n)),e.h+=n.length)}function qm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Gd=Um.prototype).add=function(e,t){jm(this),this.i=null,e=qm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Gd.forEach=function(e,t){jm(this),this.g.forEach((function(n,r){fp(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Gd.T=function(){jm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Gd.R=function(e){jm(this);var t=[];if("string"===typeof e)zm(this,e)&&(t=hp(t,this.g.get(qm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hp(t,e[n])}return t},Gd.set=function(e,t){return jm(this),this.i=null,zm(this,e=qm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Gd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Gd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Wm=Ji((function e(t,n){$i(this,e),this.h=t,this.g=n}));function Hm(e){this.l=e||Gm,Jd.PerformanceNavigationTiming?e=0<(e=Jd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Jd.g&&Jd.g.Ea&&Jd.g.Ea()&&Jd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Km,Gm=10;function Qm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $m(e){return e.h?1:e.g?e.g.size:0}function Ym(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jm(e,t){e.g?e.g.add(t):e.h=t}function Xm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ki(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dp(e.i)}function ey(){}function ty(){this.g=new ey}function ny(e,t,n){var r=n||"";try{ym(e,(function(e,n){var i=e;ep(e)&&(i=pv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ry(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function iy(e){this.l=e.$b||null,this.j=e.ib||!1}function ay(e,t){fv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hm.prototype.cancel=function(){if(this.i=Zm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ki(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ey.prototype.stringify=function(e){return Jd.JSON.stringify(e,void 0)},ey.prototype.parse=function(e){return Jd.JSON.parse(e,void 0)},up(iy,Gv),iy.prototype.g=function(){return new ay(this.l,this.j)},iy.prototype.i=(Km={},function(){return Km}),up(ay,fv);var oy=0;function uy(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function sy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,cy(e)}function cy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Gd=ay.prototype).open=function(e,t){if(this.readyState!=oy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,cy(this)},Gd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Jd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Gd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sy(this)),this.readyState=oy},Gd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,cy(this)),this.g&&(this.readyState=3,cy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Jd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uy(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Gd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sy(this):cy(this),3==this.readyState&&uy(this)}},Gd.Ua=function(e){this.g&&(this.response=this.responseText=e,sy(this))},Gd.Ta=function(e){this.g&&(this.response=e,sy(this))},Gd.ha=function(){this.g&&sy(this)},Gd.setRequestHeader=function(e,t){this.v.append(e,t)},Gd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Gd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ay.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ly=Jd.JSON.parse;function fy(e){fv.call(this),this.headers=new gm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hy,this.K=this.L=!1}up(fy,fv);var hy="",dy=/^https?$/i,py=["POST","PUT"];function vy(e){return"content-type"==e.toLowerCase()}function my(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yy(e),ky(e)}function yy(e){e.D||(e.D=!0,hv(e,"complete"),hv(e,"error"))}function gy(e){if(e.h&&"undefined"!=typeof Yd&&(!e.C[1]||4!=by(e)||2!=e.ba()))if(e.v&&4==by(e))Tv(e.Fa,0,e);else if(hv(e,"readystatechange"),4==by(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(bm)[1]||null;if(!a&&Jd.self&&Jd.self.location){var o=Jd.self.location.protocol;a=o.substr(0,o.length-1)}i=!dy.test(a?a.toLowerCase():"")}t=i}if(t)hv(e,"complete"),hv(e,"success");else{e.m=6;try{var u=2<by(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",yy(e)}}finally{ky(e)}}}function ky(e,t){if(e.g){wy(e);var n=e.g,r=e.C[0]?Xd:null;e.g=null,e.C=null,t||hv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function wy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Jd.clearTimeout(e.A),e.A=null)}function by(e){return e.g?e.g.readyState:0}function xy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case hy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Le){return null}}function _y(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Cm(e,t,n))}function Ey(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Iy(e){this.za=0,this.l=[],this.h=new Dv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ey("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ey("baseRetryDelayMs",5e3,e),this.$a=Ey("retryDelaySeedMs",1e4,e),this.Ya=Ey("forwardChannelMaxRetries",2,e),this.ra=Ey("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Hm(e&&e.concurrentRequestLimit),this.Ca=new ty,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Sy(e){if(Cy(e),3==e.G){var t=e.V++,n=_m(e.F);Cm(n,"SID",e.J),Cm(n,"RID",t),Cm(n,"TYPE","terminate"),Oy(e,n),(t=new tm(e,e.h,t,void 0)).K=2,t.v=Am(_m(n)),n=!1,Jd.navigator&&Jd.navigator.sendBeacon&&(n=Jd.navigator.sendBeacon(t.v.toString(),"")),!n&&Jd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fm(t)}By(e)}function Ty(e){e.g&&(My(e),e.g.cancel(),e.g=null)}function Cy(e){Ty(e),e.u&&(Jd.clearTimeout(e.u),e.u=null),Uy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Jd.clearTimeout(e.m),e.m=null)}function Ay(e,t){e.l.push(new Wm(e.Za++,t)),3==e.G&&Ny(e)}function Ny(e){Qm(e.i)||e.m||(e.m=!0,bv(e.Ha,e),e.C=0)}function Ry(e,t){var n;n=t?t.m:e.V++;var r=_m(e.F);Cm(r,"SID",e.J),Cm(r,"RID",n),Cm(r,"AID",e.U),Oy(e,r),e.o&&e.s&&_y(r,e.o,e.s),n=new tm(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Py(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Jm(e.i,n),om(n,r,t)}function Oy(e,t){e.j&&ym({},(function(e,n){Cm(t,n,e)}))}function Py(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ap(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ny(l,o,"req"+c+"_")}catch(Ye){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Dy(e){e.g||e.u||(e.Y=1,bv(e.Ga,e),e.A=0)}function Ly(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wv(ap(e.Ga,e),Vy(e,e.A)),e.A++,!0)}function My(e){null!=e.B&&(Jd.clearTimeout(e.B),e.B=null)}function Fy(e){e.g=new tm(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=_m(e.oa);Cm(t,"RID","rpc"),Cm(t,"SID",e.J),Cm(t,"CI",e.N?"0":"1"),Cm(t,"AID",e.U),Oy(e,t),Cm(t,"TYPE","xmlhttp"),e.o&&e.s&&_y(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Am(_m(t)),n.s=null,n.U=!0,um(n,e)}function Uy(e){null!=e.v&&(Jd.clearTimeout(e.v),e.v=null)}function jy(e,t){var n=null;if(e.g==t){Uy(e),My(e),e.g=null;var r=2}else{if(!Ym(e.i,t))return;n=t.D,Xm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hv(r=Uv(),new qv(r,n,t,i)),Ny(e)}else Dy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!($m(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wv(ap(e.Ha,e,t),Vy(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ly(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zy(e,5);break;case 4:zy(e,10);break;case 3:zy(e,6);break;default:zy(e,2)}}function Vy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ap(e.jb,e);n||(n=new xm("//www.google.com/images/cleardot.gif"),Jd.location&&"http"==Jd.location.protocol||Em(n,"https"),Am(n)),function(e,t){var n=new Dv;if(Jd.Image){var r=new Image;r.onload=op(ry,n,r,"TestLoadImage: loaded",!0,t),r.onerror=op(ry,n,r,"TestLoadImage: error",!1,t),r.onabort=op(ry,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=op(ry,n,r,"TestLoadImage: timeout",!1,t),Jd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bv(2);e.G=0,e.j&&e.j.va(t),By(e),Cy(e)}function By(e){e.G=0,e.I=-1,e.j&&(0==Zm(e.i).length&&0==e.l.length||(e.i.i.length=0,dp(e.l),e.l.length=0),e.j.ua())}function qy(e,t,n){var r=function(e){return e instanceof xm?_m(e):new xm(e,void 0)}(n);if(""!=r.i)t&&Im(r,t+"."+r.i),Sm(r,r.m);else{var i=Jd.location;r=function(e,t,n,r){var i=new xm(null,void 0);return e&&Em(i,e),t&&Im(i,t),n&&Sm(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bp(e.aa,(function(e,t){Cm(r,t,e)})),t=e.D,n=e.sa,t&&n&&Cm(r,t,n),Cm(r,"VER",e.ma),Oy(e,r),r}function Wy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new fy(new iy({ib:!0})):new fy(e.qa)).L=e.H,t}function Hy(){}function Ky(){if(Cp&&!(10<=Number(zp)))throw Error("Environmental error: no available transport.")}function Gy(e,t){fv.call(this),this.g=new Iy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yy(this)}function Qy(e){Xv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $y(){Zv.call(this),this.status=1}function Yy(e){this.g=e}(Gd=fy.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yv.g(),this.C=this.u?Qv(this.u):Qv(Yv),this.g.onreadystatechange=ap(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void my(this,a)}e=n||"";var i=new gm(this.headers);r&&ym(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=vy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Jd.FormData&&e instanceof Jd.FormData,!(0<=lp(py,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wy(this),0<this.B&&((this.K=function(e){return Cp&&jp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ap(this.pa,this)):this.A=Tv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){my(this,a)}},Gd.pa=function(){"undefined"!=typeof Yd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hv(this,"timeout"),this.abort(8))},Gd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hv(this,"complete"),hv(this,"abort"),ky(this))},Gd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ky(this,!0)),fy.Z.M.call(this)},Gd.Fa=function(){this.s||(this.F||this.v||this.l?gy(this):this.cb())},Gd.cb=function(){gy(this)},Gd.ba=function(){try{return 2<by(this)?this.g.status:-1}catch(Km){return-1}},Gd.ga=function(){try{return this.g?this.g.responseText:""}catch(Km){return""}},Gd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ly(t)}},Gd.Da=function(){return this.m},Gd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Gd=Iy.prototype).ma=8,Gd.G=1,Gd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Le){}},Gd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new tm(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ep(n=xp(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Py(this,t,r),Cm(i=_m(this.F),"RID",e),Cm(i,"CVER",22),this.D&&Cm(i,"X-HTTP-Session-Id",this.D),Oy(this,i),this.o&&n&&_y(i,this.o,n),Jm(this.i,t),this.Ra&&Cm(i,"TYPE","init"),this.ja?(Cm(i,"$req",r),Cm(i,"SID","null"),t.$=!0,om(t,i,null)):om(t,i,r),this.G=2}}else 3==this.G&&(e?Ry(this,e):0==this.l.length||Qm(this.i)||Ry(this))},Gd.Ga=function(){if(this.u=null,Fy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wv(ap(this.bb,this),e)}},Gd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bv(10),Ty(this),Fy(this))},Gd.ab=function(){null!=this.v&&(this.v=null,Ty(this),Ly(this),Bv(19))},Gd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bv(2)):(this.h.info("Failed to ping google.com"),Bv(1))},(Gd=Hy.prototype).xa=function(){},Gd.wa=function(){},Gd.va=function(){},Gd.ua=function(){},Gd.Oa=function(){},Ky.prototype.g=function(e,t){return new Gy(e,t)},up(Gy,fv),Gy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),bv(ap(e.hb,e,t))),Bv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=qy(e,null,e.W),Ny(e)},Gy.prototype.close=function(){Sy(this.g)},Gy.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ay(this.g,t)}else this.v?((t={}).__data__=pv(e),Ay(this.g,t)):Ay(this.g,e)},Gy.prototype.M=function(){this.g.j=null,delete this.j,Sy(this.g),delete this.g,Gy.Z.M.call(this)},up(Qy,Xv),up($y,Zv),up(Yy,Hy),Yy.prototype.xa=function(){hv(this.g,"a")},Yy.prototype.wa=function(e){hv(this.g,new Qy(e))},Yy.prototype.va=function(e){hv(this.g,new $y(e))},Yy.prototype.ua=function(){hv(this.g,"b")},Ky.prototype.createWebChannel=Ky.prototype.g,Gy.prototype.send=Gy.prototype.u,Gy.prototype.open=Gy.prototype.m,Gy.prototype.close=Gy.prototype.close,Hv.NO_ERROR=0,Hv.TIMEOUT=8,Hv.HTTP_ERROR=6,Kv.COMPLETE="complete",$v.EventType=Jv,Jv.OPEN="a",Jv.CLOSE="b",Jv.ERROR="c",Jv.MESSAGE="d",fv.prototype.listen=fv.prototype.N,fy.prototype.listenOnce=fy.prototype.O,fy.prototype.getLastError=fy.prototype.La,fy.prototype.getLastErrorCode=fy.prototype.Da,fy.prototype.getStatus=fy.prototype.ba,fy.prototype.getResponseJson=fy.prototype.Qa,fy.prototype.getResponseText=fy.prototype.ga,fy.prototype.send=fy.prototype.ea;var Jy=$d.createWebChannelTransport=function(){return new Ky},Xy=$d.getStatEventTarget=function(){return Uv()},Zy=$d.ErrorCode=Hv,eg=$d.EventType=Kv,tg=$d.Event=Mv,ng=$d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rg=$d.FetchXmlHttpFactory=iy,ig=$d.WebChannel=$v,ag=$d.XhrIo=fy,og="@firebase/firestore",ug=function(){function e(t){$i(this,e),this.uid=t}return Ji(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ug.UNAUTHENTICATED=new ug(null),ug.GOOGLE_CREDENTIALS=new ug("google-credentials-uid"),ug.FIRST_PARTY=new ug("first-party-uid"),ug.MOCK_USER=new ug("mock-user");var sg="9.6.3",cg=new Ka("@firebase/firestore");function lg(){return cg.logLevel}function fg(e){if(cg.logLevel<=Fa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pg);cg.debug.apply(cg,["Firestore (".concat(sg,"): ").concat(e)].concat(Zi(i)))}}function hg(e){if(cg.logLevel<=Fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pg);cg.error.apply(cg,["Firestore (".concat(sg,"): ").concat(e)].concat(Zi(i)))}}function dg(e){if(cg.logLevel<=Fa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pg);cg.warn.apply(cg,["Firestore (".concat(sg,"): ").concat(e)].concat(Zi(i)))}}function pg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sg,") INTERNAL ASSERTION FAILED: ")+e;throw hg(t),new Error(t)}function mg(e,t){e||vg()}function yg(e,t){return e}var gg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kg=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ji(n)}(ka),wg=Ji((function e(){var t=this;$i(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bg=Ji((function e(t,n){$i(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xg=function(){function e(){$i(this,e)}return Ji(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ug.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_g=function(){function e(t){$i(this,e),this.token=t,this.changeListener=null}return Ji(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Eg=function(){function e(t){$i(this,e),this.t=t,this.currentUser=ug.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ji(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){fg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(fg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mg("string"==typeof n.accessToken),new bg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mg(null===e||"string"==typeof e),new ug(e)}}]),e}(),Ig=Ji((function e(t,n,r){$i(this,e),this.type="FirstParty",this.user=ug.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Sg=function(){function e(t,n,r){$i(this,e),this.h=t,this.l=n,this.m=r}return Ji(e,[{key:"getToken",value:function(){return Promise.resolve(new Ig(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ug.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tg=Ji((function e(t){$i(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cg=function(){function e(t){$i(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Ji(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&fg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){fg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):fg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(mg("string"==typeof e.token),new Tg(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ag=function(){function e(t,n){var r=this;$i(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ji(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ng(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ag.I=-1;var Rg=function(){function e(){$i(this,e)}return Ji(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ng(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Og(e,t){return e<t?-1:e>t?1:0}function Pg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Dg(e){return e+"\0"}var Lg=function(){function e(t,n){if($i(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new kg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new kg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ji(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Og(this.nanoseconds,e.nanoseconds):Og(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Mg=function(){function e(t){$i(this,e),this.timestamp=t}return Ji(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Lg(0,0))}}]),e}();function Fg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ug(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Vg=function(){function e(t,n,r){$i(this,e),void 0===n?n=0:n>t.length&&vg(),void 0===r?r=t.length-n:r>t.length-n&&vg(),this.segments=t,this.offset=n,this.len=r}return Ji(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zg=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new kg(gg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Zi(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vg),Bg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qg=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new kg(gg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new kg(gg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new kg(gg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new kg(gg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vg),Wg=function(){function e(t){$i(this,e),this.fields=t,t.sort(qg.comparator)}return Ji(e,[{key:"covers",value:function(e){var t,n=Ki(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Pg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Hg=function(e){function t(e){$i(this,t),this.binaryString=e}return Ji(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Og(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Hg.EMPTY_BYTE_STRING=new Hg("");var Kg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gg(e){if(mg(!!e),"string"==typeof e){var t=0,n=Kg.exec(e);if(mg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qg(e.seconds),nanos:Qg(e.nanos)}}function Qg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $g(e){return"string"==typeof e?Hg.fromBase64String(e):Hg.fromUint8Array(e)}function Yg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jg(e){var t=e.mapValue.fields.__previous_value__;return Yg(t)?Jg(t):t}function Xg(e){var t=Gg(e.mapValue.fields.__local_write_time__.timestampValue);return new Lg(t.seconds,t.nanos)}function Zg(e){return null==e}function ek(e){return 0===e&&1/e==-1/0}function tk(e){return"number"==typeof e&&Number.isInteger(e)&&!ek(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var nk=function(){function e(t){$i(this,e),this.path=t}return Ji(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===zg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zg.fromString(t))}},{key:"fromName",value:function(t){return new e(zg.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return zg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zg(t.slice()))}}]),e}();function rk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yg(e)?4:10:vg()}function ik(e,t){if(e===t)return!0;var n=rk(e);if(n!==rk(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xg(e).isEqual(Xg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gg(e.timestampValue),r=Gg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $g(e.bytesValue).isEqual($g(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qg(e.geoPointValue.latitude)===Qg(t.geoPointValue.latitude)&&Qg(e.geoPointValue.longitude)===Qg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qg(e.integerValue)===Qg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Qg(e.doubleValue),r=Qg(t.doubleValue);return n===r?ek(n)===ek(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pg(e.arrayValue.values||[],t.arrayValue.values||[],ik);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fg(n)!==Fg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ik(n[i],r[i])))return!1;return!0}(e,t);default:return vg()}}function ak(e,t){return void 0!==(e.values||[]).find((function(e){return ik(e,t)}))}function ok(e,t){if(e===t)return 0;var n=rk(e),r=rk(t);if(n!==r)return Og(n,r);switch(n){case 0:return 0;case 1:return Og(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Qg(e.integerValue||e.doubleValue),r=Qg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return uk(e.timestampValue,t.timestampValue);case 4:return uk(Xg(e),Xg(t));case 5:return Og(e.stringValue,t.stringValue);case 6:return function(e,t){var n=$g(e),r=$g(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Og(n[i],r[i]);if(0!==a)return a}return Og(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Og(Qg(e.latitude),Qg(t.latitude));return 0!==n?n:Og(Qg(e.longitude),Qg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ok(n[i],r[i]);if(a)return a}return Og(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Og(r[o],a[o]);if(0!==u)return u;var s=ok(n[r[o]],i[a[o]]);if(0!==s)return s}return Og(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vg()}}function uk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Og(e,t);var n=Gg(e),r=Gg(t),i=Og(n.seconds,r.seconds);return 0!==i?i:Og(n.nanos,r.nanos)}function sk(e){return ck(e)}function ck(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Gg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$g(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,nk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ki(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ck(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ki(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ck(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vg();var t,n}function lk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fk(e){return!!e&&"integerValue"in e}function hk(e){return!!e&&"arrayValue"in e}function dk(e){return!!e&&"nullValue"in e}function pk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vk(e){return!!e&&"mapValue"in e}function mk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ug(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mk(e.arrayValue.values[r]);return n}return Object.assign({},e)}var yk=function(){function e(t){$i(this,e),this.value=t}return Ji(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mk(t)}},{key:"setAll",value:function(e){var t=this,n=qg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ik(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ug(t,(function(t,n){return e[t]=n}));var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gk(e){var t=[];return Ug(e.fields,(function(e,n){var r=new qg([e]);if(vk(n)){var i=gk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ki(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Wg(t)}var kk=function(){function e(t,n,r,i,a){$i(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Ji(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=yk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=yk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Mg.min(),yk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yk.empty(),2)}}]),e}(),wk=Ji((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;$i(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function bk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new wk(e,t,n,r,i,a,o)}function xk(e){var t=yg(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+sk(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Zg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Lk(t.startAt)),t.endAt&&(n+="|ub:",n+=Lk(t.endAt)),t.R=n}return t.R}function _k(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Fk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ik(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jk(e.startAt,t.startAt)&&jk(e.endAt,t.endAt)}function Ek(e){return nk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ik=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ji(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ok(t,this.value)):null!==t&&rk(this.value)===rk(t)&&this.v(ok(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vg()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Sk(e,t,r):"array-contains"===t?new Nk(e,r):"in"===t?new Rk(e,r):"not-in"===t?new Ok(e,r):"array-contains-any"===t?new Pk(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Tk(e,n):new Ck(e,n)}}]),n}(function(){return Ji((function e(){$i(this,e)}))}());var Sk=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this,e,r,i)).key=nk.fromName(i.referenceValue),a}return Ji(n,[{key:"matches",value:function(e){var t=nk.comparator(e.key,this.key);return this.v(t)}}]),n}(Ik),Tk=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,"in",r)).keys=Ak("in",r),i}return Ji(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ik),Ck=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,"not-in",r)).keys=Ak("not-in",r),i}return Ji(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ik);function Ak(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return nk.fromName(e.referenceValue)}))}var Nk=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"array-contains",r)}return Ji(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hk(t)&&ak(t.arrayValue,this.value)}}]),n}(Ik),Rk=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"in",r)}return Ji(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ak(this.value.arrayValue,t)}}]),n}(Ik),Ok=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"not-in",r)}return Ji(n,[{key:"matches",value:function(e){if(ak(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ak(this.value.arrayValue,t)}}]),n}(Ik),Pk=function(e){zi(n,e);var t=Hi(n);function n(e,r){return $i(this,n),t.call(this,e,"array-contains-any",r)}return Ji(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ak(t.value.arrayValue,e)}))}}]),n}(Ik),Dk=Ji((function e(t,n){$i(this,e),this.position=t,this.before=n}));function Lk(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return sk(e)})).join(","))}var Mk=Ji((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";$i(this,e),this.field=t,this.dir=n}));function Fk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Uk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?nk.comparator(nk.fromName(o.referenceValue),n.key):ok(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function jk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ik(e.position[n],t.position[n]))return!1;return!0}var Vk=Ji((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;$i(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function zk(e,t,n,r,i,a,o,u){return new Vk(e,t,n,r,i,a,o,u)}function Bk(e){return new Vk(e)}function qk(e){return!Zg(e.limit)&&"F"===e.limitType}function Wk(e){return!Zg(e.limit)&&"L"===e.limitType}function Hk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kk(e){var t,n=Ki(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Gk(e){return null!==e.collectionGroup}function Qk(e){var t=yg(e);if(null===t.S){t.S=[];var n=Kk(t),r=Hk(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Mk(n)),t.S.push(new Mk(qg.keyField(),"asc"));else{var i,a=!1,o=Ki(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Mk(qg.keyField(),s))}}}return t.S}function $k(e){var t=yg(e);if(!t.D)if("F"===t.limitType)t.D=bk(t.path,t.collectionGroup,Qk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ki(Qk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Mk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Dk(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Dk(t.startAt.position,!t.startAt.before):null;t.D=bk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function Yk(e,t,n){return new Vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jk(e,t){return _k($k(e),$k(t))&&e.limitType===t.limitType}function Xk(e){return"".concat(xk($k(e)),"|lt:").concat(e.limitType)}function Zk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(sk(t.value));var t})).join(", "),"]")),Zg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Lk(e.startAt)),e.endAt&&(t+=", endAt: "+Lk(e.endAt)),"Target(".concat(t,")")}($k(e)),"; limitType=").concat(e.limitType,")")}function ew(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ki(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ki(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Uk(e.startAt,Qk(e),t))&&(!e.endAt||!Uk(e.endAt,Qk(e),t))}(e,t)}function tw(e){return function(t,n){var r,i=!1,a=Ki(Qk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nw(e,t,n){var r=e.field.isKeyField()?nk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ok(r,i):vg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vg()}}function rw(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ek(t)?"-0":t}}function iw(e){return{integerValue:""+e}}function aw(e,t){return tk(t)?iw(t):rw(e,t)}var ow=Ji((function e(){$i(this,e),this._=void 0}));function uw(e,t,n){return e instanceof lw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fw?hw(e,t):e instanceof dw?pw(e,t):function(e,t){var n=cw(e,t),r=mw(n)+mw(e.N);return fk(n)&&fk(e.N)?iw(r):rw(e.k,r)}(e,t)}function sw(e,t,n){return e instanceof fw?hw(e,t):e instanceof dw?pw(e,t):n}function cw(e,t){return e instanceof vw?fk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var lw=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n)}(ow),fw=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).elements=e,r}return Ji(n)}(ow);function hw(e,t){var n,r=yw(t),i=Ki(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ik(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dw=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).elements=e,r}return Ji(n)}(ow);function pw(e,t){var n,r=yw(t),i=Ki(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ik(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vw=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).k=e,i.N=r,i}return Ji(n)}(ow);function mw(e){return Qg(e.integerValue||e.doubleValue)}function yw(e){return hk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gw=Ji((function e(t,n){$i(this,e),this.field=t,this.transform=n}));var kw=Ji((function e(t,n){$i(this,e),this.version=t,this.transformResults=n})),ww=function(){function e(t,n){$i(this,e),this.updateTime=t,this.exists=n}return Ji(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function bw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xw=Ji((function e(){$i(this,e)}));function _w(e,t,n){e instanceof Cw?function(e,t,n){var r=e.value.clone(),i=Rw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Aw?function(e,t,n){if(bw(e.precondition,t)){var r=Rw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ew(e,t,n){e instanceof Cw?function(e,t,n){if(bw(e.precondition,t)){var r=e.value.clone(),i=Ow(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Tw(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Aw?function(e,t,n){if(bw(e.precondition,t)){var r=Ow(e.fieldTransforms,n,t),i=t.data;i.setAll(Nw(e)),i.setAll(r),t.convertToFoundDocument(Tw(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){bw(e.precondition,t)&&t.convertToNoDocument(Mg.min())}(e,t)}function Iw(e,t){var n,r=null,i=Ki(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=cw(a.transform,o||null);null!=u&&(null==r&&(r=yk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Sw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fw&&t instanceof fw||e instanceof dw&&t instanceof dw?Pg(e.elements,t.elements,ik):e instanceof vw&&t instanceof vw?ik(e.N,t.N):e instanceof lw&&t instanceof lw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Tw(e){return e.isFoundDocument()?e.version:Mg.min()}var Cw=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return $i(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ji(n)}(xw),Aw=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return $i(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ji(n)}(xw);function Nw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rw(e,t,n){var r=new Map;mg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,sw(o,u,n[i]))}return r}function Ow(e,t,n){var r,i=new Map,a=Ki(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,uw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Pw,Dw,Lw=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ji(n)}(xw),Mw=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ji(n)}(xw),Fw=Ji((function e(t){$i(this,e),this.count=t}));function Uw(e){switch(e){default:return vg();case gg.CANCELLED:case gg.UNKNOWN:case gg.DEADLINE_EXCEEDED:case gg.RESOURCE_EXHAUSTED:case gg.INTERNAL:case gg.UNAVAILABLE:case gg.UNAUTHENTICATED:return!1;case gg.INVALID_ARGUMENT:case gg.NOT_FOUND:case gg.ALREADY_EXISTS:case gg.PERMISSION_DENIED:case gg.FAILED_PRECONDITION:case gg.ABORTED:case gg.OUT_OF_RANGE:case gg.UNIMPLEMENTED:case gg.DATA_LOSS:return!0}}function jw(e){if(void 0===e)return hg("GRPC error has no .code"),gg.UNKNOWN;switch(e){case Pw.OK:return gg.OK;case Pw.CANCELLED:return gg.CANCELLED;case Pw.UNKNOWN:return gg.UNKNOWN;case Pw.DEADLINE_EXCEEDED:return gg.DEADLINE_EXCEEDED;case Pw.RESOURCE_EXHAUSTED:return gg.RESOURCE_EXHAUSTED;case Pw.INTERNAL:return gg.INTERNAL;case Pw.UNAVAILABLE:return gg.UNAVAILABLE;case Pw.UNAUTHENTICATED:return gg.UNAUTHENTICATED;case Pw.INVALID_ARGUMENT:return gg.INVALID_ARGUMENT;case Pw.NOT_FOUND:return gg.NOT_FOUND;case Pw.ALREADY_EXISTS:return gg.ALREADY_EXISTS;case Pw.PERMISSION_DENIED:return gg.PERMISSION_DENIED;case Pw.FAILED_PRECONDITION:return gg.FAILED_PRECONDITION;case Pw.ABORTED:return gg.ABORTED;case Pw.OUT_OF_RANGE:return gg.OUT_OF_RANGE;case Pw.UNIMPLEMENTED:return gg.UNIMPLEMENTED;case Pw.DATA_LOSS:return gg.DATA_LOSS;default:return vg()}}(Dw=Pw||(Pw={}))[Dw.OK=0]="OK",Dw[Dw.CANCELLED=1]="CANCELLED",Dw[Dw.UNKNOWN=2]="UNKNOWN",Dw[Dw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dw[Dw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dw[Dw.NOT_FOUND=5]="NOT_FOUND",Dw[Dw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dw[Dw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dw[Dw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dw[Dw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dw[Dw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dw[Dw.ABORTED=10]="ABORTED",Dw[Dw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dw[Dw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dw[Dw.INTERNAL=13]="INTERNAL",Dw[Dw.UNAVAILABLE=14]="UNAVAILABLE",Dw[Dw.DATA_LOSS=15]="DATA_LOSS";var Vw=function(){function e(t,n){$i(this,e),this.comparator=t,this.root=n||Bw.EMPTY}return Ji(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zw(this.root,e,this.comparator,!0)}}]),e}(),zw=function(){function e(t,n,r,i){$i(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ji(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bw=function(){function e(t,n,r,i,a){$i(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ji(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vg();if(this.right.isRed())throw vg();var e=this.left.check();if(e!==this.right.check())throw vg();return e+(this.isRed()?0:1)}}]),e}();Bw.EMPTY=null,Bw.RED=!0,Bw.BLACK=!1,Bw.EMPTY=new(function(){function e(){$i(this,e),this.size=0}return Ji(e,[{key:"key",get:function(){throw vg()}},{key:"value",get:function(){throw vg()}},{key:"color",get:function(){throw vg()}},{key:"left",get:function(){throw vg()}},{key:"right",get:function(){throw vg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qw=function(){function e(t){$i(this,e),this.comparator=t,this.data=new Vw(this.comparator)}return Ji(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ww(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ww(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ww=function(){function e(t){$i(this,e),this.iter=t}return Ji(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Hw=new Vw(nk.comparator);function Kw(){return Hw}var Gw=new Vw(nk.comparator);function Qw(){return Gw}var $w=new Vw(nk.comparator);function Yw(){return $w}var Jw=new qw(nk.comparator);function Xw(){for(var e=Jw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Zw=new qw(Og);function eb(){return Zw}var tb=function(){function e(t,n,r,i,a){$i(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ji(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,nb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Mg.min(),r,eb(),Kw(),Xw())}}]),e}(),nb=function(){function e(t,n,r,i,a){$i(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ji(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Hg.EMPTY_BYTE_STRING,n,Xw(),Xw(),Xw())}}]),e}(),rb=Ji((function e(t,n,r,i){$i(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),ib=Ji((function e(t,n){$i(this,e),this.targetId=t,this.M=n})),ab=Ji((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$i(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ob=function(){function e(){$i(this,e),this.F=0,this.L=cb(),this.B=Hg.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Ji(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Xw(),t=Xw(),n=Xw();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vg()}})),new nb(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=cb()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),ub=function(){function e(t){$i(this,e),this.et=t,this.nt=new Map,this.st=Kw(),this.it=sb(),this.rt=new qw(Og)}return Ji(e,[{key:"ot",value:function(e){var t,n=Ki(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ki(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:vg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Ek(i))if(0===n){var a=new nk(i.path);this.at(t,a,kk.newNoDocument(a,Mg.min()))}else mg(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ek(a.target)){var o=new nk(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,kk.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Xw();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new tb(e,n,this.rt,this.st,r);return this.st=Kw(),this.it=sb(),this.rt=new qw(Og),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new ob,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new qw(Og),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||fg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new ob),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function sb(){return new Vw(nk.comparator)}function cb(){return new Vw(nk.comparator)}var lb={asc:"ASCENDING",desc:"DESCENDING"},fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hb=Ji((function e(t,n){$i(this,e),this.databaseId=t,this.C=n}));function db(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pb(e,t){return e.C?t.toBase64():t.toUint8Array()}function vb(e,t){return db(e,t.toTimestamp())}function mb(e){return mg(!!e),Mg.fromTimestamp(function(e){var t=Gg(e);return new Lg(t.seconds,t.nanos)}(e))}function yb(e,t){return function(e){return new zg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gb(e){var t=zg.fromString(e);return mg(qb(t)),t}function kb(e,t){return yb(e.databaseId,t.path)}function wb(e,t){var n=gb(t);if(n.get(1)!==e.databaseId.projectId)throw new kg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nk(Eb(n))}function bb(e,t){return yb(e.databaseId,t)}function xb(e){var t=gb(e);return 4===t.length?zg.emptyPath():Eb(t)}function _b(e){return new zg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eb(e){return mg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ib(e,t,n){return{name:kb(e,t),fields:n.value.mapValue.fields}}function Sb(e,t,n){var r=wb(e,t.name),i=mb(t.updateTime),a=new yk({mapValue:{fields:t.fields}}),o=kk.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Tb(e,t){return"found"in t?function(e,t){mg(!!t.found),t.found.name,t.found.updateTime;var n=wb(e,t.found.name),r=mb(t.found.updateTime),i=new yk({mapValue:{fields:t.found.fields}});return kk.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){mg(!!t.missing),mg(!!t.readTime);var n=wb(e,t.missing),r=mb(t.readTime);return kk.newNoDocument(n,r)}(e,t):vg()}function Cb(e,t){var n;if(t instanceof Cw)n={update:Ib(e,t.key,t.value)};else if(t instanceof Lw)n={delete:kb(e,t.key)};else if(t instanceof Aw)n={update:Ib(e,t.key,t.data),updateMask:Bb(t.fieldMask)};else{if(!(t instanceof Mw))return vg();n={verify:kb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vw)return{fieldPath:t.field.canonicalString(),increment:n.N};throw vg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vg()}(e,t.precondition)),n}function Ab(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ww.updateTime(mb(e.updateTime)):void 0!==e.exists?ww.exists(e.exists):ww.none()}(t.currentDocument):ww.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)mg("REQUEST_TIME"===t.setToServerValue),n=new lw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new dw(i)}else"increment"in t?n=new vw(e,t.increment):vg();var a=qg.fromServerFormat(t.fieldPath);return new gw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wb(e,t.update.name),a=new yk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Wg(t.map((function(e){return qg.fromServerFormat(e)})))}(t.updateMask);return new Aw(i,a,o,n,r)}return new Cw(i,a,n,r)}if(t.delete){var u=wb(e,t.delete);return new Lw(u,n)}if(t.verify){var s=wb(e,t.verify);return new Mw(s,n)}return vg()}function Nb(e,t){return{documents:[bb(e,t.path)]}}function Rb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(pk(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NAN"}};if(dk(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pk(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NOT_NAN"}};if(dk(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ub(e.field),op:Fb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ub(e.field),direction:Mb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Zg(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Db(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Db(t.endAt)),n}function Ob(e){var t=xb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Pb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Mk(jb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Zg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Lb(n.startAt));var l=null;return n.endAt&&(l=Lb(n.endAt)),zk(t,i,u,o,s,"F",c,l)}function Pb(e){return e?void 0!==e.unaryFilter?[zb(e)]:void 0!==e.fieldFilter?[Vb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pb(e)})).reduce((function(e,t){return e.concat(t)})):vg():[]}function Db(e){return{before:e.before,values:e.position}}function Lb(e){var t=!!e.before,n=e.values||[];return new Dk(n,t)}function Mb(e){return lb[e]}function Fb(e){return fb[e]}function Ub(e){return{fieldPath:e.canonicalString()}}function jb(e){return qg.fromServerFormat(e.fieldPath)}function Vb(e){return Ik.create(jb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vg()}}(e.fieldFilter.op),e.fieldFilter.value)}function zb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jb(e.unaryFilter.field);return Ik.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jb(e.unaryFilter.field);return Ik.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jb(e.unaryFilter.field);return Ik.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jb(e.unaryFilter.field);return Ik.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vg()}}function Bb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function qb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kb(t)),t=Hb(e.get(n),t);return Kb(t)}function Hb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kb(e){return e+"\x01\x01"}function Gb(e){var t=e.length;if(mg(t>=2),2===t)return mg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vg()}a=o+2}return new zg(r)}var Qb=Ji((function e(t,n){$i(this,e),this.seconds=t,this.nanoseconds=n})),$b=Ji((function e(t,n,r){$i(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));$b.store="owner",$b.key="owner";var Yb=Ji((function e(t,n,r){$i(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Yb.store="mutationQueues",Yb.keyPath="userId";var Jb=Ji((function e(t,n,r,i,a){$i(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Jb.store="mutations",Jb.keyPath="batchId",Jb.userMutationsIndex="userMutationsIndex",Jb.userMutationsKeyPath=["userId","batchId"];var Xb=function(){function e(){$i(this,e)}return Ji(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Wb(t)]}},{key:"key",value:function(e,t,n){return[e,Wb(t),n]}}]),e}();Xb.store="documentMutations",Xb.PLACEHOLDER=new Xb;var Zb=Ji((function e(t,n){$i(this,e),this.path=t,this.readTime=n})),ex=Ji((function e(t,n){$i(this,e),this.path=t,this.version=n})),tx=Ji((function e(t,n,r,i,a,o){$i(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));tx.store="remoteDocuments",tx.readTimeIndex="readTimeIndex",tx.readTimeIndexPath="readTime",tx.collectionReadTimeIndex="collectionReadTimeIndex",tx.collectionReadTimeIndexPath=["parentPath","readTime"];var nx=Ji((function e(t){$i(this,e),this.byteSize=t}));nx.store="remoteDocumentGlobal",nx.key="remoteDocumentGlobalKey";var rx=Ji((function e(t,n,r,i,a,o,u){$i(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));rx.store="targets",rx.keyPath="targetId",rx.queryTargetsIndexName="queryTargetsIndex",rx.queryTargetsKeyPath=["canonicalId","targetId"];var ix=Ji((function e(t,n,r){$i(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));ix.store="targetDocuments",ix.keyPath=["targetId","path"],ix.documentTargetsIndex="documentTargetsIndex",ix.documentTargetsKeyPath=["path","targetId"];var ax=Ji((function e(t,n,r,i){$i(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));ax.key="targetGlobalKey",ax.store="targetGlobal";var ox=Ji((function e(t,n){$i(this,e),this.collectionId=t,this.parent=n}));ox.store="collectionParents",ox.keyPath=["collectionId","parent"];var ux=Ji((function e(t,n,r,i){$i(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));ux.store="clientMetadata",ux.keyPath="clientId";var sx=Ji((function e(t,n,r){$i(this,e),this.bundleId=t,this.createTime=n,this.version=r}));sx.store="bundles",sx.keyPath="bundleId";var cx=Ji((function e(t,n,r){$i(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));cx.store="namedQueries",cx.keyPath="name";var lx=[Yb.store,Jb.store,Xb.store,tx.store,rx.store,$b.store,ax.store,ix.store].concat([ux.store]).concat([nx.store]).concat([ox.store]).concat([sx.store,cx.store]),fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hx=function(){function e(){$i(this,e),this.onCommittedListeners=[]}return Ji(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),dx=function(){function e(t){var n=this;$i(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ji(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ki(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),px=function(){function e(t,n){var r=this;$i(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new wg,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new yx(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=xx(e.target.error);r.It.reject(new yx(t,n))}}return Ji(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(fg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yx(n,t)}}}]),e}(),vx=function(){function e(t,n,r){$i(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(ha())&&hg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ji(e,[{key:"Ct",value:function(){var e=Qi(ta().mark((function e(t){var n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new kg(gg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new kg(gg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new yx(t,n))},i.onupgradeneeded=function(e){fg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){fg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Qi(ta().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ta().mark((function e(){var n,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=px.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),dx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,fg("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fg("SimpleDb","Removing database:",e),wx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!ga())return!1;if(e.vt())return!0;var t=ha(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mx=function(){function e(t){$i(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Ji(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return wx(this.$t.delete())}}]),e}(),yx=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,gg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ji(n)}(kg);function gx(e){return"IndexedDbTransactionError"===e.name}var kx=function(){function e(t){$i(this,e),this.store=t}return Ji(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wx(n)}},{key:"add",value:function(e){return fg("SimpleDb","ADD",this.store.name,e,e),wx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return wx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fg("SimpleDb","DELETE",this.store.name,e),wx(this.store.delete(e))}},{key:"count",value:function(){return fg("SimpleDb","COUNT",this.store.name),wx(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){fg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new dx((function(n,r){t.onerror=function(e){var t=xx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new dx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mx(i),o=t(i.primaryKey,i.value,a);if(o instanceof dx){var u=o.catch((function(e){return a.done(),dx.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return dx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function wx(e){return new dx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xx(e.target.error);n(t)}}))}var bx=!1;function xx(e){var t=vx.bt(ha());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new kg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bx||(bx=!0,setTimeout((function(){throw r}),0)),r}}return e}var _x=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Ji(n)}(hx);function Ex(e,t){var n=yg(e);return vx.Dt(n.Wt,t)}var Ix=function(){function e(t,n,r,i){$i(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ji(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_w(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ki(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ew(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ki(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Ew(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Pg(this.mutations,e.mutations,(function(e,t){return Sw(e,t)}))&&Pg(this.baseMutations,e.baseMutations,(function(e,t){return Sw(e,t)}))}}]),e}(),Sx=function(){function e(t,n,r,i){$i(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ji(e,null,[{key:"from",value:function(t,n,r){mg(t.mutations.length===r.length);for(var i=Yw(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Tx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hg.EMPTY_BYTE_STRING;$i(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ji(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Cx=Ji((function e(t){$i(this,e),this.Gt=t}));function Ax(e,t){if(t.document)return Sb(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=nk.fromSegments(t.noDocument.path),r=Dx(t.noDocument.readTime),i=kk.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=nk.fromSegments(t.unknownDocument.path),o=Dx(t.unknownDocument.version);return kk.newUnknownDocument(a,o)}return vg()}function Nx(e,t,n){var r=Rx(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:kb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:db(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new tx(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Px(t.version),c=t.hasCommittedMutations;return new tx(null,new Zb(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Px(t.version);return new tx(new ex(l,f),null,null,!0,r,i)}return vg()}function Rx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ox(e){var t=new Lg(e[0],e[1]);return Mg.fromTimestamp(t)}function Px(e){var t=e.toTimestamp();return new Qb(t.seconds,t.nanoseconds)}function Dx(e){var t=new Lg(e.seconds,e.nanoseconds);return Mg.fromTimestamp(t)}function Lx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ab(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ab(e.Gt,t)})),u=Lg.fromMillis(t.localWriteTimeMs);return new Ix(t.batchId,u,n,o)}function Mx(e){var t,n,r=Dx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Dx(e.lastLimboFreeSnapshotVersion):Mg.min();return void 0!==e.query.documents?(mg(1===(n=e.query).documents.length),t=$k(Bk(xb(n.documents[0])))):t=function(e){return $k(Ob(e))}(e.query),new Tx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Hg.fromBase64String(e.resumeToken))}function Fx(e,t){var n,r=Px(t.snapshotVersion),i=Px(t.lastLimboFreeSnapshotVersion);n=Ek(t.target)?Nb(e.Gt,t.target):Rb(e.Gt,t.target);var a=t.resumeToken.toBase64();return new rx(t.targetId,xk(t.target),r,a,t.sequenceNumber,i,n)}function Ux(e){var t=Ob({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yk(t,t.limit,"L"):t}var jx=function(){function e(){$i(this,e)}return Ji(e,[{key:"getBundleMetadata",value:function(e,t){return Vx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Dx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Vx(e).put({bundleId:(n=t).id,createTime:Px(mb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return zx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ux(t.bundledQuery),readTime:Dx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return zx(e).put(function(e){return{name:e.name,readTime:Px(mb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Vx(e){return Ex(e,sx.store)}function zx(e){return Ex(e,cx.store)}var Bx=function(){function e(){$i(this,e),this.zt=new qx}return Ji(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),dx.resolve()}},{key:"getCollectionParents",value:function(e,t){return dx.resolve(this.zt.getEntries(t))}}]),e}(),qx=function(){function e(){$i(this,e),this.index={}}return Ji(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qw(zg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qw(zg.comparator)).toArray()}}]),e}(),Wx=function(){function e(){$i(this,e),this.Ht=new qx}return Ji(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Wb(i)};return Hx(e).put(a)}return dx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Dg(t),""],!1,!0);return Hx(e).Bt(r).next((function(e){var r,i=Ki(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Gb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Hx(e){return Ex(e,ox.store)}var Kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gx=function(){function e(t,n,r){$i(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ji(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Qx(e,t,n){var r=e.store(Jb.store),i=e.store(Xb.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){mg(1===u)})));var c,l=[],f=Ki(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xb.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return dx.waitFor(a).next((function(){return l}))}function $x(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vg();t=e.noDocument}return JSON.stringify(t).length}Gx.DEFAULT_COLLECTION_PERCENTILE=10,Gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gx.DEFAULT=new Gx(41943040,Gx.DEFAULT_COLLECTION_PERCENTILE,Gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gx.DISABLED=new Gx(-1,0,0);var Yx=function(){function e(t,n,r,i){$i(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Ji(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xx(e).jt({index:Jb.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zx(e),o=Xx(e);return o.add({}).next((function(u){mg("number"==typeof u);var s,c=new Ix(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Cb(e.Gt,t)})),i=n.mutations.map((function(t){return Cb(e.Gt,t)}));return new Jb(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new qw((function(e,t){return Og(e.canonicalString(),t.canonicalString())})),d=Ki(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xb.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Xb.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),dx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Xx(e).get(t).next((function(e){return e?(mg(e.userId===n.userId),Lx(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?dx.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Xx(e).jt({index:Jb.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(mg(t.batchId>=r),a=Lx(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xx(e).jt({index:Jb.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xx(e).Bt(Jb.userMutationsIndex,n).next((function(e){return e.map((function(e){return Lx(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Xb.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zx(e).jt({range:i},(function(r,i,o){var u=Xn(r,3),s=u[0],c=u[1],l=u[2],f=Gb(c);if(s===n.userId&&t.path.isEqual(f))return Xx(e).get(l).next((function(e){if(!e)throw vg();mg(e.userId===n.userId),a.push(Lx(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qw(Og),i=[];return t.forEach((function(t){var a=Xb.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zx(e).jt({range:o},(function(e,i,a){var o=Xn(e,3),u=o[0],s=o[1],c=o[2],l=Gb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),dx.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Xb.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new qw(Og);return Zx(e).jt({range:o},(function(e,t,a){var o=Xn(e,3),s=o[0],c=o[1],l=o[2],f=Gb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xx(e).get(t).next((function(e){if(null===e)throw vg();mg(e.userId===n.userId),r.push(Lx(n.k,e))})))})),dx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Qx(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),dx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return dx.resolve();var r=IDBKeyRange.lowerBound(Xb.prefixForUser(t.userId)),i=[];return Zx(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Gb(e[1]);i.push(a)}else r.done()})).next((function(){mg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Jx(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return e_(e).get(this.userId).next((function(e){return e||new Yb(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return mg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Jx(e,t,n){var r=Xb.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zx(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Xn(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Xx(e){return Ex(e,Jb.store)}function Zx(e){return Ex(e,Xb.store)}function e_(e){return Ex(e,Yb.store)}var t_=function(){function e(t){$i(this,e),this.se=t}return Ji(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),n_=function(){function e(t,n){$i(this,e),this.referenceDelegate=t,this.k=n}return Ji(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new t_(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Mg.fromTimestamp(new Lg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return r_(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return mg(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return r_(e).jt((function(o,u){var s=Mx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return dx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return r_(e).jt((function(e,n){var r=Mx(n);t(r)}))}},{key:"oe",value:function(e){return i_(e).get(ax.key).next((function(e){return mg(null!==e),e}))}},{key:"ce",value:function(e,t){return i_(e).put(ax.key,t)}},{key:"ae",value:function(e,t){return r_(e).put(Fx(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return r_(e).jt({range:r,index:rx.queryTargetsIndexName},(function(e,n,r){var a=Mx(n);_k(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=a_(e);return t.forEach((function(t){var o=Wb(t.path);i.push(a.put(new ix(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),dx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=a_(e);return dx.forEach(t,(function(t){var a=Wb(t.path);return dx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=a_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=a_(e),i=Xw();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Gb(e[1]),a=new nk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Wb(t.path),r=IDBKeyRange.bound([n],[Dg(n)],!1,!0),i=0;return a_(e).jt({index:ix.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Xn(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return r_(e).get(t).next((function(e){return e?Mx(e):null}))}}]),e}();function r_(e){return Ex(e,rx.store)}function i_(e){return Ex(e,ax.store)}function a_(e){return Ex(e,ix.store)}function o_(e){return u_.apply(this,arguments)}function u_(){return u_=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gg.FAILED_PRECONDITION&&t.message===fx){e.next=2;break}throw t;case 2:fg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}function s_(e,t){var n=Xn(e,2),r=n[0],i=n[1],a=Xn(t,2),o=a[0],u=a[1],s=Og(r,o);return 0===s?Og(i,u):s}var c_=function(){function e(t){$i(this,e),this.he=t,this.buffer=new qw(s_),this.le=0}return Ji(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();s_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),l_=function(){function e(t,n){$i(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Ji(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;fg("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!gx(n.t0)){n.next=12;break}fg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,o_(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),f_=function(){function e(t,n){$i(this,e),this.ge=t,this.params=n}return Ji(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return dx.resolve(Ag.I);var r=new c_(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fg("LruGarbageCollector","Garbage collection skipped; disabled"),dx.resolve(Kx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Kx):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),lg()<=Fa.DEBUG&&fg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),dx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),h_=function(){function e(t,n){$i(this,e),this.db=t,this.garbageCollector=function(e,t){return new f_(e,t)}(this,n)}return Ji(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return d_(e,n)}},{key:"removeReference",value:function(e,t,n){return d_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return d_(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return e_(e).Qt((function(r){return Jx(e,r,t).next((function(e){return e&&(n=!0),dx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),a_(e).delete([0,Wb(o.path)])}))}));i.push(s)}})).next((function(){return dx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return d_(e,t)}},{key:"Ie",value:function(e,t){var n,r=a_(e),i=Ag.I;return r.jt({index:ix.documentTargetsIndex},(function(e,r){var a=Xn(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ag.I&&t(new nk(Gb(n)),i),i=s,n=u):i=Ag.I})).next((function(){i!==Ag.I&&t(new nk(Gb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function d_(e,t){return a_(e).put(function(e,t){return new ix(0,Wb(e.path),t)}(t,e.currentSequenceNumber))}var p_=function(){function e(t,n){$i(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ji(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var a=Xn(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ug(this.inner,(function(t,n){var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var a=Xn(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return jg(this.inner)}}]),e}(),v_=function(){function e(){$i(this,e),this.changes=new p_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ji(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Mg.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:kk.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dx.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),m_=function(){function e(t,n){$i(this,e),this.k=t,this.Jt=n}return Ji(e,[{key:"addEntry",value:function(e,t,n){return k_(e).put(w_(t),n)}},{key:"removeEntry",value:function(e,t){var n=k_(e),r=w_(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return k_(e).get(w_(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return k_(e).get(w_(t)).next((function(e){return{document:n.be(t,e),size:$x(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kw();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Kw(),i=new Vw(nk.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,$x(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return dx.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return k_(e).jt({range:r},(function(e,t,r){for(var o=nk.fromSegments(e);a&&nk.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Kw(),a=t.path.length+1,o={};if(n.isEqual(Mg.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Rx(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=tx.collectionReadTimeIndex}return k_(e).jt(o,(function(e,n,o){if(e.length===a){var u=Ax(r.k,n);t.path.isPrefixOf(u.key.path)?ew(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new y_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return g_(e).get(nx.key).next((function(e){return mg(!!e),e}))}},{key:"Re",value:function(e,t){return g_(e).put(nx.key,t)}},{key:"be",value:function(e,t){if(t){var n=Ax(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Mg.min()))return n}return kk.newInvalidDocument(e)}}]),e}(),y_=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new p_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ji(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qw((function(e,t){return Og(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=Nx(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=$x(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Nx(t.De.k,kk.newNoDocument(a,Mg.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),dx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(v_);function g_(e){return Ex(e,nx.store)}function k_(e){return Ex(e,tx.store)}function w_(e){return e.path.toArray()}var b_=function(){function e(t){$i(this,e),this.k=t}return Ji(e,[{key:"Nt",value:function(e,t,n,r){var i=this;mg(n<r&&n>=0&&r<=11);var a=new px("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore($b.store)}(e),function(e){e.createObjectStore(Yb.store,{keyPath:Yb.keyPath}),e.createObjectStore(Jb.store,{keyPath:Jb.keyPath,autoIncrement:!0}).createIndex(Jb.userMutationsIndex,Jb.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Xb.store)}(e),x_(e),function(e){e.createObjectStore(tx.store)}(e));var o=dx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ix.store),e.deleteObjectStore(rx.store),e.deleteObjectStore(ax.store)}(e),x_(e)),o=o.next((function(){return function(e){var t=e.store(ax.store),n=new ax(0,0,Mg.min().toTimestamp(),0);return t.put(ax.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Jb.store).Bt().next((function(n){e.deleteObjectStore(Jb.store),e.createObjectStore(Jb.store,{keyPath:Jb.keyPath,autoIncrement:!0}).createIndex(Jb.userMutationsIndex,Jb.userMutationsKeyPath,{unique:!0});var r=t.store(Jb.store),i=n.map((function(e){return r.put(e)}));return dx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(ux.store,{keyPath:ux.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(nx.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(tx.store);t.createIndex(tx.readTimeIndex,tx.readTimeIndexPath,{unique:!1}),t.createIndex(tx.collectionReadTimeIndex,tx.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(sx.store,{keyPath:sx.keyPath})}(e),function(e){e.createObjectStore(cx.store,{keyPath:cx.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(tx.store).jt((function(e,n){t+=$x(n)})).next((function(){var n=new nx(t);return e.store(nx.store).put(nx.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Yb.store),r=e.store(Jb.store);return n.Bt().next((function(n){return dx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Jb.userMutationsIndex,i).next((function(r){return dx.forEach(r,(function(r){mg(r.userId===n.userId);var i=Lx(t.k,r);return Qx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(ix.store),n=e.store(tx.store);return e.store(ax.store).get(ax.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new zg(n),o=function(e){return[0,Wb(e)]}(a);r.push(t.get(o).next((function(n){return n?dx.resolve():function(n){return t.put(new ix(0,Wb(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return dx.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(ox.store,{keyPath:ox.keyPath});var n=t.store(ox.store),r=new qx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wb(i)})}};return t.store(tx.store).jt({Kt:!0},(function(e,t){var n=new zg(e);return i(n.popLast())})).next((function(){return t.store(Xb.store).jt({Kt:!0},(function(e,t){var n=Xn(e,3),r=(n[0],n[1]),a=(n[2],Gb(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(rx.store);return n.jt((function(e,r){var i=Mx(r),a=Fx(t.k,i);return n.put(a)}))}}]),e}();function x_(e){e.createObjectStore(ix.store,{keyPath:ix.keyPath}).createIndex(ix.documentTargetsIndex,ix.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(rx.store,{keyPath:rx.keyPath}).createIndex(rx.queryTargetsIndexName,rx.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ax.store)}var __="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",E_=function(){function e(t,n,r,i,a,o,u,s,c,l){if($i(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=u,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new kg(gg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h_(this,i),this.Ge=n+"main",this.k=new Cx(s),this.ze=new vx(this.Ge,11,new b_(this.k)),this.He=new n_(this.referenceDelegate,this.k),this.Jt=new Wx,this.Je=function(e,t){return new m_(e,t)}(this.k,this.Jt),this.Ye=new jx,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&hg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ji(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new kg(gg.FAILED_PRECONDITION,__);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Ag(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Qi(ta().mark((function n(r){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Qi(ta().mark((function t(n){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return S_(t).put(new ux(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(gx(t))return fg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return I_(e).get($b.key).next((function(e){return dx.resolve(t.un(e))}))}},{key:"hn",value:function(e){return S_(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i,a=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ex(e,ux.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return dx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Ki(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?dx.resolve(!0):I_(e).get($b.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new kg(gg.FAILED_PRECONDITION,__);return!1}}return!(!t.networkEnabled||!t.inForeground)||S_(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Qi(ta().mark((function e(){var t=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[$b.store,ux.store],(function(e){var n=new _x(e,Ag.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return S_(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Yx.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;fg("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,lx,(function(a){return i=new _x(a,r.Be?r.Be.next():Ag.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw hg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new kg(gg.FAILED_PRECONDITION,fx);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return I_(e).get($b.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new kg(gg.FAILED_PRECONDITION,__)}))}},{key:"an",value:function(e){var t=new $b(this.clientId,this.allowTabSynchronization,Date.now());return I_(e).put($b.key,t)}},{key:"cn",value:function(e){var t=this,n=I_(e);return n.get($b.key).next((function(e){return t.un(e)?(fg("IndexedDbPersistence","Releasing primary lease."),n.delete($b.key)):dx.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(hg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!pa()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return fg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return hg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(up){hg("Failed to set zombie client id.",up)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(up){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return vx.Pt()}}]),e}();function I_(e){return Ex(e,$b.store)}function S_(e){return Ex(e,ux.store)}function T_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var C_=Ji((function e(t,n){$i(this,e),this.progress=t,this.In=n})),A_=function(){function e(t,n,r){$i(this,e),this.Je=t,this.An=n,this.Jt=r}return Ji(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Ki(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Ki(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return nk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Gk(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new nk(t)).next((function(e){var t=Qw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qw();return this.Jt.getCollectionParents(e,i).next((function(o){return dx.forEach(o,(function(o){var u=function(e,t){return new Vk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Ki(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Ki(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=kk.newInvalidDocument(c),r=r.insert(c,l)),Ew(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){ew(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Xw(),a=Ki(t);try{for(a.s();!(r=a.n()).done;){var o,u=Ki(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Aw&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),N_=function(){function e(t,n,r,i){$i(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Ji(e,null,[{key:"$n",value:function(t,n){var r,i=Xw(),a=Xw(),o=Ki(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),R_=function(){function e(){$i(this,e)}return Ji(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Mg.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(qk(t)||Wk(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(lg()<=Fa.DEBUG&&fg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zk(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new qw(tw(e));return t.forEach((function(t,r){ew(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return lg()<=Fa.DEBUG&&fg("QueryEngine","Using full collection scan to execute query:",Zk(t)),this.Mn.getDocumentsMatchingQuery(e,t,Mg.min())}}]),e}(),O_=function(){function e(t,n,r,i){$i(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Vw(Og),this.Kn=new p_((function(e){return xk(e)}),_k),this.jn=Mg.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new A_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Ji(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function P_(e,t,n,r){return new O_(e,t,n,r)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new A_(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Xw(),s=Ki(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Ki(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ki(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ki(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t){var n=yg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=dx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function F_(e){var t=yg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function U_(e,t){var n=yg(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Hg.EMPTY_BYTE_STRING,Mg.min()).withLastLimboFreeSnapshotVersion(Mg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=Kw();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(j_(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(Mg.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return dx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function j_(e,t,n,r,i){var a=Xw();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Kw();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Mg.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):fg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function V_(e,t){var n=yg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function z_(e,t){var n=yg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,dx.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Tx(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function B_(e,t,n){return q_.apply(this,arguments)}function q_(){return q_=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yg(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gx(e.t1)){e.next=12;break}throw e.t1;case 12:fg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),q_.apply(this,arguments)}function W_(e,t,n){var r=yg(e),i=Mg.min(),a=Xw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yg(e),i=r.Kn.get(n);return void 0!==i?dx.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,$k(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Mg.min(),n?a:Xw())})).next((function(e){return{documents:e,zn:a}}))}))}function H_(e,t){var n=yg(e),r=yg(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function K_(e){var t=yg(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=yg(e),i=Kw(),a=Rx(n),o=k_(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:tx.readTimeIndex,range:u},(function(e,t){var n=Ax(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Ox(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function G_(e){return Q_.apply(this,arguments)}function Q_(){return Q_=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yg(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=k_(e),n=Mg.min();return t.jt({index:tx.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ox(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function $_(e,t,n,r){return Y_.apply(this,arguments)}function Y_(){return Y_=Qi(ta().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yg(t),o=Xw(),u=Kw(),s=Yw(),c=Ki(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,z_(a,function(e){return $k(Bk(zg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return j_(e,d,u,Mg.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function J_(e,t){return X_.apply(this,arguments)}function X_(){return X_=Qi(ta().mark((function e(t,n){var r,i,a,o=arguments;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Xw(),e.next=3,z_(t,$k(Ux(n.bundledQuery)));case 3:return i=e.sent,a=yg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=mb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Hg.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}var Z_=function(){function e(t){$i(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Ji(e,[{key:"getBundleMetadata",value:function(e,t){return dx.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:mb(n.createTime)}),dx.resolve()}},{key:"getNamedQuery",value:function(e,t){return dx.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ux(e.bundledQuery),readTime:mb(e.readTime)}}(t)),dx.resolve()}}]),e}(),eE=function(){function e(){$i(this,e),this.ts=new qw(tE.es),this.ns=new qw(tE.ss)}return Ji(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new tE(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new tE(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new nk(new zg([])),r=new tE(n,e),i=new tE(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new nk(new zg([])),n=new tE(t,e),r=new tE(t,e+1),i=Xw();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new tE(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),tE=function(){function e(t,n){$i(this,e),this.key=t,this.fs=n}return Ji(e,null,[{key:"es",value:function(e,t){return nk.comparator(e.key,t.key)||Og(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Og(e.fs,t.fs)||nk.comparator(e.key,t.key)}}]),e}(),nE=function(){function e(t,n){$i(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new qw(tE.es)}return Ji(e,[{key:"checkEmpty",value:function(e){return dx.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Ix(i,t,n,r);this.An.push(a);var o,u=Ki(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new tE(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return dx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return dx.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return dx.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return dx.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return dx.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new tE(t,0),i=new tE(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),dx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qw(Og);return t.forEach((function(e){var t=new tE(e,0),i=new tE(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),dx.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;nk.isDocumentKey(i)||(i=i.child(""));var a=new tE(new nk(i),0),o=new qw(Og);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),dx.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mg(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return dx.forEach(t.mutations,(function(i){var a=new tE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new tE(t,0),r=this.ws.firstAfterOrEqual(n);return dx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,dx.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),rE=function(){function e(t,n){$i(this,e),this.Jt=t,this.Ts=n,this.docs=new Vw(nk.comparator),this.size=0}return Ji(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return dx.resolve(n?n.document.mutableCopy():kk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kk.newInvalidDocument(e))})),dx.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Kw(),i=new nk(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||ew(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return dx.resolve(r)}},{key:"Es",value:function(e,t){return dx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new iE(this)}},{key:"getSize",value:function(e){return dx.resolve(this.size)}}]),e}(),iE=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).De=e,r}return Ji(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),dx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(v_),aE=function(){function e(t){$i(this,e),this.persistence=t,this.Is=new p_((function(e){return xk(e)}),_k),this.lastRemoteSnapshotVersion=Mg.min(),this.highestTargetId=0,this.As=0,this.Rs=new eE,this.targetCount=0,this.bs=t_.ie()}return Ji(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),dx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return dx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return dx.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),dx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),dx.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new t_(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,dx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),dx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,dx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),dx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return dx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return dx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),dx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),dx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return dx.resolve(n)}},{key:"containsKey",value:function(e,t){return dx.resolve(this.Rs.containsKey(t))}}]),e}(),oE=function(){function e(t,n){var r=this;$i(this,e),this.Ps={},this.Be=new Ag(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new aE(this),this.Jt=new Bx,this.Je=function(e,t){return new rE(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Cx(n),this.Ye=new Z_(this.k)}return Ji(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new nE(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;fg("MemoryPersistence","Starting transaction:",e);var i=new uE(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return dx.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uE=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ji(n)}(hx),sE=function(){function e(t){$i(this,e),this.persistence=t,this.Cs=new eE,this.Ns=null}return Ji(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw vg()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),dx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),dx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),dx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dx.forEach(this.xs,(function(r){var i=nk.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return dx.or([function(){return dx.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function cE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var hE=function(){function e(t,n,r,i){$i(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ji(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new kg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(hg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dE=function(){function e(t,n,r){$i(this,e),this.targetId=t,this.state=n,this.error=r}return Ji(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new kg(i.error.code,i.error.message))),a?new e(t,i.state,r):(hg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),pE=function(){function e(t,n){$i(this,e),this.clientId=t,this.activeTargetIds=n}return Ji(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=eb(),o=0;i&&o<r.activeTargetIds.length;++o)i=tk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(hg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),vE=function(){function e(t,n){$i(this,e),this.clientId=t,this.onlineState=n}return Ji(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(hg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),mE=function(){function e(){$i(this,e),this.activeTargetIds=eb()}return Ji(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yE=function(){function e(t,n,r,i,a){$i(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Vw(Og),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=cE(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new mE),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Ji(e,[{key:"start",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Ki(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(cE(this.persistenceKey,i)))&&(o=pE.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Ki(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fE(this.persistenceKey,e));if(n){var r=dE.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void hg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Qi(ta().mark((function e(){var r,i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Ag.I;if(null!=e)try{var n=JSON.parse(e);mg("number"==typeof n),t=n}catch(e){hg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ag.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new hE(this.currentUser,e,t,n),i=lE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=lE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=fE(this.persistenceKey,e),i=new dE(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return pE.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hE.Os(new ug(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return dE.Os(r,t)}},{key:"Zs",value:function(e){return vE.Os(e)}},{key:"fi",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:fg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=eb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gE=function(){function e(){$i(this,e),this.pi=new mE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ji(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new mE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),kE=function(){function e(){$i(this,e)}return Ji(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wE=function(){function e(){var t=this;$i(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Ji(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){fg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ki(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){fg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ki(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),bE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xE=function(){function e(t){$i(this,e),this.Vi=t.Vi,this.Si=t.Si}return Ji(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),_E=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ji(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ag;o.listenOnce(eg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Zy.NO_ERROR:var t=o.getResponseJson();fg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Zy.TIMEOUT:fg("Connection",'RPC "'+e+'" timed out'),a(new kg(gg.DEADLINE_EXCEEDED,"Request time out"));break;case Zy.HTTP_ERROR:var n=o.getStatus();if(fg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gg).indexOf(t)>=0?t:gg.UNKNOWN}(r.status);a(new kg(u,r.message))}else a(new kg(gg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new kg(gg.UNAVAILABLE,"Connection failed."));break;default:vg()}}finally{fg("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Jy(),a=Xy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new rg({})),this.qi(o.initMessageHeaders,t,n),da()||ma()||ha().indexOf("Electron/")>=0||ya()||ha().indexOf("MSAppHost/")>=0||va()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");fg("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new xE({Vi:function(e){l?fg("Connection","Not sending because WebChannel is closed:",e):(c||(fg("Connection","Opening WebChannel transport."),s.open(),c=!0),fg("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ig.EventType.OPEN,(function(){l||fg("Connection","WebChannel transport opened.")})),h(s,ig.EventType.CLOSE,(function(){l||(l=!0,fg("Connection","WebChannel transport closed"),f.Oi())})),h(s,ig.EventType.ERROR,(function(e){l||(l=!0,dg("Connection","WebChannel transport errored:",e),f.Oi(new kg(gg.UNAVAILABLE,"The operation could not be completed")))})),h(s,ig.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];mg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Pw[e];if(void 0!==t)return jw(t)}(a),u=i.message;void 0===o&&(o=gg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new kg(o,u)),s.close()}else fg("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,tg.STAT_EVENT,(function(e){e.stat===ng.PROXY?fg("Connection","Detected buffering proxy"):e.stat===ng.NOPROXY&&fg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){$i(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ji(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);fg("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return fg("RestConnection","Received: ",e),e}),(function(t){throw dg("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=bE[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function EE(){return"undefined"!=typeof window?window:null}function IE(){return"undefined"!=typeof document?document:null}function SE(e){return new hb(e,!0)}var TE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;$i(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Ji(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&fg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),CE=function(){function e(t,n,r,i,a,o,u,s){$i(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new TE(t,n)}return Ji(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===gg.RESOURCE_EXHAUSTED?(hg(n.toString()),hg("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===gg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Xn(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new kg(gg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return fg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(fg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),AE=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a,o,u){var s;return $i(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Ji(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(mg(void 0===t||"string"==typeof t),Hg.fromBase64String(t||"")):(mg(void 0===t||t instanceof Uint8Array),Hg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?gg.UNKNOWN:jw(e.code);return new kg(t,e.message||"")}(o);n=new ab(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=wb(e,s.document.name),l=mb(s.document.updateTime),f=new yk({mapValue:{fields:s.document.fields}}),h=kk.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new rb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=wb(e,v.document),y=v.readTime?mb(v.readTime):Mg.min(),g=kk.newNoDocument(m,y),k=v.removedTargetIds||[];n=new rb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=wb(e,w.document),x=w.removedTargetIds||[];n=new rb([],x,b,null)}else{if(!("filter"in t))return vg();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Fw(E),S=_.targetId;n=new ib(S,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Mg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Mg.min():t.readTime?mb(t.readTime):Mg.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=_b(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Ek(r)?{documents:Nb(e,r)}:{query:Rb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=pb(e,t.resumeToken):t.snapshotVersion.compareTo(Mg.min())>0&&(n.readTime=db(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=_b(this.k),t.removeTarget=e,this.gr(t)}}]),n}(CE),NE=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a,o,u){var s;return $i(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Ji(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ji(Fi(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(mg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(mg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mb(e.updateTime):mb(t);return n.isEqual(Mg.min())&&(n=mb(t)),new kw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mb(e.commitTime);return this.listener.Cr(n,t)}return mg(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=_b(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Cb(t.k,e)}))};this.gr(n)}}]),n}(CE),RE=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a){var o;return $i(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Ji(n,[{key:"Or",value:function(){if(this.$r)throw new kg(gg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Xn(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new kg(gg.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Xn(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new kg(gg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Ji((function e(){$i(this,e)}))}()),OE=function(){function e(t,n){$i(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Ji(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(hg(t),this.Lr=!1):fg("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),PE=Ji((function e(t,n,r,i,a){var o=this;$i(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=WE(o),!e.t0){e.next=5;break}return fg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yg(t)).Gr.add(4),e.next=4,ME(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,DE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new OE(r,i)}));function DE(e){return LE.apply(this,arguments)}function LE(){return LE=Qi(ta().mark((function e(t){var n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!WE(t)){e.next=18;break}n=Ki(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),LE.apply(this,arguments)}function ME(e){return FE.apply(this,arguments)}function FE(){return FE=Qi(ta().mark((function e(t){var n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ki(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),FE.apply(this,arguments)}function UE(e,t){var n=yg(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),qE(n)?BE(n):yI(n).lr()&&VE(n,t))}function jE(e,t){var n=yg(e),r=yI(n);n.Wr.delete(t),r.lr()&&zE(n,t),0===n.Wr.size&&(r.lr()?r._r():WE(n)&&n.Jr.set("Unknown"))}function VE(e,t){e.Yr.X(t.targetId),yI(e).Pr(t)}function zE(e,t){e.Yr.X(t),yI(e).vr(t)}function BE(e){e.Yr=new ub({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),yI(e).start(),e.Jr.Br()}function qE(e){return WE(e)&&!yI(e).hr()&&e.Wr.size>0}function WE(e){return 0===yg(e).Gr.size}function HE(e){e.Yr=void 0}function KE(e){return GE.apply(this,arguments)}function GE(){return GE=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){VE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return $E=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HE(t),qE(t)?(t.Jr.Kr(n),BE(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function YE(e,t,n){return JE.apply(this,arguments)}function JE(){return JE=Qi(ta().mark((function e(t,n,r){var i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof ab&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ki(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,XE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof rb?t.Yr.ot(n):n instanceof ib?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Mg.min())){e.next=29;break}return e.prev=14,e.next=17,F_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Hg.EMPTY_BYTE_STRING,n.snapshotVersion)),zE(e,t);var r=new Tx(n.target,t,1,n.sequenceNumber);VE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,XE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),JE.apply(this,arguments)}function XE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Qi(ta().mark((function e(t,n,r){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gx(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,ME(t);case 5:t.Jr.set("Offline"),r||(r=function(){return F_(t.localStore)}),t.asyncQueue.enqueueRetryable(Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,DE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eI(e,t){return t().catch((function(n){return XE(e,n,t)}))}function tI(e){return nI.apply(this,arguments)}function nI(){return nI=Qi(ta().mark((function e(t){var n,r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yg(t),r=gI(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!rI(n)){e.next=19;break}return e.prev=3,e.next=6,V_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,iI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,XE(n,e.t0);case 17:e.next=2;break;case 19:aI(n)&&oI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nI.apply(this,arguments)}function rI(e){return WE(e)&&e.Qr.length<10}function iI(e,t){e.Qr.push(t);var n=gI(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function aI(e){return WE(e)&&!gI(e).hr()&&e.Qr.length>0}function oI(e){gI(e).start()}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gI(t).kr();case 1:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e){return lI.apply(this,arguments)}function lI(){return lI=Qi(ta().mark((function e(t){var n,r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gI(t),r=Ki(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Sx.from(i,n,r),e.next=3,eI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,tI(t);case 5:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=Qi(ta().mark((function e(t,n){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&gI(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uw(i=n.code)||i===gg.ABORTED){e.next=7;break}return r=t.Qr.shift(),gI(t).wr(),e.next=5,eI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:aI(t)&&oI(t);case 5:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){return mI.apply(this,arguments)}function mI(){return mI=Qi(ta().mark((function e(t,n){var r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yg(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,DE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,ME(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e){return e.Xr||(e.Xr=function(e,t,n){var r=yg(e);return r.Or(),new AE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:KE.bind(null,e),Ni:QE.bind(null,e),br:YE.bind(null,e)}),e.zr.push(function(){var t=Qi(ta().mark((function t(n){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),qE(e)?BE(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:HE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function gI(e){return e.Zr||(e.Zr=function(e,t,n){var r=yg(e);return r.Or(),new NE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:uI.bind(null,e),Ni:dI.bind(null,e),Nr:cI.bind(null,e),Cr:fI.bind(null,e)}),e.zr.push(function(){var t=Qi(ta().mark((function t(n){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,tI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(fg("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var kI=function(){function e(t,n,r,i,a){$i(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ji(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kg(gg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wI(e,t){if(hg("AsyncQueue","".concat(t,": ").concat(e)),gx(e))return new kg(gg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var bI=function(){function e(t){$i(this,e),this.comparator=t?function(e,n){return t(e,n)||nk.comparator(e.key,n.key)}:function(e,t){return nk.comparator(e.key,t.key)},this.keyedMap=Qw(),this.sortedSet=new Vw(this.comparator)}return Ji(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),xI=function(){function e(){$i(this,e),this.eo=new Vw(nk.comparator)}return Ji(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):vg():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_I=function(){function e(t,n,r,i,a,o,u,s){$i(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ji(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,bI.emptySet(n),a,r,i,!0,!1)}}]),e}(),EI=Ji((function e(){$i(this,e),this.so=void 0,this.listeners=[]})),II=Ji((function e(){$i(this,e),this.queries=new p_((function(e){return Xk(e)}),Jk),this.onlineState="Unknown",this.io=new Set}));function SI(e,t){return TI.apply(this,arguments)}function TI(){return TI=Qi(ta().mark((function e(t,n){var r,i,a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new EI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=wI(e.t0,"Initialization of query '".concat(Zk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&OI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),TI.apply(this,arguments)}function CI(e,t){return AI.apply(this,arguments)}function AI(){return AI=Qi(ta().mark((function e(t,n){var r,i,a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t){var n,r=yg(e),i=!1,a=Ki(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ki(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&OI(r)}function RI(e,t,n){var r=yg(e),i=r.queries.get(t);if(i){var a,o=Ki(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function OI(e){e.io.forEach((function(e){e.next()}))}var PI=function(){function e(t,n,r){$i(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Ji(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ki(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _I(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=_I.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),DI=function(){function e(t,n){$i(this,e),this.payload=t,this.byteLength=n}return Ji(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),LI=function(){function e(t){$i(this,e),this.k=t}return Ji(e,[{key:"Hn",value:function(e){return wb(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Sb(this.k,e.document,!1):kk.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return mb(e)}}]),e}(),MI=function(){function e(t,n,r){$i(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=FI(t)}return Ji(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new LI(this.k),i=Ki(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Ki(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Xw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_(this.localStore,new LI(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Ki(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,J_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new C_(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var UI=Ji((function e(t){$i(this,e),this.key=t})),jI=Ji((function e(t){$i(this,e),this.key=t})),VI=function(){function e(t,n){$i(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Xw(),this.mutatedKeys=Xw(),this.Ao=tw(t),this.Ro=new bI(this.Ao)}return Ji(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new xI,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=qk(this.query)&&i.size===this.query.limit?i.last():null,c=Wk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ew(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),qk(this.query)||Wk(this.query))for(;o.size>this.query.limit;){var l=qk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vg()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new _I(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new xI,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Xw(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new jI(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new UI(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Xw();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return _I.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),zI=Ji((function e(t,n,r){$i(this,e),this.query=t,this.targetId=n,this.view=r})),BI=Ji((function e(t){$i(this,e),this.key=t,this.$o=!1})),qI=function(){function e(t,n,r,i,a,o){$i(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new p_((function(e){return Xk(e)}),Jk),this.Fo=new Map,this.Lo=new Set,this.Bo=new Vw(nk.comparator),this.Uo=new Map,this.qo=new eE,this.Ko={},this.jo=new Map,this.Qo=t_.re(),this.onlineState="Unknown",this.Wo=void 0}return Ji(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function WI(e,t){return HI.apply(this,arguments)}function HI(){return HI=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FS(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,z_(r.localStore,$k(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,KI(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&UE(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function KI(e,t,n,r){return GI.apply(this,arguments)}function GI(){return GI=Qi(ta().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Qi(ta().mark((function e(t,n,r,i){var a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,W_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(dS(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,W_(t.localStore,n,!0);case 3:return a=e.sent,o=new VI(n,a.zn),u=o.Po(a.documents),s=nb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),dS(t,r,c.Co),l=new zI(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(e,t){return $I.apply(this,arguments)}function $I(){return $I=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yg(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Jk(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,B_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jE(r.remoteStore,i.targetId),fS(r,i.targetId)})).catch(o_);case 9:e.next=14;break;case 11:return fS(r,i.targetId),e.next=14,B_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function YI(e,t,n){return JI.apply(this,arguments)}function JI(){return JI=Qi(ta().mark((function e(t,n,r){var i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=US(t),e.prev=1,e.next=4,function(e,t){var n,r=yg(e),i=Lg.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Xw());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Ki(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Iw(c,n.get(c.key));null!=l&&u.push(new Aw(c.key,l,gk(l.value.mapValue),ww.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Vw(Og)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,mS(i,a.changes);case 9:return e.next=11,tI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),JI.apply(this,arguments)}function XI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),e.prev=1,e.next=4,U_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(mg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?mg(n.$o):e.removedDocuments.size>0&&(mg(n.$o),n.$o=!1))})),e.next=8,mS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,o_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ZI.apply(this,arguments)}function eS(e,t,n){var r=yg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ki(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&OI(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return nS=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s,c;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Vw(nk.comparator)).insert(o,kk.newNoDocument(o,Mg.min())),s=Xw().add(o),c=new tb(Mg.min(),new Map,new qw(Og),u,s),e.next=9,XI(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),vS(i),e.next=16;break;case 14:return e.next=16,B_(i.localStore,n,!1).then((function(){return fS(i,n,r)})).catch(o_);case 16:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),i=n.batch.batchId,e.prev=1,e.next=4,M_(r.localStore,n);case 4:return a=e.sent,lS(r,i,null),cS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,mS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,o_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),iS.apply(this,arguments)}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return oS=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yg(t),e.prev=1,e.next=4,function(e,t){var n=yg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return mg(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,lS(i,n,r),cS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,mS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,o_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Qi(ta().mark((function e(t,n){var r,i,a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WE((r=yg(t)).remoteStore)||fg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),sS.apply(this,arguments)}function cS(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function lS(e,t,n){var r=yg(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function fS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ki(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||hS(e,t)}))}function hS(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(jE(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),vS(e))}function dS(e,t,n){var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof UI?(e.qo.addReference(a.key,t),pS(e,a)):a instanceof jI?(fg("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||hS(e,a.key)):vg()}}catch(o){i.e(o)}finally{i.f()}}function pS(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(fg("SyncEngine","New document in limbo: "+n),e.Lo.add(r),vS(e))}function vS(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new nk(zg.fromString(t)),r=e.Qo.next();e.Uo.set(r,new BI(n)),e.Bo=e.Bo.insert(n,r),UE(e.remoteStore,new Tx($k(Bk(n.path)),r,2,Ag.I))}}function mS(e,t,n){return yS.apply(this,arguments)}function yS(){return yS=Qi(ta().mark((function e(t,n,r){var i,a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yg(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=N_.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dx.forEach(n,(function(t){return dx.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return dx.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gx(e.t0)){e.next=10;break}throw e.t0;case 10:fg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ki(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t){return kS.apply(this,arguments)}function kS(){return kS=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yg(t)).currentUser.isEqual(n)){e.next=11;break}return fg("SyncEngine","User change. New user:",n.toKey()),e.next=5,D_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new kg(gg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,mS(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function wS(e,t){var n=yg(e),r=n.Uo.get(t);if(r&&r.$o)return Xw().add(r.key);var i=Xw(),a=n.Fo.get(t);if(!a)return i;var o,u=Ki(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Mo.get(s);i=i.unionWith(c.view.bo)}}catch(l){u.e(l)}finally{u.f()}return i}function bS(e,t){return xS.apply(this,arguments)}function xS(){return xS=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),e.next=3,W_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&dS(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e){return ES.apply(this,arguments)}function ES(){return ES=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yg(t),e.abrupt("return",K_(n.localStore).then((function(e){return mS(n,e)})));case 2:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function IS(e,t,n,r){return SS.apply(this,arguments)}function SS(){return SS=Qi(ta().mark((function e(t,n,r,i){var a,o;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yg(t),e.next=3,function(e,t){var n=yg(e),r=yg(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):dx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,tI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(lS(a,n,i||null),cS(a,n),function(e,t){yg(yg(e).An).ee(t)}(a.localStore,n)):vg();case 11:return e.next=13,mS(a,o);case 13:e.next=16;break;case 15:fg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function TS(e,t){return CS.apply(this,arguments)}function CS(){return CS=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FS(r=yg(t)),US(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,AS(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,vI(r.remoteStore,!0);case 9:o=Ki(a);try{for(o.s();!(u=o.n()).done;)s=u.value,UE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return fS(r,t),B_(r.localStore,t,!0)})),jE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,AS(r,c);case 21:return function(e){var t=yg(e);t.Uo.forEach((function(e,n){jE(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Vw(nk.comparator)}(r),r.Wo=!1,e.next=25,vI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yg(t),a=[],o=[],u=Ki(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,z_(i.localStore,$k(f[0]));case 11:l=e.sent,h=Ki(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,bS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,H_(i.localStore,c);case 36:return y=e.sent,e.next=39,z_(i.localStore,y);case 39:return l=e.sent,e.next=42,KI(i,RS(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),NS.apply(this,arguments)}function RS(e){return zk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OS(e){var t=yg(e);return yg(yg(t.localStore).persistence).Tn()}function PS(e,t,n,r){return DS.apply(this,arguments)}function DS(){return DS=Qi(ta().mark((function e(t,n,r,i){var a,o,u;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yg(t)).Wo){e.next=5;break}fg("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,K_(a.localStore);case 11:return o=e.sent,u=tb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,mS(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,B_(a.localStore,n,!0);case 18:return fS(a,n,i),e.abrupt("break",21);case 20:vg();case 21:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function LS(e,t,n){return MS.apply(this,arguments)}function MS(){return MS=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FS(t)).Wo){e.next=45;break}a=Ki(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return fg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,H_(i.localStore,u);case 12:return s=e.sent,e.next=15,z_(i.localStore,s);case 15:return c=e.sent,e.next=18,KI(i,RS(s),c.targetId,!1);case 18:UE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ki(r),e.prev=30,h=ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,B_(i.localStore,t,!1).then((function(){jE(i.remoteStore,t),fS(i,t)})).catch(o_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),MS.apply(this,arguments)}function FS(e){var t=yg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tS.bind(null,t),t.Oo.br=NI.bind(null,t.eventManager),t.Oo.zo=RI.bind(null,t.eventManager),t}function US(e){var t=yg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aS.bind(null,t),t}function jS(e,t,n){var r=yg(e);(function(){var e=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yg(e),r=mb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(FI(i)),a=new MI(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,mS(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=yg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),dg("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var VS=function(){function e(){$i(this,e),this.synchronizeTabs=!1}return Ji(e,[{key:"initialize",value:function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=SE(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return P_(this.persistence,new R_,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new oE(sE.ks,this.k)}},{key:"Jo",value:function(e){return new gE}},{key:"terminate",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zS=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ji(n,[{key:"initialize",value:function(){var e=Qi(ta().mark((function e(t){var r=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(Fi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,G_(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,US(this.tc.syncEngine);case 8:return e.next=10,tI(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return P_(this.persistence,new R_,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new l_(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=T_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gx.withCacheSize(this.cacheSizeBytes):Gx.DEFAULT;return new E_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,EE(),IE(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new gE}}]),n}(VS),BS=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ji(n,[{key:"initialize",value:function(){var e=Qi(ta().mark((function e(t){var r,i=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(Fi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof yE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:IS.bind(null,r),gi:PS.bind(null,r),yi:LS.bind(null,r),Tn:OS.bind(null,r),_i:_S.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TS(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=EE();if(!yE.Pt(t))throw new kg(gg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=T_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zS),qS=function(){function e(){$i(this,e)}return Ji(e,[{key:"initialize",value:function(){var e=Qi(ta().mark((function e(t,n){var r=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return eS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,this.syncEngine),e.next=12,vI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new II}},{key:"createDatastore",value:function(e){var t,n=SE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _E(t));return function(e,t,n,r){return new RE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return eS(o.syncEngine,e,0)},a=wE.Pt()?new wE:new kE,new PE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new qI(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yg(t),fg("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,ME(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Qi(ta().mark((function r(){var i;return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var HS=function(){function e(t){$i(this,e),this.observer=t,this.muted=!1}return Ji(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),KS=function(){function e(t,n){var r=this;$i(this,e),this.sc=t,this.k=n,this.metadata=new wg,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ji(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Qi(ta().mark((function e(){var t,n,r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new DI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Qi(ta().mark((function e(){var t,n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Qi(ta().mark((function e(){var t,n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GS=function(){function e(t){$i(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ji(e,[{key:"lookup",value:function(){var e=Qi(ta().mark((function e(t){var n,r=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new kg(gg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Qi(ta().mark((function e(t,n){var r,i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),i=_b(r.k)+"/documents",a={documents:n.map((function(e){return kb(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Tb(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());mg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Lw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Qi(ta().mark((function e(){var t,n=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=nk.fromPath(t);n.mutations.push(new Mw(r,n.precondition(r)))})),e.next=7,function(){var e=Qi(ta().mark((function e(t,n){var r,i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yg(t),i=_b(r.k)+"/documents",a={writes:n.map((function(e){return Cb(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vg();t=Mg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kg(gg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ww.updateTime(t):ww.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mg.min()))throw new kg(gg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ww.updateTime(t)}return ww.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),QS=function(){function e(t,n,r,i){$i(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new TE(this.asyncQueue,"transaction_retry")}return Ji(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Qi(ta().mark((function t(){var n,r;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new GS(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uw(t)}return!1}}]),e}(),$S=function(){function e(t,n,r,i){var a=this;$i(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ug.UNAUTHENTICATED,this.clientId=Rg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Ji(e,[{key:"getConfiguration",value:function(){var e=Qi(ta().mark((function e(){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new kg(gg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Qi(ta().mark((function n(){var r;return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function YS(e,t){return JS.apply(this,arguments)}function JS(){return JS=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,D_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function XS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,eT(t);case 3:return r=e.sent,fg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Qi(ta().mark((function e(t,n){var r,i;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yg(t)).asyncQueue.verifyOperationInProgress(),fg("RemoteStore","RemoteStore received new credentials"),i=WE(r),r.Gr.add(3),e.next=6,ME(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,DE(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return fg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,YS(t,new VS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e){return rT.apply(this,arguments)}function rT(){return rT=Qi(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return fg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,XS(t,new qS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e){return eT(e).then((function(e){return e.persistence}))}function aT(e){return eT(e).then((function(e){return e.localStore}))}function oT(e){return nT(e).then((function(e){return e.remoteStore}))}function uT(e){return nT(e).then((function(e){return e.syncEngine}))}function sT(e){return cT.apply(this,arguments)}function cT(){return cT=Qi(ta().mark((function e(t){var n,r;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=WI.bind(null,n.syncEngine),r.onUnlisten=QI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function i(){return ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HS({next:function(a){t.enqueueAndForget((function(){return CI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new kg(gg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new kg(gg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new PI(Bk(n.path),a,{includeMetadataChanges:!0,wo:!0});return SI(e,o)},i.next=3,sT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function fT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function i(){return ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HS({next:function(n){t.enqueueAndForget((function(){return CI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new kg(gg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new PI(n,a,{includeMetadataChanges:!0,wo:!0});return SI(e,o)},i.next=3,sT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var hT=Ji((function e(t,n,r,i,a,o,u,s){$i(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),dT=function(){function e(t,n){$i(this,e),this.projectId=t,this.database=n||"(default)"}return Ji(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),pT=new Map;function vT(e,t,n){if(!n)throw new kg(gg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function mT(e,t,n,r){if(!0===t&&!0===r)throw new kg(gg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function yT(e){if(!nk.isDocumentKey(e))throw new kg(gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gT(e){if(nk.isDocumentKey(e))throw new kg(gg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vg()}function wT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kg(gg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kT(e);throw new kg(gg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function bT(e,t){if(t<=0)throw new kg(gg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xT=function(){function e(t){var n;if($i(this,e),void 0===t.host){if(void 0!==t.ssl)throw new kg(gg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kg(gg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,mT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ji(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),_T=function(){function e(t,n,r){$i(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,t instanceof dT?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kg(gg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dT(e.options.projectId)}(t))}return Ji(e,[{key:"app",get:function(){if(!this._app)throw new kg(gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new kg(gg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xg;switch(e.type){case"gapi":var t=e.client;return mg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Sg(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new kg(gg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=pT.get(e);t&&(fg("ComponentProvider","Removing Datastore"),pT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ET(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=wT(e,_T))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&dg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ug.MOCK_USER;else{o=fa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new kg(gg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ug(s)}e._authCredentials=new _g(new bg(o,u))}}var IT=function(){function e(t,n,r){$i(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ji(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new TT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ST=function(){function e(t,n,r){$i(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ji(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),TT=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this,e,r,Bk(i)))._path=i,a.type="collection",a}return Ji(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new IT(this.firestore,null,new nk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ST);function CT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oa(e),vT("collection","path",t),e instanceof _T){var a=zg.fromString.apply(zg,[t].concat(r));return gT(a),new TT(e,null,a)}if(!(e instanceof IT||e instanceof TT))throw new kg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zg.fromString.apply(zg,[t].concat(r)));return gT(o),new TT(e.firestore,null,o)}function AT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oa(e),1===arguments.length&&(t=Rg.A()),vT("doc","path",t),e instanceof _T){var a=zg.fromString.apply(zg,[t].concat(r));return yT(a),new IT(e,null,new nk(a))}if(!(e instanceof IT||e instanceof TT))throw new kg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zg.fromString.apply(zg,[t].concat(r)));return yT(o),new IT(e.firestore,e instanceof TT?e.converter:null,new nk(o))}function NT(e,t){return e=Oa(e),t=Oa(t),(e instanceof IT||e instanceof TT)&&(t instanceof IT||t instanceof TT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function RT(e,t){return e=Oa(e),t=Oa(t),e instanceof ST&&t instanceof ST&&e.firestore===t.firestore&&Jk(e._query,t._query)&&e.converter===t.converter}var OT=function(){function e(){var t=this;$i(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new TE(this,"async_queue_retry"),this.bc=function(){var e=IE();e&&fg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=IE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Ji(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=IE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new wg;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Qi(ta().mark((function e(){var t=this;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gx(e.t0)){e.next=12;break}throw e.t0;case 12:fg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=kI.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&vg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Qi(ta().mark((function e(){var t;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Ki(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ki(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function PT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ki(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var DT=function(){function e(){$i(this,e),this._progressObserver={},this._taskCompletionResolver=new wg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ji(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),LT=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new OT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ji(n,[{key:"_terminate",value:function(){return this._firestoreClient||FT(this),this._firestoreClient.terminate()}}]),n}(_T);function MT(e){return e._firestoreClient||FT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $S(e._authCredentials,e._appCheckCredentials,e._queue,r)}function UT(e,t,n){var r=new wg;return e.asyncQueue.enqueue(Qi(ta().mark((function i(){return ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,YS(e,n);case 3:return i.next=5,XS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===gg.FAILED_PRECONDITION||e.code===gg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jT(e){return function(e){return e.asyncQueue.enqueue(Qi(ta().mark((function t(){var n,r;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iT(e);case 2:return n=t.sent,t.next=5,oT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yg(e);return t.Gr.delete(0),DE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(MT(e=wT(e,LT)))}function VT(e){return function(e){return e.asyncQueue.enqueue(Qi(ta().mark((function t(){var n,r;return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iT(e);case 2:return n=t.sent,t.next=5,oT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yg(t)).Gr.add(0),e.next=4,ME(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(MT(e=wT(e,LT)))}function zT(e,t){var n=MT(e=wT(e,LT)),r=new DT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new KS(e,t)}(function(e,t){if(e instanceof Uint8Array)return WS(e,t);if(e instanceof ArrayBuffer)return WS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,SE(t));e.asyncQueue.enqueueAndForget(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jS,t.next=3,uT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function BT(e,t){return function(e,t){return e.asyncQueue.enqueue(Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,aT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(MT(e=wT(e,LT)),t).then((function(t){return t?new ST(e,null,t.query):null}))}function qT(e){if(e._initialized||e._terminated)throw new kg(gg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var WT=function(){function e(){$i(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new kg(gg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qg(n)}return Ji(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var HT=function(){function e(t){$i(this,e),this._byteString=t}return Ji(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Hg.fromBase64String(t))}catch(t){throw new kg(gg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Hg.fromUint8Array(t))}}]),e}(),KT=Ji((function e(t){$i(this,e),this._methodName=t})),GT=function(){function e(t,n){if($i(this,e),!isFinite(t)||t<-90||t>90)throw new kg(gg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kg(gg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ji(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Og(this._lat,e._lat)||Og(this._long,e._long)}}]),e}(),QT=/^__.*__$/,$T=function(){function e(t,n,r){$i(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ji(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Aw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cw(e,this.data,t,this.fieldTransforms)}}]),e}(),YT=function(){function e(t,n,r){$i(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ji(e,[{key:"toMutation",value:function(e,t){return new Aw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function JT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vg()}}var XT=function(){function e(t,n,r,i,a,o){$i(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ji(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return gC(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(JT(this.$c)&&QT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),ZT=function(){function e(t,n,r){$i(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||SE(t)}return Ji(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new XT({$c:e,methodName:t,jc:n,path:qg.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function eC(e){var t=e._freezeSettings(),n=SE(e._databaseId);return new ZT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);pC("Data must be an object, but it was:",o,r);var u,s,c=hC(r,o);if(a.merge)u=new Wg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ki(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=vC(t,d,n);if(!o.contains(p))throw new kg(gg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));kC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Wg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new $T(new yk(c),u,s)}var nC=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(KT);function rC(e,t,n){return new XT({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var iC=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"_toFieldTransform",value:function(e){return new gw(e.path,new lw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(KT),aC=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e)).Wc=r,i}return Ji(n,[{key:"_toFieldTransform",value:function(e){var t=rC(this,e,!0),n=this.Wc.map((function(e){return fC(e,t)})),r=new fw(n);return new gw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(KT),oC=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e)).Wc=r,i}return Ji(n,[{key:"_toFieldTransform",value:function(e){var t=rC(this,e,!0),n=this.Wc.map((function(e){return fC(e,t)})),r=new dw(n);return new gw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(KT),uC=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e)).Gc=r,i}return Ji(n,[{key:"_toFieldTransform",value:function(e){var t=new vw(e.k,aw(e.k,this.Gc));return new gw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(KT);function sC(e,t,n,r){var i=e.Qc(1,t,n);pC("Data must be an object, but it was:",i,r);var a=[],o=yk.empty();Ug(r,(function(e,r){var u=yC(t,e,n);r=Oa(r);var s=i.Bc(u);if(r instanceof nC)a.push(u);else{var c=fC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Wg(a);return new YT(o,u,i.fieldTransforms)}function cC(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[vC(t,r,n)],s=[i];if(a.length%2!=0)throw new kg(gg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vC(t,a[c])),s.push(a[c+1]);for(var l=[],f=yk.empty(),h=u.length-1;h>=0;--h)if(!kC(l,u[h])){var d=u[h],p=s[h];p=Oa(p);var v=o.Bc(d);if(p instanceof nC)l.push(d);else{var m=fC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Wg(l);return new YT(f,y,o.fieldTransforms)}function lC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fC(n,e.Qc(r?4:3,t))}function fC(e,t){if(dC(e=Oa(e)))return pC("Unsupported field value:",t,e),hC(e,t);if(e instanceof KT)return function(e,t){if(!JT(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ki(e);try{for(a.s();!(n=a.n()).done;){var o=fC(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Oa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aw(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Lg.fromDate(e);return{timestampValue:db(t.k,n)}}if(e instanceof Lg){var r=new Lg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:db(t.k,r)}}if(e instanceof GT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HT)return{bytesValue:pb(t.k,e._byteString)};if(e instanceof IT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(kT(e)))}(e,t)}function hC(e,t){var n={};return jg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ug(e,(function(e,r){var i=fC(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Lg||e instanceof GT||e instanceof HT||e instanceof IT||e instanceof KT)}function pC(e,t,n){if(!dC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=kT(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function vC(e,t,n){if((t=Oa(t))instanceof WT)return t._internalPath;if("string"==typeof t)return yC(e,t);throw gC("Field path arguments must be of type string or ",e,!1,void 0,n)}var mC=new RegExp("[~\\*/\\[\\]]");function yC(e,t,n){if(t.search(mC)>=0)throw gC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return na(WT,Zi(t.split(".")))._internalPath}catch(r){throw gC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new kg(gg.INVALID_ARGUMENT,u+e+s)}function kC(e,t){return e.some((function(e){return e.isEqual(t)}))}var wC=function(){function e(t,n,r,i,a){$i(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ji(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new IT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),bC=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"data",value:function(){return ji(Fi(n.prototype),"data",this).call(this)}}]),n}(wC);function xC(e,t){return"string"==typeof t?yC(e,t):t instanceof WT?t._internalPath:t._delegate._internalPath}var _C=function(){function e(t,n){$i(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ji(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),EC=function(e){zi(n,e);var t=Hi(n);function n(e,r,i,a,o,u){var s;return $i(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ji(n,[{key:"exists",value:function(){return ji(Fi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new IC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wC),IC=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ji(Fi(n.prototype),"data",this).call(this,e)}}]),n}(EC),SC=function(){function e(t,n,r,i){$i(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _C(i.hasPendingWrites,i.fromCache),this.query=r}return Ji(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new IC(n._firestore,n._userDataWriter,r.key,r,new _C(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kg(gg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new IC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _C(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new IC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _C(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function TC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vg()}}function CC(e,t){return e instanceof EC&&t instanceof EC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof SC&&t instanceof SC&&e._firestore===t._firestore&&RT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function AC(e){if(Wk(e)&&0===e.explicitOrderBy.length)throw new kg(gg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NC=Ji((function e(){$i(this,e)}));function RC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var OC=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Ji(n,[{key:"_apply",value:function(e){var t=eC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new kg(gg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qC(o,a);var s,c=[],l=Ki(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(BC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=BC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qC(o,a),u=lC(n,"where",o,"in"===a||"not-in"===a);var h=Ik.create(i,a,u);return function(e,t){if(t.V()){var n=Kk(e);if(null!==n&&!n.isEqual(t.field))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Hk(e);null!==r&&WC(e,t.field,r)}var i=function(e,t){var n,r=Ki(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new kg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ST(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(NC);var PC=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Ji(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new kg(gg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kg(gg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mk(t,n);return function(e,t){if(null===Hk(e)){var n=Kk(e);null!==n&&WC(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new ST(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Vk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(NC);var DC=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Ji(n,[{key:"_apply",value:function(e){return new ST(e.firestore,e.converter,Yk(e._query,this.Xc,this.Zc))}}]),n}(NC);var LC=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ji(n,[{key:"_apply",value:function(e){var t=zC(e,this.type,this.ta,this.ea);return new ST(e.firestore,e.converter,function(e,t){return new Vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(NC);function MC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LC("startAt",t,!0)}function FC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LC("startAfter",t,!1)}var UC=function(e){zi(n,e);var t=Hi(n);function n(e,r,i){var a;return $i(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ji(n,[{key:"_apply",value:function(e){var t=zC(e,this.type,this.ta,this.ea);return new ST(e.firestore,e.converter,function(e,t){return new Vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(NC);function jC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new UC("endBefore",t,!0)}function VC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new UC("endAt",t,!1)}function zC(e,t,n,r){if(n[0]=Oa(n[0]),n[0]instanceof wC)return function(e,t,n,r,i){if(!r)throw new kg(gg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ki(Qk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(lk(t,r.key));else{var c=r.data.field(s.field);if(Yg(c))throw new kg(gg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new kg(gg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Dk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new kg(gg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new kg(gg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Gk(e)&&-1!==c.indexOf("/"))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zg.fromString(c));if(!nk.isDocumentKey(l))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new nk(l);u.push(lk(t,f))}else{var h=lC(n,r,c);u.push(h)}}return new Dk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BC(e,t,n){if("string"==typeof(n=Oa(n))){if(""===n)throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gk(t)&&-1!==n.indexOf("/"))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zg.fromString(n));if(!nk.isDocumentKey(r))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lk(e,new nk(r))}if(n instanceof IT)return lk(e,n._key);throw new kg(gg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kT(n),"."))}function qC(e,t){if(!Array.isArray(e)||0===e.length)throw new kg(gg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new kg(gg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function WC(e,t,n){if(!n.isEqual(t))throw new kg(gg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var HC=function(){function e(){$i(this,e)}return Ji(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($g(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ug(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new GT(Qg(e.latitude),Qg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Jg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Gg(e);return new Lg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zg.fromString(e);mg(qb(n));var r=new dT(n.get(1),n.get(3)),i=new nk(n.popFirst(5));return r.isEqual(t)||hg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function KC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GC=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).firestore=e,r}return Ji(n,[{key:"convertBytes",value:function(e){return new HT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new IT(this.firestore,null,t)}}]),n}(HC),QC=function(){function e(t,n){$i(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eC(t)}return Ji(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=$C(e,this._firestore),i=KC(r.converter,t,n),a=tC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ww.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=$C(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Oa(t))||t instanceof WT?cC(this._dataReader,"WriteBatch.update",i._key,t,n,o):sC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ww.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=$C(e,this._firestore);return this._mutations=this._mutations.concat(new Lw(t._key,ww.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new kg(gg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function $C(e,t){if((e=Oa(e)).firestore!==t)throw new kg(gg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var YC=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).firestore=e,r}return Ji(n,[{key:"convertBytes",value:function(e){return new HT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new IT(this.firestore,null,t)}}]),n}(HC);function JC(e){e=wT(e,IT);var t=wT(e.firestore,LT),n=MT(t),r=new YC(t);return function(e,t){var n=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function r(){return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Qi(ta().mark((function e(t,n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new kg(gg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,aT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new EC(t,r,e._key,n,new _C(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function XC(e){e=wT(e,ST);var t=wT(e.firestore,LT),n=MT(t),r=new YC(t);return function(e,t){var n=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function r(){return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Qi(ta().mark((function e(t,n,r){var i,a,o,u,s;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W_(t,n,!0);case 3:i=e.sent,a=new VI(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=wI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,aT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new SC(t,r,e,n)}))}function ZC(e,t,n){e=wT(e,IT);var r=wT(e.firestore,LT),i=KC(e.converter,t,n);return rA(r,[tC(eC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ww.none())])}function eA(e,t,n){e=wT(e,IT);for(var r=wT(e.firestore,LT),i=eC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return rA(r,[("string"==typeof(t=Oa(t))||t instanceof WT?cC(i,"updateDoc",e._key,t,n,o):sC(i,"updateDoc",e._key,t)).toMutation(e._key,ww.exists(!0))])}function tA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Oa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||PT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(PT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof IT)l=wT(e.firestore,LT),f=Bk(e._key.path),c={next:function(t){n[s]&&n[s](iA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=wT(e,ST);l=wT(p.firestore,LT),f=p._query;var v=new YC(l);c={next:function(e){n[s]&&n[s](new SC(l,v,p,e))},error:n[s+1],complete:n[s+2]},AC(e._query)}return function(e,t,n,r){var i=new HS(r),a=new PI(t,i,n);return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=SI,t.next=3,sT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CI,t.next=3,sT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MT(l),f,h,c)}function nA(e,t){return function(e,t){var n=new HS(t);return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yg(e).io.add(t),t.next()},t.next=3,sT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Qi(ta().mark((function t(){return ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yg(e).io.delete(t)},t.next=3,sT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MT(e=wT(e,LT)),PT(t)?t:{next:t})}function rA(e,t){return function(e,t){var n=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function r(){return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=YI,r.next=3,uT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(MT(e),t)}function iA(e,t,n){var r=n.docs.get(t._key),i=new YC(e);return new EC(e,i,t._key,r,new _C(n.hasPendingWrites,n.fromCache),t.converter)}var aA=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ji(n,[{key:"get",value:function(e){var t=this,r=$C(e,this._firestore),i=new YC(this._firestore);return ji(Fi(n.prototype),"get",this).call(this,e).then((function(e){return new EC(t._firestore,i,r._key,e._document,new _C(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){$i(this,e),this._firestore=t,this._transaction=n,this._dataReader=eC(t)}return Ji(e,[{key:"get",value:function(e){var t=this,n=$C(e,this._firestore),r=new GC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vg();var i=e[0];if(i.isFoundDocument())return new wC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new wC(t._firestore,r,n._key,null,n.converter);throw vg()}))}},{key:"set",value:function(e,t,n){var r=$C(e,this._firestore),i=KC(r.converter,t,n),a=tC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=$C(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Oa(t))||t instanceof WT?cC(this._dataReader,"Transaction.update",i._key,t,n,o):sC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=$C(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function oA(e,t){return function(e,t){var n=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function r(){var i;return ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return nT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new QS(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(MT(e=wT(e,LT)),(function(n){return t(new aA(e,n))}))}function uA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aC("arrayUnion",t)}function sA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sg=e}(fo),ro(new Pa("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new LT(i,new Eg(e.getProvider("auth-internal")),new Cg(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),go(og,"3.4.3",e),go(og,"3.4.3","esm2017")}();function cA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lA(){if("undefined"===typeof Uint8Array)throw new kg("unimplemented","Uint8Arrays are not available in this environment.")}function fA(){if("undefined"==typeof atob)throw new kg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hA=function(){function e(t){$i(this,e),this._delegate=t}return Ji(e,[{key:"toBase64",value:function(){return fA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fA(),new e(HT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lA(),new e(HT.fromUint8Array(t))}}]),e}();function dA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ki(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pA=function(){function e(){$i(this,e)}return Ji(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qT(e=wT(e,LT));var n=MT(e),r=e._freezeSettings(),i=new qS;return UT(n,i,new zS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qT(e=wT(e,LT));var t=MT(e),n=e._freezeSettings(),r=new qS;return UT(t,r,new BS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new kg(gg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wg;return e._queue.enqueueAndForgetEvenWhileRestricted(Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Qi(ta().mark((function e(t){var n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vx.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(T_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vA=function(){function e(t,n,r){var i=this;$i(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof dT||(this._appCompat=t)}return Ji(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||dg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ET(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jT(this._delegate)}},{key:"disableNetwork",value:function(){return VT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&mT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new wg;return e.asyncQueue.enqueueAndForget(Qi(ta().mark((function n(){return ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=uS,n.next=3,uT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(MT(e=wT(e,LT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return nA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new kg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new AA(this,CT(this._delegate,e))}catch(t){throw bA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new wA(this,AT(this._delegate,e))}catch(t){throw bA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new SA(this,function(e,t){if(e=wT(e,_T),vT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new kg(gg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ST(e,null,function(e){return new Vk(zg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw bA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return oA(this._delegate,(function(n){return e(new yA(t,n))}))}},{key:"batch",value:function(){var e=this;return MT(this._delegate),new gA(new QC(this._delegate,(function(t){return rA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return BT(this._delegate,e).then((function(e){return e?new SA(t,e):null}))}}]),e}(),mA=function(e){zi(n,e);var t=Hi(n);function n(e){var r;return $i(this,n),(r=t.call(this)).firestore=e,r}return Ji(n,[{key:"convertBytes",value:function(e){return new hA(new HT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return wA.forKey(t,this.firestore,null)}}]),n}(HC);var yA=function(){function e(t,n){$i(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new mA(t)}return Ji(e,[{key:"get",value:function(e){var t=this,n=NA(e);return this._delegate.get(n).then((function(e){return new EA(t._firestore,new EC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=NA(e);return n?(cA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=NA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NA(e);return this._delegate.delete(t),this}}]),e}(),gA=function(){function e(t){$i(this,e),this._delegate=t}return Ji(e,[{key:"set",value:function(e,t,n){var r=NA(e);return n?(cA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=NA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kA=function(){function e(t,n,r){$i(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ji(e,[{key:"fromFirestore",value:function(e,t){var n=new IC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new mA(t),n),i.set(n,a)),a}}]),e}();kA.INSTANCES=new WeakMap;var wA=function(){function e(t,n){$i(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mA(t)}return Ji(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new AA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new AA(this.firestore,CT(this._delegate,e))}catch(t){throw bA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Oa(e))instanceof IT&&NT(this._delegate,e)}},{key:"set",value:function(e,t){t=cA("DocumentReference.set",t);try{return t?ZC(this._delegate,e,t):ZC(this._delegate,e)}catch(n){throw bA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?eA(this._delegate,e):eA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw bA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return rA(wT(e.firestore,LT),[new Lw(e._key,ww.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xA(n),a=_A(n,(function(t){return new EA(e.firestore,new EC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return tA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?JC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wT(e,IT);var t=wT(e.firestore,LT);return lT(MT(t),e._key,{source:"server"}).then((function(n){return iA(t,e,n)}))}(this._delegate):function(e){e=wT(e,IT);var t=wT(e.firestore,LT);return lT(MT(t),e._key).then((function(n){return iA(t,e,n)}))}(this._delegate),t.then((function(e){return new EA(n.firestore,new EC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new kg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new IT(n._delegate,r,new nk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new IT(n._delegate,r,t))}}]),e}();function bA(e,t,n){return e.message=e.message.replace(t,n),e}function xA(e){var t,n=Ki(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function _A(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dA(e[0])?e[0]:dA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var EA=function(){function e(t,n){$i(this,e),this._firestore=t,this._delegate=n}return Ji(e,[{key:"ref",get:function(){return new wA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return CC(this._delegate,e._delegate)}}]),e}(),IA=function(e){zi(n,e);var t=Hi(n);function n(){return $i(this,n),t.apply(this,arguments)}return Ji(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||vg()}(void 0!==t),t}}]),n}(EA),SA=function(){function e(t,n){$i(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mA(t)}return Ji(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,RC(this._delegate,function(e,t,n){var r=t,i=xC("where",e);return new OC(i,r,n)}(t,n,r)))}catch(i){throw bA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,RC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xC("orderBy",e);return new PC(n,t)}(t,n)))}catch(r){throw bA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,RC(this._delegate,function(e){return bT("limit",e),new DC("limit",e,"F")}(t)))}catch(n){throw bA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,RC(this._delegate,function(e){return bT("limitToLast",e),new DC("limitToLast",e,"L")}(t)))}catch(n){throw bA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,RC(this._delegate,MC.apply(void 0,arguments)))}catch(t){throw bA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,RC(this._delegate,FC.apply(void 0,arguments)))}catch(t){throw bA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,RC(this._delegate,jC.apply(void 0,arguments)))}catch(t){throw bA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,RC(this._delegate,VC.apply(void 0,arguments)))}catch(t){throw bA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return RT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?XC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wT(e,ST);var t=wT(e.firestore,LT),n=MT(t),r=new YC(t);return fT(n,e._query,{source:"server"}).then((function(n){return new SC(t,r,e,n)}))}(this._delegate):function(e){e=wT(e,ST);var t=wT(e.firestore,LT),n=MT(t),r=new YC(t);return AC(e._query),fT(n,e._query).then((function(n){return new SC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new CA(n.firestore,new SC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xA(n),a=_A(n,(function(t){return new CA(e.firestore,new SC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return tA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TA=function(){function e(t,n){$i(this,e),this._firestore=t,this._delegate=n}return Ji(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new IA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),CA=function(){function e(t,n){$i(this,e),this._firestore=t,this._delegate=n}return Ji(e,[{key:"query",get:function(){return new SA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new IA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new IA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return CC(this._delegate,e._delegate)}}]),e}(),AA=function(e){zi(n,e);var t=Hi(n);function n(e,r){var i;return $i(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ji(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new wA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new wA(this.firestore,void 0===e?AT(this._delegate):AT(this._delegate,e))}catch(t){throw bA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=wT(e.firestore,LT),r=AT(e),i=KC(e.converter,t);return rA(n,[tC(eC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ww.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new wA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return NT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(SA);function NA(e){return wT(e,IT)}var RA=function(){function e(){$i(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=na(WT,n)}return Ji(e,[{key:"isEqual",value:function(e){return(e=Oa(e))instanceof WT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(qg.keyField().canonicalString())}}]),e}(),OA=function(){function e(t){$i(this,e),this._delegate=t}return Ji(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new nC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),PA={Firestore:vA,GeoPoint:GT,Timestamp:Lg,Blob:hA,Transaction:yA,WriteBatch:gA,DocumentReference:wA,DocumentSnapshot:EA,Query:SA,QueryDocumentSnapshot:IA,QuerySnapshot:CA,CollectionReference:AA,FieldPath:RA,FieldValue:OA,setLogLevel:function(e){!function(e){cg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Pa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},PA)))}(e,(function(e,t){return new vA(e,t,new pA)})),e.registerVersion("@firebase/firestore-compat","0.1.12")}(zh);go("firebase","9.6.4","app");var DA=ho({apiKey:"AIzaSyCH2bsKN7Ea5YfATDXtmA3Sgo12_vuZCdA",authDomain:"indian-movies-6472e.firebaseapp.com",projectId:"indian-movies-6472e",storageBucket:"indian-movies-6472e.appspot.com",messagingSenderId:"1081601166953",appId:"1:1081601166953:web:d56d23200ce1577e035cf8",measurementId:"G-F5HJDDL96H"});(0,a.render)((0,wn.jsx)(wn.Fragment,{children:(0,wn.jsxs)(Mi.Provider,{value:{Firebase:DA},children:[(0,wn.jsx)(Dh,{}),(0,wn.jsx)(Ph,{})]})}),document.getElementById("root"))},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,S=60114,T=60109,C=60110,A=60112,N=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),I=j("react.strict_mode"),S=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),R=j("react.suspense_list"),O=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Se(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Pt.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case At:case Nt:s=wn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Si(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Oi,Qi),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);Ba(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&zu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=b.ReactCurrentDispatcher,Ru=b.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(Bu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Si(Oi,$i)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ss();for(Pu===e&&Lu===r||(Gu(),Es(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Uu),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,qi()),null}function ws(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function bs(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,qu=Bu=zu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=zs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Ss();for(Pu===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Os(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,zr=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var w=$u.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Su($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Su($u.alternate,$u);break;case 4:Su($u.alternate,$u);break;case 8:Iu(u,s=$u);var x=s.alternate;wu(s),null!==x&&wu(x)}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);if(b=Br,w=mr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){w=void 0;var E=$u.ref;if(null!==E){var I=$u.stateNode;$u.tag,w=I,"function"===typeof E?E(w):E.current=w}}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);$u=null,Ui(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,qi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Hu?Es(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ws(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return $s(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ws,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)}},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],w=n[7];u&&(r.push(u),u="");var b=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:_,repeat:x,partial:b,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,R=!1,O=!1,P=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(P=!1,D(e),!O)if(null!==_(S))O=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=N;try{for(D(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&E(S),D(n)}else E(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},221:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.ce6a4728b13b5f666f9c.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";n(574)}();
//# sourceMappingURL=main.02ce4b74.js.map