/*! For license information please see main.6b9f0577.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},642:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FirebaseError:function(){return mu},SDK_VERSION:function(){return ss},_DEFAULT_ENTRY_NAME:function(){return Qu},_addComponent:function(){return Xu},_addOrOverwriteComponent:function(){return Zu},_apps:function(){return Yu},_clearComponents:function(){return rs},_components:function(){return Ju},_getProvider:function(){return ts},_registerComponent:function(){return es},_removeServiceInstance:function(){return ns},deleteApp:function(){return hs},getApp:function(){return ls},getApps:function(){return fs},initializeApp:function(){return cs},onLog:function(){return vs},registerVersion:function(){return ps},setLogLevel:function(){return ms}});var i=n(791),a=n(164);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&c(e),o=t&&c(t),u=a||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?l(i,h):".."===d?(l(i,h),f++):f&&(l(i,h),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function h(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var d=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=h(t),i=h(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},p="Invariant failed";function v(e,t){if(!e)throw new Error(p)}function m(e){return"/"===e.charAt(0)?e:"/"+e}function y(e){return"/"===e.charAt(0)?e.substr(1):e}function g(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function k(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function b(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var I="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),_||v(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?S:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?k(m(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=g(a,h)),b(a,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var y=x();function C(e){s(V,e),V.length=t.length,y.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(d(e.state))}function N(){O(d(T()))}var R=!1;function O(e){if(R)R=!1,C();else{y.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}}var P=d(T()),D=[P.key];function L(e){return h+w(e)}function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(I,A),r&&window.addEventListener(E,N)):0===j&&(window.removeEventListener(I,A),r&&window.removeEventListener(E,N))}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=b(e,r,p(),V.location);y.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=b(e,r,p(),V.location);y.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=y.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=y.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var A="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+y(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:y,decodePath:m},slash:{encodePath:m,decodePath:m}};function R(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(R(window.location.href)+"#"+e)}function D(e){void 0===e&&(e={}),_||v(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?k(m(e.basename)):"",c=N[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(O());return u&&(e=g(e,u)),b(e)}var d=x();function p(e){s(V,e),V.length=t.length,d.notifyListeners(V.location,V.action)}var y=!1,I=null;function E(){var e=O(),t=l(e);if(e!==t)P(t);else{var n=h(),r=V.location;if(!y&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(I===w(n))return;I=null,function(e){if(y)y=!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(w(t));-1===n&&(n=0);var r=L.lastIndexOf(w(e));-1===r&&(r=0);var i=n-r;i&&(y=!0,M(i))}(e)}))}}(n)}}var T=O(),C=l(T);T!==C&&P(C);var D=h(),L=[w(D)];function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(A,E):0===j&&window.removeEventListener(A,E)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=R(window.location.href)),n+"#"+l(u+w(e))},push:function(e,t){var n="PUSH",r=b(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=w(r),i=l(u+t);if(O()!==i){I=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(w(V.location)),o=L.slice(0,a+1);o.push(t),L=o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=b(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=w(r),i=l(u+t);O()!==i&&(I=t,P(i));var a=L.indexOf(w(V.location));-1!==a&&(L[a]=t),p({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=d.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function L(e,t,n){return Math.min(Math.max(e,t),n)}function M(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=x();function f(e){s(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=L(o,0,i.length-1),p=i.map((function(e){return b(e,void 0,"string"===typeof e?h():e.key||h())})),v=w;function m(e){var t=L(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=b(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=b(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var j=n(7),F=n.n(j),U=1073741823,V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function z(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var B=i.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return V[e]=(V[e]||0)+1}()+"__",o=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=z(t.props.value),t}u(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):U,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(i.Component);o.childContextTypes=((n={})[a]=F().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}u(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?U:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?U:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return s.contextTypes=((r={})[a]=F().object,r),{Provider:o,Consumer:s}},q=B,W=n(239),H=n.n(W);n(228);function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=n(110),Q=n.n(G),$=function(e){var t=q();return t.displayName=e,t},Y=$("Router-History"),J=function(e){var t=q();return t.displayName=e,t},X=J("Router"),Z=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}u(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.createElement(X.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;var ee=function(e){function t(){return e.apply(this,arguments)||this}u(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);var te={},ne=0;function re(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(te[e])return te[e];var t=H().compile(e);return ne<1e4&&(te[e]=t,ne++),t}(e)(t,{pretty:!0})}function ie(e){var t=e.computedMatch,n=e.to,r=e.push,a=void 0!==r&&r;return i.createElement(X.Consumer,null,(function(e){e||v(!1);var r=e.history,o=e.staticContext,u=a?r.push:r.replace,c=b(t?"string"===typeof n?re(n,t.params):s({},n,{pathname:re(n.pathname,t.params)}):n);return o?(u(c),null):i.createElement(ee,{onMount:function(){u(c)},onUpdate:function(e,t){var n=b(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&d(e.state,t.state)})(n,s({},c,{key:n.key}))||u(c)},to:n})}))}var ae={},oe=0;function ue(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ae[n]||(ae[n]={});if(r[e])return r[e];var i=[],a={regexp:H()(e,i,t),keys:i};return oe<1e4&&(r[e]=a,oe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var se=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=this;return i.createElement(X.Consumer,null,(function(t){t||v(!1);var n=e.props.location||t.location,r=s({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ue(n.pathname,e.props):t.match}),a=e.props,o=a.children,u=a.component,c=a.render;return Array.isArray(o)&&0===o.length&&(o=null),i.createElement(X.Provider,{value:r},r.match?o?"function"===typeof o?o(r):o:u?i.createElement(u,r):c?c(r):null:"function"===typeof o?o(r):null)}))},t}(i.Component);function ce(e){return"/"===e.charAt(0)?e:"/"+e}function le(e,t){if(!e)return t;var n=ce(e);return 0!==t.pathname.indexOf(n)?t:s({},t,{pathname:t.pathname.substr(n.length)})}function fe(e){return"string"===typeof e?e:w(e)}function he(e){return function(){v(!1)}}function de(){}i.Component;i.Component;var pe=i.useContext;function ve(){return pe(Y)}var me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=C(t.props),t}return u(t,e),t.prototype.render=function(){return i.createElement(Z,{history:this.history,children:this.props.children})},t}(i.Component);i.Component;var ye=function(e,t){return"function"===typeof e?e(t):e},ge=function(e,t){return"string"===typeof e?b(e,null,null,t):e},ke=function(e){return e},we=i.forwardRef;"undefined"===typeof we&&(we=ke);var be=we((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=K(e,["innerRef","navigate","onClick"]),u=o.target,c=s({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=ke!==we&&t||n,i.createElement("a",c)}));var xe=we((function(e,t){var n=e.component,r=void 0===n?be:n,a=e.replace,o=e.to,u=e.innerRef,c=K(e,["component","replace","to","innerRef"]);return i.createElement(X.Consumer,null,(function(e){e||v(!1);var n=e.history,l=ge(ye(o,e.location),e.location),f=l?n.createHref(l):"",h=s({},c,{href:f,navigate:function(){var t=ye(o,e.location);(a?n.replace:n.push)(t)}});return ke!==we?h.ref=t||u:h.innerRef=u,i.createElement(r,h)}))})),_e=function(e){return e},Se=i.forwardRef;"undefined"===typeof Se&&(Se=_e);Se((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,d=e.sensitive,p=e.strict,m=e.style,y=e.to,g=e.innerRef,k=K(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(X.Consumer,null,(function(e){e||v(!1);var n=h||e.location,a=ge(ye(y,n),n),w=a.pathname,b=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?ue(n.pathname,{path:b,exact:l,sensitive:d,strict:p}):null,_=!!(f?f(x,n):x),S=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,o):c,I=_?s({},m,{},u):m,E=s({"aria-current":_&&r||null,className:S,style:I,to:a},k);return _e!==Se?E.ref=t||g:E.innerRef=g,i.createElement(xe,E)}))}));function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t){if(null==e)return{};var n,r,i=K(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ne=n(441),Re=n(613),Oe=n.n(Re);var Pe=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,S=0,I=0,E=0,O=0,D=v=d=0,M=0,j=0,F=0,U=0,V=s.length,z=V-1,B="",q="",W="",H="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,V++,z++),0===_+I+S+x){if(M===z&&(0<j&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=R}if(U=(v=t(r,j,v,p,h+1)).length,0<P&&(w=u(3,v,j=n(R,B,F),r,C,T,U,p,h,c),B=j.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);W+=v,v=F=j=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<j?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<P&&void 0!==(w=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}F=j=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(j=1,B+="\0"),0<P*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(j=F=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===O&&(A=O)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+S+I+x&&(j=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*O===533);else d=1;S++}break;case 64:0===_+S+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}O=E,E=p,M++}if(0<(U=q.length)){if(j=r,0<P&&(void 0!==(w=u(2,q,j,e,C,T,U,c,h,c))&&0===(q=w).length))return H+q+W;if(q=j.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],O=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=O.length=0;break;default:if("function"===typeof t)O[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},De={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Le=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Me=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,je=Le((function(e){return Me.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Ve=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Ne.typeOf)(e)},ze=Object.freeze([]),Be=Object.freeze({});function qe(e){return"function"==typeof e}function We(e){return e.displayName||e.name||"Component"}function He(e){return e&&"string"==typeof e.styledComponentId}var Ke="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ge="undefined"!=typeof window&&"HTMLElement"in window,Qe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),$e={};function Ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Je=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ye(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Xe=new Map,Ze=new Map,et=1,tt=function(e){if(Xe.has(e))return Xe.get(e);for(;Ze.has(et);)et++;var t=et++;return Xe.set(e,t),Ze.set(t,e),t},nt=function(e){return Ze.get(e)},rt=function(e,t){t>=et&&(et=t+1),Xe.set(e,t),Ze.set(t,e)},it="style["+Ke+'][data-styled-version="5.3.3"]',at=new RegExp("^"+Ke+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ot=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ut=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(at);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(rt(c,s),ot(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},st=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},ct=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ke))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ke,"active"),r.setAttribute("data-styled-version","5.3.3");var o=st();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},lt=function(){function e(e){var t=this.element=ct(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ye(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ft=function(){function e(e){var t=this.element=ct(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ht=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),dt=Ge,pt={isServer:!Ge,useCSSOMInjection:!Qe},vt=function(){function e(e,t,n){void 0===e&&(e=Be),void 0===t&&(t={}),this.options=Fe({},pt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ge&&dt&&(dt=!1,function(e){for(var t=document.querySelectorAll(it),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ke)&&(ut(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return tt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Fe({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new ht(i):r?new lt(i):new ft(i),new Je(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(tt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(tt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(tt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=nt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Ke+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),mt=/(a)(d)/gi,yt=function(e){return String.fromCharCode(e+(e>25?39:97))};function gt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yt(t%52)+n;return(yt(t%52)+n).replace(mt,"$1-$2")}var kt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wt=function(e){return kt(5381,e)};function bt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(qe(n)&&!He(n))return!1}return!0}var xt=wt("5.3.3"),_t=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bt(e),this.componentId=t,this.baseHash=kt(xt,t),this.baseStyle=n,vt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=zt(this.rules,e,t,n).join(""),o=gt(kt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=kt(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=zt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=kt(c,p+f),l+=p}}if(l){var v=gt(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),St=/^\s*\/\/.*$/gm,It=[":","[",".","#"];function Et(e){var t,n,r,i,a=void 0===e?Be:e,o=a.options,u=void 0===o?Be:o,s=a.plugins,c=void 0===s?ze:s,l=new Pe(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==It.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(St,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ye(15),kt(e,t.name)}),5381).toString():"",p}var Tt=i.createContext(),Ct=(Tt.Consumer,i.createContext()),At=(Ct.Consumer,new vt),Nt=Et();function Rt(){return(0,i.useContext)(Tt)||At}function Ot(){return(0,i.useContext)(Ct)||Nt}function Pt(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=Rt(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return Et({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){Oe()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(Tt.Provider,{value:o},i.createElement(Ct.Provider,{value:u},e.children))}var Dt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Nt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ye(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Nt),this.name+e.hash},e}(),Lt=/([A-Z])/,Mt=/([A-Z])/g,jt=/^ms-/,Ft=function(e){return"-"+e.toLowerCase()};function Ut(e){return Lt.test(e)?e.replace(Mt,Ft).replace(jt,"-ms-"):e}var Vt=function(e){return null==e||!1===e||""===e};function zt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=zt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Vt(e)?"":He(e)?"."+e.styledComponentId:qe(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:zt(e(t),t,n,r):e instanceof Dt?n?(e.inject(n,r),e.getName(r)):e:Ve(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Vt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||qe(t[o])?a.push(Ut(o)+":",t[o],";"):Ve(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ut(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in De?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Bt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qe(e)||Ve(e)?Bt(zt(Ue(ze,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Bt(zt(Ue(e,n)))}new Set;var Wt=function(e,t,n){return void 0===n&&(n=Be),e.theme!==n.theme&&e.theme||t||n.theme},Ht=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Kt=/(^-|-$)/g;function Gt(e){return e.replace(Ht,"-").replace(Kt,"")}var Qt=function(e){return gt(wt(e)>>>0)};function $t(e){return"string"==typeof e&&!0}var Yt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Jt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Xt(e,t,n){var r=e[n];Yt(t)&&Yt(r)?Zt(r,t):e[n]=t}function Zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Yt(o))for(var u in o)Jt(u)&&Xt(e,o[u],u)}return e}var en=i.createContext();en.Consumer;var tn={};function nn(e,t,n){var r=He(e),a=!$t(e),o=t.attrs,u=void 0===o?ze:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Gt(e);tn[n]=(tn[n]||0)+1;var r=n+"-"+Qt("5.3.3"+n+tn[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return $t(e)?"styled."+e:"Styled("+We(e)+")"}(e):l,h=t.displayName&&t.componentId?Gt(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new _t(n,h,r?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Be);var r=Fe({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in qe(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Wt(t,(0,i.useContext)(en),u)||Be,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Rt(),a=Ot();return t?e.generateAndInjectStyles(Be,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=$t(y),k=p!==t?Fe({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,je,y):!g||je(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=Fe({},t.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,i.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=i.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ze,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+($t(e)?e:Gt(We(e)));return nn(e,Fe({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Zt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&Q()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var rn=function(e){return function e(t,n,r){if(void 0===r&&(r=Be),!(0,Ne.isValidElementType)(n))return Ye(1,String(n));var i=function(){return t(n,r,qt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Fe({},r,{},i))},i.attrs=function(i){return e(t,n,Fe({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(nn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){rn[e]=rn(e)}));var an=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bt(e),vt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(zt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&vt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=qt.apply(void 0,[e].concat(n)),o="sc-global-"+Qt(JSON.stringify(a)),u=new an(a,o);function s(e){var t=Rt(),n=Ot(),r=(0,i.useContext)(en),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return u.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,$e,n,i);else{var a=Fe({},t,{theme:Wt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return i.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=st();return"<style "+[n&&'nonce="'+n+'"',Ke+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ye(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Ye(2);var n=((t={})[Ke]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=st();return r&&(n.nonce=r),[i.createElement("style",Fe({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new vt({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Ye(2):i.createElement(Pt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Ye(3)}}();var un,sn,cn,ln,fn,hn,dn,pn,vn,mn,yn,gn,kn,wn,bn=rn,xn=bn.div(un||(un=Ae(["\n    display: flex;\n    border-bottom: 8px solid #222;\n    padding: 50px 5%;\n    color: white;\n    overflow: hidden;\n"]))),_n=bn.div(sn||(sn=Ae(["\n    display: flex;\n    align-items: center;\n    flex-direction: ",";\n    justify-content: space-between;\n    max-width: 1100px;\n    margin: auto;\n    width: 100%;\n\n    @media (max-width: 1000px) {\n        flex-direction: column;\n    }\n"])),(function(e){return e.direction})),Sn=bn.div(cn||(cn=Ae(["\n    @media (max-width: 1000px) {\n        ",": last-of-type h2 {\n            margin-bottom: 50px;\n        }\n    }\n"])),xn),In=bn.div(ln||(ln=Ae(["\n    width: 50%;\n\n    @media (max-width: 100px){\n        width: 100%;\n        padding: 0 45px;\n        text-align: center;\n    }\n"]))),En=bn.h1(fn||(fn=Ae(["\n    font-size: 50px;\n    line-height: 1.1;\n    margin-bottom: 8px;\n\n    @media (max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),Tn=bn.h2(hn||(hn=Ae(["\n    font-size: 26px;\n    font-weight: normal;\n    line-height: normal;\n\n    @media (max-width: 600px) {\n        font-size: 18px;\n    }\n"]))),Cn=bn.img(dn||(dn=Ae(["\n    max-width: 100%;\n    height: auto;\n"]))),An=n(184),Nn=["children","direction"],Rn=["children"],On=["children"],Pn=["children"],Dn=["children"];function Ln(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=Ce(e,Nn);return(0,An.jsx)(xn,Te(Te({},i),{},{children:(0,An.jsx)(_n,{direction:r,children:t})}))}Ln.Container=function(e){var t=e.children,n=Ce(e,Rn);return(0,An.jsx)(Sn,Te(Te({},n),{},{children:t}))},Ln.Pane=function(e){var t=e.children,n=Ce(e,On);return(0,An.jsx)(In,Te(Te({},n),{},{children:t}))},Ln.Title=function(e){var t=e.children,n=Ce(e,Pn);return(0,An.jsx)(En,Te(Te({},n),{},{children:t}))},Ln.SubTitle=function(e){var t=e.children,n=Ce(e,Dn);return(0,An.jsx)(Tn,Te(Te({},n),{},{children:t}))},Ln.Image=function(e){var t=Object.assign({},e);return(0,An.jsx)(Cn,Te({},t))};var Mn,jn,Fn,Un,Vn,zn,Bn=bn.div(pn||(pn=Ae(["\n    display: flex;\n    padding: 70px 56px;\n    margin: auto;\n    max-width: 1000px;\n    flex-direction: column;\n\n    @media (max-width: 1000px) {\n        padding: 70px 30px;\n    }\n"]))),qn=bn.div(vn||(vn=Ae(["\n    display: flex;\n    flex-direction: column;\n    text-align: left;\n"]))),Wn=bn.div(mn||(mn=Ae(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));\n    grid-gap: 15px;\n\n    @media (max-width: 1000px) {\n        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    }\n"]))),Hn=bn.a(yn||(yn=Ae(["\n    color: #757575;\n    margin-bottom: 20px;\n    font-size: 14px;\n    text-decoration: none;\n"]))),Kn=bn.p(gn||(gn=Ae(["\n    font-size: 16px;\n    color: #757575;\n    margin-botom: 40px;\n"]))),Gn=bn.p(kn||(kn=Ae(["\n    font-size: 13px;\n    color: #757575;\n    margin-botom: 40px;\n"]))),Qn=bn.p(wn||(wn=Ae(["\n    flex-basis: 100%;\n    height:0;\n"]))),$n=["children"],Yn=["children"],Jn=["children"],Xn=["children"],Zn=["children"],er=["children"],tr=["children"];function nr(e){var t=e.children,n=Ce(e,$n);return(0,An.jsx)(Bn,Te(Te({},n),{},{children:t}))}function rr(e){if(Array.isArray(e))return e}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){if(e){if("string"===typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}function or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ur(e,t){return rr(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||ar(e,t)||or()}nr.Row=function(e){var t=e.children,n=Ce(e,Yn);return(0,An.jsx)(Wn,Te(Te({},n),{},{children:t}))},nr.Column=function(e){var t=e.children,n=Ce(e,Jn);return(0,An.jsx)(qn,Te(Te({},n),{},{children:t}))},nr.Link=function(e){var t=e.children,n=Ce(e,Xn);return(0,An.jsx)(Hn,Te(Te({},n),{},{children:t}))},nr.Title=function(e){var t=e.children,n=Ce(e,Zn);return(0,An.jsx)(Kn,Te(Te({},n),{},{children:t}))},nr.Text=function(e){var t=e.children,n=Ce(e,er);return(0,An.jsx)(Gn,Te(Te({},n),{},{children:t}))},nr.Break=function(e){var t=e.children,n=Ce(e,tr);return(0,An.jsx)(Qn,Te(Te({},n),{},{children:t}))};var sr,cr,lr,fr,hr,dr,pr,vr,mr,yr,gr,kr,wr,br,xr,_r=bn.div(Mn||(Mn=Ae(["\n    display: flex;\n    border-bottom: 8px solid #222;\n\n"]))),Sr=bn.div(jn||(jn=Ae(["\n    display: flex;\n    padding: 70px 45px;\n    flex-direction: column;\n    max-width: 815px;\n    margin: auto;\n"]))),Ir=bn.h1(Fn||(Fn=Ae(["\n    font-size: 50px;\n    line-height: 1.1;\n    margin-top: 0;\n    margin-bottom: 8px;\n    color: white;\n    text-align: center;\n\n    @media (max-width: 600px) {\n        font-size: 35px;\n    }\n"]))),Er=bn.div(Un||(Un=Ae(["\n    color: white;\n    margin-bottom: 10px;\n    max-width: 700px;\n    margin: auto;\n    width: 100%;\n \n    &:first-of-type {\n        margin-top: 3em;\n    }\n    \n    &:last-of-type {\n        margin-bottom: 3em;\n    }\n"]))),Tr=bn.div(Vn||(Vn=Ae(["\n    display: flex;\n    justify-content: space-between;\n    cursor: pointer;\n    margin-bottom: 1px;\n    font-size: 26px;\n    font-weight: normal;\n    background: #303030;\n    padding: 0.8em 1.2em;\n    user-select: none;\n    align-items: center;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media(max-width: 600px){\n            width: 16px;\n        }\n    }\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n    }\n"]))),Cr=bn.div(zn||(zn=Ae(["\n    max-height: 1200px;\n    transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\n    font-size: 26px;\n    font-weight: normal;\n    line-weight: normal;\n    background: #303030;\n    padding: 0.8em 2.2em 0.8em 1.2em;\n    white-space: pre-wrap;\n    user-select: none;\n\n    @media(max-width: 600px){\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),Ar=["children"],Nr=["children"],Rr=["children"],Or=["children"],Pr=["children"],Dr=(0,i.createContext)();function Lr(e){var t=e.children,n=Ce(e,Ar);return(0,An.jsx)(_r,Te(Te({},n),{},{children:(0,An.jsx)(Sr,{children:t})}))}Lr.Title=function(e){var t=e.children,n=Ce(e,Nr);return(0,An.jsx)(Ir,Te(Te({},n),{},{children:t}))},Lr.Item=function(e){var t=e.children,n=Ce(e,Rr),r=ur((0,i.useState)(!1),2),a=r[0],o=r[1];return(0,An.jsx)(Dr.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,An.jsx)(Er,Te(Te({},n),{},{children:t}))})},Lr.Header=function(e){var t=e.children,n=Ce(e,Or),r=(0,i.useContext)(Dr),a=r.toggleShow,o=r.setToggleShow;return(0,An.jsxs)(Tr,Te(Te({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,An.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,An.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},Lr.Body=function(e){var t=e.children,n=Ce(e,Pr);return(0,i.useContext)(Dr).toggleShow?(0,An.jsx)(Cr,Te(Te({},n),{},{children:t})):null};var Mr,jr,Fr,Ur,Vr,zr=bn.div(sr||(sr=Ae([""]))),Br=bn.div(cr||(cr=Ae([""]))),qr=bn.p(lr||(lr=Ae([""]))),Wr=bn.p(fr||(fr=Ae([""]))),Hr=bn.p(hr||(hr=Ae([""]))),Kr=(bn.div(dr||(dr=Ae([""]))),bn(qr)(pr||(pr=Ae([""]))),bn.p(vr||(vr=Ae([""]))),bn.button(mr||(mr=Ae([""]))),bn.div(yr||(yr=Ae([""]))),bn.div(gr||(gr=Ae([""]))),bn.div(kr||(kr=Ae([""])))),Gr=bn.div(wr||(wr=Ae([""]))),Qr=bn.div(br||(br=Ae([""]))),$r=bn.img(xr||(xr=Ae([""]))),Yr=["children"],Jr=["children"],Xr=["children"],Zr=["children"],ei=["children"],ti=["children"],ni=["children"],ri=["item","children"],ii=(0,i.createContext)();function ai(e){var t=e.children,n=Ce(e,Yr),r=ur((0,i.useState)(!1),2),a=r[0],o=r[1],u=ur((0,i.useState)({}),2),s=u[0],c=u[1];return(0,An.jsx)(ii.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:s,setItemFeature:c},children:(0,An.jsx)(zr,Te(Te({},n),{},{children:t}))})}ai.Group=function(e){var t=e.children,n=Ce(e,Jr);return(0,An.jsx)(Br,Te(Te({},n),{},{children:t}))},ai.Title=function(e){var t=e.children,n=Ce(e,Xr);return(0,An.jsx)(qr,Te(Te({},n),{},{children:t}))},ai.SubTitle=function(e){var t=e.children,n=Ce(e,Zr);return(0,An.jsx)(Wr,Te(Te({},n),{},{children:t}))},ai.Text=function(e){var t=e.children,n=Ce(e,ei);return(0,An.jsx)(Hr,Te(Te({},n),{},{children:t}))},ai.Entities=function(e){var t=e.children,n=Ce(e,ti);return(0,An.jsx)(Gr,Te(Te({},n),{},{children:t}))},ai.Meta=function(e){var t=e.children,n=Ce(e,ni);return(0,An.jsx)(Kr,Te(Te({},n),{},{children:t}))},ai.Item=function(e){var t=e.item,n=e.children,r=Ce(e,ri),a=(0,i.useContext)(ii),o=a.setShowFeature,u=a.setItemFeature;return(0,An.jsx)(Qr,Te(Te({onClick:function(){u(t),o(!0)}},r),{},{children:n}))},ai.Image=function(e){var t=Object.assign({},e);return(0,An.jsx)($r,Te({},t))};var oi,ui,si,ci,li,fi,hi,di,pi,vi,mi,yi,gi,ki,wi,bi,xi=bn.div(Mr||(Mr=Ae(["\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    margin-top: 20px;\n    flex-wrap: wrap;\n\n    @media (max-width: 1000px){\n        flex-direction: column;\n        align-items: center;\n    }\n"]))),_i=bn.input(jr||(jr=Ae(["\n    max-width: 450px;\n    width: 100%;\n    border: 0;\n    padding: 10px;\n    height: 70px;\n    box-sizing: border-box;\n"]))),Si=bn.button(Fr||(Fr=Ae(["\n    display: flex;\n    align-items: center;\n    height: 70px;\n    background: #e50914;\n    color: white;\n    text-transform: uppercase;\n    padding: 0 32px;\n    font-size: 26px;\n    border:0;\n    cursor: pointer;\n\n    &:hover {\n        background: #f40612;\n    }\n\n    @media (max-width: 1000px) {\n        height: 50px;\n        font-size: 16px;\n        margin-top: 20px;\n        font-weight: bold;\n    }\n\n    img {\n        margin-left: 10px;\n        filter: brightness(0) invert(1);\n        width: 24px;\n\n        @media (max-width: 1000px) {\n            width: 16px;\n        }\n    }\n"]))),Ii=bn.p(Ur||(Ur=Ae(["\n    font-size: 19.2px;\n    color: white;\n    text-align: center;\n\n    @media (max-width: 600px) {\n        font-size: 16px;\n        line-height: 22px;\n    }\n"]))),Ei=bn.div(Vr||(Vr=Ae(["\n    flex-basis:100%;\n    height: 0;\n"]))),Ti=["children"],Ci=["children"],Ai=["children"];function Ni(e){var t=e.children,n=Ce(e,Ti);return(0,An.jsxs)(xi,Te(Te({},n),{},{children:[" ",t," "]}))}Ni.Input=function(e){var t=Object.assign({},e);return(0,An.jsx)(_i,Te({},t))},Ni.Break=function(e){var t=Object.assign({},e);return(0,An.jsx)(Ei,Te({},t))},Ni.Button=function(e){var t=e.children,n=Ce(e,Ci);return(0,An.jsxs)(Si,Te(Te({},n),{},{children:[t," ",(0,An.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Ni.Text=function(e){var t=e.children,n=Ce(e,Ai);return(0,An.jsx)(Ii,Te(Te({},n),{},{children:t}))};var Ri,Oi,Pi,Di=bn.div(oi||(oi=Ae(["\n    display: flex;\n    flex-direction: column;\n    background: url(",") top left / cover no-repeat;\n\n    @media (max-width: 1100px) {\n        background: none;\n    }\n"])),(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"})),Li=bn.div(ui||(ui=Ae(["\n  display: flex;\n  align-items: center;\n"]))),Mi=bn.div(si||(si=Ae(["\n    display: flex;\n    margin: 0 56px;\n    height: 64px;\n    padding: 18px 0;\n    justify-content: space-between;\n    align-items: center;\n\n    a{\n        display: flex;\n    }\n\n    @media(max-width: 1000px){\n        margin: 0 30px;\n    }\n"]))),ji=bn.p(ci||(ci=Ae(["\n    color: white;\n    text-decoration: none;\n    margin-right: 30px;\n    font-weight: ",";\n    cursor: pointer;\n\n    &:hover{\n        font-weight: bold;\n    }\n\n    &:last-of-type {\n        margin-right: 0;\n    }\n"])),(function(e){return"true"===e.active?"700":"normal"})),Fi=bn.button(li||(li=Ae(["\n    background: url(",");\n    background-size: contain;\n    border: 0;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n"])),(function(e){return e.src})),Ui=bn.div(fi||(fi=Ae(["\n    display: none;\n    background-color: black;\n    position: absolute;\n    padding: 10px;\n    width: 100px;\n    top: 32px;\n    right: 10px;\n\n    ",": last-of-type "," {\n        cursor: pointer;\n    }\n\n    "," {\n        margin-bottom: 10px;\n\n        &:last-of-type {\n            margin-bottom:0;\n        }\n        ",", "," {\n            cursor: default;\n        }\n    }\n    \n    button {\n        margin-right: 10px;\n    }\n\n    p {\n        font-size: 12px;\n        margin-bottom: 0;\n        margin-top: 0;\n    }\n"])),Li,ji,Li,ji,Fi),Vi=bn.img(hi||(hi=Ae(["\n    height: 150px;\n    width: 200px;\n    margin-right: 40px;\n\n    @media(min-width: 1449px){\n        height: 45px;\n        width: 167px;\n    }\n"]))),zi=bn.div(di||(di=Ae(["\n    display:flex;\n    align-items: center;\n\n    svg{\n        color: white;\n        cursor: pointer;\n    }\n\n    @media (max-width: 700px) {\n        display: none;\n    }\n"]))),Bi=bn.button(pi||(pi=Ae(["\n    curson: pointer;\n    background-color: transparent;\n    border: 0;\n\n    img {\n        filter: brightness(0) invert(1);\n        width: 16px;\n    }\n"]))),qi=bn.button(vi||(vi=Ae(["\n    box-shadow: 0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);\n    background-color: #e6e6e6;\n    color: #000;\n    font-weight: bold;\n    border-width: 0;\n    padding: 10px 20px;\n    border-radius: 5px;\n    max-width: 130px;\n    font-size: 20px;\n    margin-top: 30px;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #ff1e1e;\n        color: white;\n    }\n"]))),Wi=bn.input(mi||(mi=Ae(["\n    background-color: #44444459;\n    color: white;\n    border: 1px solid white;\n    transition: width 0.5s;\n    height: 30px;\n    font-size: 14px;\n    margin-left: ",";\n    padding: ",";\n    opacity: ",";\n    width: ",";\n"])),(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0"})),Hi=bn.div(yi||(yi=Ae(["\n    display: flex;\n    align-items: center;\n    margin-left: 20px;\n    position: relative;\n\n    button {\n        cursor: pointer;\n    }\n\n    &:hover > "," {\n        display: flex;\n        flex-direction: column;\n    }\n"])),Ui),Ki=bn(xe)(gi||(gi=Ae(["\n    display: block;\n    background-color: #e50914;\n    width: 84px;\n    height: fit-content;\n    color: white;\n    border: 0;\n    font-size: 15px;\n    border-radius: 3px;\n    padding: 8px 17px;\n    cursor: pointer;\n    text-decoration: none;\n    box-sizing: border-box;\n\n    &:hover {\n        background-color: #f40612;\n    }\n"]))),Gi=bn(Mi)(ki||(ki=Ae(["\n    padding: 150px 0 500px 0;\n    flex-direction: column;\n    align-items: normal;\n    width: 50%;\n\n    @media (max-width: 1100px) {\n        display: none;\n    }\n"]))),Qi=bn.p(wi||(wi=Ae(["\n    color: white;\n    font-size: 22px;\n    line-height: normal;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.45);\n    margin: 0;\n"]))),$i=bn.h2(bi||(bi=Ae(["\n    color: white;\n    font-size: 50px;\n    line-height: normal;\n    font-weight: bold;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.45);\n    margin: 0;\n    margin-bottom: 20px;\n"]))),Yi=["bg","children"],Ji=["children"],Xi=["children"],Zi=["children"],ea=["src"],ta=["children"],na=["searchTerm","setSearchTerm"],ra=["children"],ia=["children"],aa=["children"],oa=["children"],ua=["children"],sa=["to"],ca=["children"];function la(e){var t=e.bg,n=void 0===t||t,r=e.children,i=Ce(e,Yi);return n?(0,An.jsx)(Di,Te(Te({},i),{},{children:r})):r}la.Feature=function(e){var t=e.children,n=Ce(e,Ji);return(0,An.jsx)(Gi,Te(Te({},n),{},{children:t}))},la.FeatureCallOut=function(e){var t=e.children,n=Ce(e,Xi);return(0,An.jsx)($i,Te(Te({},n),{},{children:t}))},la.Profile=function(e){var t=e.children,n=Ce(e,Zi);return(0,An.jsx)(Hi,Te(Te({},n),{},{children:t}))},la.Picture=function(e){var t=e.src,n=Ce(e,ea);return(0,An.jsx)(Fi,Te(Te({},n),{},{src:"/images/users/".concat(t,".png")}))},la.PlayButton=function(e){var t=e.children,n=Ce(e,ta);return(0,An.jsx)(qi,Te(Te({},n),{},{children:t}))},la.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,r=Ce(e,na),a=ur((0,i.useState)(!1),2),o=a[0],u=a[1];return(0,An.jsxs)(zi,Te(Te({},r),{},{children:[(0,An.jsx)(Bi,{onClick:function(){return u((function(e){return!e}))},children:(0,An.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,An.jsx)(Wi,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},la.Dropdown=function(e){var t=e.children,n=Ce(e,ra);return(0,An.jsx)(Ui,Te(Te({},n),{},{children:t}))},la.Text=function(e){var t=e.children,n=Ce(e,ia);return(0,An.jsx)(Qi,Te(Te({},n),{},{children:t}))},la.TextLink=function(e){var t=e.children,n=Ce(e,aa);return(0,An.jsx)(ji,Te(Te({},n),{},{children:t}))},la.Frame=function(e){var t=e.children,n=Ce(e,oa);return(0,An.jsx)(Mi,Te(Te({},n),{},{children:t}))},la.Group=function(e){var t=e.children,n=Ce(e,ua);return(0,An.jsx)(Li,Te(Te({},n),{},{children:t}))},la.Logo=function(e){var t=e.to,n=Ce(e,sa);return(0,An.jsx)(xe,{to:t,children:(0,An.jsx)(Vi,Te({},n))})},la.ButtonLink=function(e){var t=e.children,n=Ce(e,ca);return(0,An.jsx)(Ki,Te(Te({},n),{},{children:t}))};var fa,ha,da,pa,va,ma,ya,ga,ka,wa=bn.div(Ri||(Ri=Ae(["\n    display: flex;\n    flex-direction: column;\n    border-bottom: 8px solid #222;\n    text-align: center;\n    padding: 165px 45px;\n"]))),ba=bn.div(Oi||(Oi=Ae(["\n    color: white;\n    max-width: 640px;\n    font-size: 50px;\n    font-weight: 500;\n    margin: auto;\n\n    @media(max-width: 60px){\n        font-size: 35px;\n    }\n"]))),xa=bn.div(Pi||(Pi=Ae(["\n    color: white;\n    font-size: 26px;\n    font-weight: normal;\n    margin: 16px auto;\n\n    @media(max-width: 60px){\n        font-size: 18px;\n}\n"]))),_a=["children"],Sa=["children"],Ia=["children"];function Ea(e){var t=e.children,n=Ce(e,_a);return(0,An.jsx)(wa,Te(Te({},n),{},{children:t}))}Ea.Title=function(e){var t=e.children,n=Ce(e,Sa);return(0,An.jsx)(ba,Te(Te({},n),{},{children:t}))},Ea.SubTitle=function(e){var t=e.children,n=Ce(e,Ia);return(0,An.jsx)(xa,Te(Te({},n),{},{children:t}))};var Ta,Ca,Aa,Na,Ra,Oa,Pa=bn.div(fa||(fa=Ae(["\n    display: flex;\n    flex-direction: column;\n    min-height: 660px;\n    background-color: rgba(0,0,0,0.75);\n    border-radius: 5px;\n    box-sizing: border-box;\n    width: 100%;\n    margin: auto;\n    max-width:450px;\n    padding: 60px 68px 40px;\n    margin-bottom:100px;\n"]))),Da=bn.div(ha||(ha=Ae(["\n    background: #e87c03;\n    border-radius: 4px;\n    font-size: 14px;\n    margin: 0 0 16px;\n    color: white;\n    padding: 15px 20px;\n"]))),La=bn.form(da||(da=Ae(["\n    display: flex;\n    flex-direction: column;\n    max-width: 450px;\n    width: 100%;\n"]))),Ma=bn.h1(pa||(pa=Ae(["\n    color:#fff;\n    font-size: 32px;\n    font-weight: bold;\n    margin-bottom: 28px;\n"]))),ja=bn.p(va||(va=Ae(["\n    color: #737373;\n    font-size: 16px;\n    font-weight: 500;\n"]))),Fa=bn.p(ma||(ma=Ae(["\n    margin-top: 10px;\n    font-size: 13px;\n    line-height: normal;\n    color: #8c8c8c;\n"]))),Ua=bn(xe)(ya||(ya=Ae(["\n    color:white;\n    text-decoration: none;\n\n    &:hover {\n        text-decoration: underline;\n    }\n"]))),Va=bn.input(ga||(ga=Ae(["\n    background: #333;\n    border-radius: 4px;\n    border: 0;\n    color: white;\n    height: 50px;\n    padding: 5px 20px;\n    margin-bottom: 20px;\n\n    &:last-of-type {\n        margin-bottom: 30px;\n    }\n"]))),za=bn.button(ka||(ka=Ae(["\n    background: #e50914;\n    border-radius: 4px;\n    font-size: 16px;\n    font-weight:bold;\n    margin: 24px 0 12px;\n    padding: 16px;\n    border: 0;\n    color:white;\n    cursor: pointer;\n\n    &:disabled {\n        opacity: 0.5;\n    }\n"]))),Ba=["children"],qa=["children"],Wa=["children"],Ha=["children"],Ka=["children"],Ga=["children"],Qa=["children"],$a=["children"],Ya=["children"];function Ja(e){var t=e.children,n=Ce(e,Ba);return(0,An.jsx)(Pa,Te(Te({},n),{},{children:t}))}Ja.Error=function(e){var t=e.children,n=Ce(e,qa);return(0,An.jsx)(Da,Te(Te({},n),{},{children:t}))},Ja.Base=function(e){var t=e.children,n=Ce(e,Wa);return(0,An.jsx)(La,Te(Te({},n),{},{children:t}))},Ja.Title=function(e){var t=e.children,n=Ce(e,Ha);return(0,An.jsx)(Ma,Te(Te({},n),{},{children:t}))},Ja.Text=function(e){var t=e.children,n=Ce(e,Ka);return(0,An.jsx)(ja,Te(Te({},n),{},{children:t}))},Ja.TextSmall=function(e){var t=e.children,n=Ce(e,Ga);return(0,An.jsx)(Fa,Te(Te({},n),{},{children:t}))},Ja.Link=function(e){var t=e.children,n=Ce(e,Qa);return(0,An.jsx)(Ua,Te(Te({},n),{},{children:t}))},Ja.Input=function(e){var t=e.children,n=Ce(e,$a);return(0,An.jsx)(Va,Te(Te({},n),{},{children:t}))},Ja.Submit=function(e){var t=e.children,n=Ce(e,Ya);return(0,An.jsx)(za,Te(Te({},n),{},{children:t}))};var Xa,Za,eo,to,no=bn.div(Ta||(Ta=Ae(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    max-width: 80%;\n"]))),ro=bn.h1(Ca||(Ca=Ae(["\n    width: 100%;\n    color: white;\n    font-size: 48px;\n    text-align: center;\n    font-weight: 500;\n"]))),io=bn.ul(Aa||(Aa=Ae(["\n    padding: 0;\n    margin: 0;\n    display: flex;\n    flex-direction: row;\n    list-style: none;\n"]))),ao=bn.p(Na||(Na=Ae(["\n    color: #808080;\n    text-overfow: ellipsis;\n    font-size: 16px;\n\n    &:hover {\n        font-weight: bold;\n        color: #e5e5e5;\n    }\n"]))),oo=bn.img(Ra||(Ra=Ae(["\n    width: 100%;\n    max-width: 150px;\n    height: auto;\n    border: 3px solid black;\n    cursor: pointer;\n"]))),uo=bn.li(Oa||(Oa=Ae(["\n    max-height: 200px;\n    max-width: 200px;\n    list-styled-type: none;\n    text-align: center;\n    margin-right: 30px;\n\n    &:hover > "," {\n        border: 3px solid white;\n    }\n\n    &:hover > "," {\n        font-weight: bold;\n        color: white;\n    }\n\n    &:last-of-type {\n        margin-right:0;\n    }\n"])),oo,ao),so=["children"],co=["children"],lo=["children"],fo=["children"],ho=["src"],po=["children"];function vo(e){var t=e.children,n=Ce(e,so);return(0,An.jsx)(no,Te(Te({},n),{},{children:t}))}vo.Title=function(e){var t=e.children,n=Ce(e,co);return(0,An.jsx)(ro,Te(Te({},n),{},{children:t}))},vo.List=function(e){var t=e.children,n=Ce(e,lo);return(0,An.jsx)(io,Te(Te({},n),{},{children:t}))},vo.User=function(e){var t=e.children,n=Ce(e,fo);return(0,An.jsx)(uo,Te(Te({},n),{},{children:t}))},vo.Picture=function(e){var t=e.src,n=Ce(e,ho);return(0,An.jsx)(oo,Te(Te({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},vo.Name=function(e){var t=e.children,n=Ce(e,po);return(0,An.jsx)(ao,Te(Te({},n),{},{children:t}))};var mo=on(Xa||(Xa=Ae(["\n    body {\n        overflow: hidden;\n    }\n"]))),yo=on(Za||(Za=Ae(["\n    body{\n        overflow: visible;\n    }\n"]))),go=bn.div(eo||(eo=Ae(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: black;\n    z-index: 999;\n\n    :after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        background-image: url(/images/misc/spinner.png);\n        background-size: contain;\n        background-repeat: no-repeat;\n        margin-top: -150px;\n        margin-left: -75px;\n        width: 150px;\n        height: 150px;\n        animation-name: spin;\n        animation-duration: 1000ms;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n      }\n    \n      @-ms-keyframes spin {\n        from {\n          -ms-transform: rotate(0deg);\n        }\n        to {\n          -ms-transform: rotate(360deg);\n        }\n      }\n    \n      @-moz-keyframes spin {\n        from {\n          -moz-transform: rotate(0deg);\n        }\n        to {\n          -moz-transform: rotate(360deg);\n        }\n      }\n    \n      @-webkit-keyframes spin {\n        from {\n          -webkit-transform: rotate(0deg);\n        }\n        to {\n          -webkit-transform: rotate(360deg);\n        }\n      }\n    \n      @keyframes spin {\n        from {\n          transform: rotate(0deg);\n        }\n        to {\n          transform: rotate(360deg);\n        }\n      }\n"]))),ko=bn.img(to||(to=Ae(["\n    width: 50px;\n    height: 50px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -100px;\n    margin-left: -22px;\n"]))),wo=["src"];function bo(e){var t=e.src,n=Ce(e,wo);return(0,An.jsxs)(go,Te(Te({},n),{},{children:[(0,An.jsx)(mo,{}),(0,An.jsx)(ko,{src:"/images/users/".concat(t,".png")})]}))}bo.ReleaseBody=function(){return(0,An.jsx)(yo,{})};var xo=JSON.parse('[{"id":1,"header":"What is IndianMoview?","body":"Indian Movies is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does IndianMovies cost?","body":"Watch IndianMovies on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your IndianMovies account to watch instantly on the web at downloadindianmovies.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"IndianMovies is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on IndianMovies?","body":"IndianMovies has an extensive library of feature films, documentaries, TV programmes, anime, award-winning IndianMovies originals, and more. Watch as much as you want, any time you want."}]');function _o(){return(0,An.jsxs)(Lr,{children:[(0,An.jsx)(Lr.Title,{children:"Frequently Asked Questions"}),xo.map((function(e){return(0,An.jsxs)(Lr.Item,{children:[(0,An.jsx)(Lr.Header,{children:e.header}),(0,An.jsx)(Lr.Body,{children:e.body})]},e.id)})),(0,An.jsxs)(Ni,{children:[(0,An.jsx)(Ni.Input,{placeholder:"Email address"}),(0,An.jsx)(Ni.Button,{children:"Try it now"}),(0,An.jsx)(Ni.Break,{}),(0,An.jsx)(Ni.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}function So(){return(0,An.jsxs)(nr,{children:[(0,An.jsx)(nr.Title,{children:"Questions? Contact us."}),(0,An.jsx)(nr.Break,{}),(0,An.jsxs)(nr.Row,{children:[(0,An.jsxs)(nr.Column,{children:[(0,An.jsx)(nr.Link,{href:"#",children:"FAQ"}),(0,An.jsx)(nr.Link,{href:"#",children:"Investor Relations"}),(0,An.jsx)(nr.Link,{href:"#",children:"Ways to Watch"}),(0,An.jsx)(nr.Link,{href:"#",children:"Corporate Information"}),(0,An.jsx)(nr.Link,{href:"#",children:"IndianMovies Originals"})]}),(0,An.jsxs)(nr.Column,{children:[(0,An.jsx)(nr.Link,{href:"#",children:"Help Centre"}),(0,An.jsx)(nr.Link,{href:"#",children:"Jobs"}),(0,An.jsx)(nr.Link,{href:"#",children:"Terms of Use"}),(0,An.jsx)(nr.Link,{href:"#",children:"Contact Us"})]}),(0,An.jsxs)(nr.Column,{children:[(0,An.jsx)(nr.Link,{href:"#",children:"Account"}),(0,An.jsx)(nr.Link,{href:"#",children:"Redeem Gift Cards"}),(0,An.jsx)(nr.Link,{href:"#",children:"Privacy"}),(0,An.jsx)(nr.Link,{href:"#",children:"Speed Test"})]}),(0,An.jsxs)(nr.Column,{children:[(0,An.jsx)(nr.Link,{href:"#",children:"Media Centre"}),(0,An.jsx)(nr.Link,{href:"#",children:"Buy Gift Cards"}),(0,An.jsx)(nr.Link,{href:"#",children:"Cookie Preferences"}),(0,An.jsx)(nr.Link,{href:"#",children:"Legal Notices"})]})]}),(0,An.jsx)(nr.Break,{}),(0,An.jsx)(nr.Text,{children:"IndianMovies India"})]})}var Io=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function Eo(){return(0,An.jsx)(Ln.Container,{children:Io.map((function(e){return(0,An.jsxs)(Ln,{direction:e.direction,children:[(0,An.jsxs)(Ln.Pane,{children:[(0,An.jsx)(Ln.Title,{children:e.title}),(0,An.jsx)(Ln.SubTitle,{children:e.subTitle})]}),(0,An.jsx)(Ln.Pane,{children:(0,An.jsx)(Ln.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}var To="/",Co="/browse",Ao="/signin",No=n(221),Ro=["children"];function Oo(e){var t=e.children;Ce(e,Ro);return(0,An.jsxs)(la,{children:[(0,An.jsxs)(la.Frame,{children:[(0,An.jsx)(la.Logo,{to:To,alt:"Netflix",src:No}),(0,An.jsx)(la.ButtonLink,{to:Ao,children:"Sign In"})]}),t]})}function Po(){return(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(Oo,{children:(0,An.jsxs)(Ea,{children:[(0,An.jsx)(Ea.Title,{children:"Unlimited films, TV programmes and more."}),(0,An.jsx)(Ea.SubTitle,{children:"Watch anywhere. Cancle at any time."}),(0,An.jsxs)(Ni,{children:[(0,An.jsx)(Ni.Input,{placeholder:"Email address"}),(0,An.jsx)(Ni.Button,{children:"Try it now"}),(0,An.jsx)(Ni.Break,{}),(0,An.jsx)(Ni.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}),(0,An.jsx)(Eo,{}),(0,An.jsx)(_o,{}),(0,An.jsx)(So,{})]})}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}function Lo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Do(e)););return e}function Mo(){return Mo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Mo.apply(this,arguments)}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function Uo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function zo(e,t){if(t&&("object"===Vo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jo(e)}function Bo(e){var t=Uo();return function(){var n,r=Do(e);if(t){var i=Do(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zo(this,n)}}function qo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ar(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Wo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Wo(a,r,i,o,u,"next",e)}function u(e){Wo(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yo(e){return function(e){if(Array.isArray(e))return ir(e)}(e)||$o(e)||ar(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jo=n(757),Xo=n.n(Jo);function Zo(e,t,n){return Zo=Uo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},Zo.apply(null,arguments)}function eu(e){var t="function"===typeof Map?new Map:void 0;return eu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zo(e,arguments,Do(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},eu(e)}var tu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},nu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ru=function(e){return function(e){var t=tu(e);return nu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},iu=function(e){try{return nu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function au(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ou(n)&&(e[n]=au(e[n],t[n]));return e}function ou(e){return"__proto__"!==e}var uu=function(){function e(){var t=this;Ko(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Qo(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function su(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ru(JSON.stringify({alg:"none",type:"JWT"})),ru(JSON.stringify(a)),""].join(".")}function cu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cu())}function fu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function hu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function du(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pu(){var e=cu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vu(){return"object"===typeof indexedDB}var mu=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(jo(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(jo(a),yu.prototype.create),a}return Qo(n)}(eu(Error)),yu=function(){function e(t,n,r){Ko(this,e),this.service=t,this.serviceName=n,this.errors=r}return Qo(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?gu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new mu(n,a,t);return o}}]),e}();function gu(e,t){return e.replace(ku,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ku=/\{\$([^}]+)}/g;function wu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(xu(u)&&xu(s)){if(!bu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function xu(e){return null!==e&&"object"===typeof e}function _u(e){for(var t=[],n=function(){var e=ur(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Su(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=ur(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Iu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Eu(e,t){var n=new Tu(e,t);return n.subscribe.bind(n)}var Tu=function(){function e(t,n){var r=this;Ko(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Qo(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=qo(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Cu),void 0===r.error&&(r.error=Cu),void 0===r.complete&&(r.complete=Cu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Cu(){}function Au(e){return e&&e._delegate?e._delegate:e}var Nu=function(){function e(t,n,r){Ko(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Qo(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ru="[DEFAULT]",Ou=function(){function e(t,n){Ko(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Qo(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new uu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ru})}catch(s){}var t,n=qo(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=ur(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ho(Jo.mark((function e(){var t;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Yo(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Yo(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=qo(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=ur(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=qo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(YT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ru?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(YT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;return this.component?this.component.multipleInstances?e:Ru:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pu,Du,Lu=function(){function e(t){Ko(this,e),this.name=t,this.providers=new Map}return Qo(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ou(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Du||(Du={}));var ju,Fu,Uu={debug:Du.DEBUG,verbose:Du.VERBOSE,info:Du.INFO,warn:Du.WARN,error:Du.ERROR,silent:Du.SILENT},Vu=Du.INFO,zu=(Ie(Pu={},Du.DEBUG,"log"),Ie(Pu,Du.VERBOSE,"log"),Ie(Pu,Du.INFO,"info"),Ie(Pu,Du.WARN,"warn"),Ie(Pu,Du.ERROR,"error"),Pu),Bu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=zu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},qu=function(){function e(t){Ko(this,e),this.name=t,this._logLevel=Vu,this._logHandler=Bu,this._userLogHandler=null,Mu.push(this)}return Qo(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Du))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Uu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Du.DEBUG].concat(t)),this._logHandler.apply(this,[this,Du.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Du.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Du.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Du.INFO].concat(t)),this._logHandler.apply(this,[this,Du.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Du.WARN].concat(t)),this._logHandler.apply(this,[this,Du.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Du.ERROR].concat(t)),this._logHandler.apply(this,[this,Du.ERROR].concat(t))}}]),e}();var Wu=function(){function e(t){Ko(this,e),this.container=t}return Qo(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Hu="@firebase/app",Ku="0.7.14",Gu=new qu("@firebase/app"),Qu="[DEFAULT]",$u=(Ie(ju={},Hu,"fire-core"),Ie(ju,"@firebase/app-compat","fire-core-compat"),Ie(ju,"@firebase/analytics","fire-analytics"),Ie(ju,"@firebase/analytics-compat","fire-analytics-compat"),Ie(ju,"@firebase/app-check","fire-app-check"),Ie(ju,"@firebase/app-check-compat","fire-app-check-compat"),Ie(ju,"@firebase/auth","fire-auth"),Ie(ju,"@firebase/auth-compat","fire-auth-compat"),Ie(ju,"@firebase/database","fire-rtdb"),Ie(ju,"@firebase/database-compat","fire-rtdb-compat"),Ie(ju,"@firebase/functions","fire-fn"),Ie(ju,"@firebase/functions-compat","fire-fn-compat"),Ie(ju,"@firebase/installations","fire-iid"),Ie(ju,"@firebase/installations-compat","fire-iid-compat"),Ie(ju,"@firebase/messaging","fire-fcm"),Ie(ju,"@firebase/messaging-compat","fire-fcm-compat"),Ie(ju,"@firebase/performance","fire-perf"),Ie(ju,"@firebase/performance-compat","fire-perf-compat"),Ie(ju,"@firebase/remote-config","fire-rc"),Ie(ju,"@firebase/remote-config-compat","fire-rc-compat"),Ie(ju,"@firebase/storage","fire-gcs"),Ie(ju,"@firebase/storage-compat","fire-gcs-compat"),Ie(ju,"@firebase/firestore","fire-fst"),Ie(ju,"@firebase/firestore-compat","fire-fst-compat"),Ie(ju,"fire-js","fire-js"),Ie(ju,"firebase","fire-js-all"),ju),Yu=new Map,Ju=new Map;function Xu(e,t){try{e.container.addComponent(t)}catch(n){Gu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Zu(e,t){e.container.addOrOverwriteComponent(t)}function es(e){var t=e.name;if(Ju.has(t))return Gu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ju.set(t,e);var n,r=qo(Yu.values());try{for(r.s();!(n=r.n()).done;){Xu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ts(e,t){return e.container.getProvider(t)}function ns(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qu;ts(e,t).clearInstance(n)}function rs(){Ju.clear()}var is,as=(Ie(Fu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ie(Fu,"bad-app-name","Illegal App name: '{$appName}"),Ie(Fu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ie(Fu,"app-deleted","Firebase App named '{$appName}' already deleted"),Ie(Fu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ie(Fu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Fu),os=new yu("app","Firebase",as),us=function(){function e(t,n,r){var i=this;Ko(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nu("app",(function(){return i}),"PUBLIC"))}return Qo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}]),e}(),ss="9.6.4";function cs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Qu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw os.create("bad-app-name",{appName:String(i)});var a=Yu.get(i);if(a){if(bu(e,a.options)&&bu(r,a.config))return a;throw os.create("duplicate-app",{appName:i})}var o,u=new Lu(i),s=qo(Ju.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new us(e,r,u);return Yu.set(i,l),l}function ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qu,t=Yu.get(e);if(!t)throw os.create("no-app",{appName:e});return t}function fs(){return Array.from(Yu.values())}function hs(e){return ds.apply(this,arguments)}function ds(){return ds=Ho(Jo.mark((function e(t){var n;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Yu.has(n)){e.next=6;break}return Yu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t,n){var r,i=null!==(r=$u[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gu.warn(u.join(" "))}es(new Nu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function vs(e,t){if(null!==e&&"function"!==typeof e)throw os.create("invalid-log-argument");!function(e,t){var n,r=qo(Mu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Uu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Du[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ms(e){var t;t=e,Mu.forEach((function(e){e.setLogLevel(t)}))}is="",es(new Nu("platform-logger",(function(e){return new Wu(e)}),"PRIVATE")),ps(Hu,Ku,is),ps(Hu,Ku,"esm2017"),ps("fire-js","");function ys(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gs;Object.create;var ks="facebook.com",ws="github.com",bs="google.com",xs="password",_s="twitter.com",Ss="EMAIL_SIGNIN",Is="PASSWORD_RESET",Es="RECOVER_EMAIL",Ts="REVERT_SECOND_FACTOR_ADDITION",Cs="VERIFY_AND_CHANGE_EMAIL",As="VERIFY_EMAIL";function Ns(){return Ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Rs=function(){var e;return Ie(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ie(e,"argument-error",""),Ie(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ie(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ie(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ie(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ie(e,"cordova-not-ready","Cordova framework is not ready."),Ie(e,"cors-unsupported","This browser is not supported."),Ie(e,"credential-already-in-use","This credential is already associated with a different user account."),Ie(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ie(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ie(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ie(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ie(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ie(e,"email-already-in-use","The email address is already in use by another account."),Ie(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ie(e,"expired-action-code","The action code has expired."),Ie(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ie(e,"internal-error","An internal AuthError has occurred."),Ie(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ie(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ie(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ie(e,"invalid-auth-event","An internal AuthError has occurred."),Ie(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ie(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ie(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ie(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ie(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ie(e,"invalid-email","The email address is badly formatted."),Ie(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ie(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ie(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ie(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ie(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ie(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ie(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ie(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ie(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ie(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ie(e,"wrong-password","The password is invalid or the user does not have a password."),Ie(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ie(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ie(e,"invalid-provider-id","The specified provider ID is invalid."),Ie(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ie(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ie(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ie(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ie(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ie(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ie(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ie(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ie(e,"missing-continue-uri","A continue URL must be provided in the request."),Ie(e,"missing-iframe-start","An internal AuthError has occurred."),Ie(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ie(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ie(e,"missing-multi-factor-info","No second factor identifier is provided."),Ie(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ie(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ie(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ie(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ie(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ie(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ie(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ie(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ie(e,"no-auth-event","An internal AuthError has occurred."),Ie(e,"no-such-provider","User was not linked to an account with the given provider."),Ie(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ie(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ie(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ie(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ie(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ie(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ie(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ie(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ie(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ie(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ie(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ie(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ie(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ie(e,"timeout","The operation has timed out."),Ie(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ie(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ie(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ie(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ie(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ie(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ie(e,"unverified-email","The operation requires a verified email."),Ie(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ie(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ie(e,"user-disabled","The user account has been disabled by an administrator."),Ie(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ie(e,"user-signed-out",""),Ie(e,"weak-password","The password must be 6 characters long or more."),Ie(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ie(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Os=Ns,Ps=new yu("auth","Firebase",Ns()),Ds=new qu("@firebase/auth");function Ls(e){if(Ds.logLevel<=Du.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ds.error.apply(Ds,["Auth (".concat(ss,"): ").concat(e)].concat(n))}}function Ms(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vs.apply(void 0,[e].concat(n))}function js(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vs.apply(void 0,[e].concat(n))}function Fs(e,t,n){var r=Object.assign(Object.assign({},Os()),Ie({},t,n));return new yu("auth","Firebase",r).create(t,{appName:e.name})}function Us(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ms(e,"argument-error"),Fs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Yo(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Yo(o)))}return Ps.create.apply(Ps,[e].concat(n))}function zs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vs.apply(void 0,[t].concat(r))}}function Bs(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ls(t),new Error(t)}function qs(e,t){e||Bs(t)}var Ws=new Map;function Hs(e){qs(e instanceof Function,"Expected a class definition");var t=Ws.get(e);return t?(qs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ws.set(e,t),t)}function Ks(e,t){var n=ts(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(bu(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ms(r,"already-initialized")}return n.initialize({options:t})}function Gs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qs(){return"http:"===$s()||"https:"===$s()}function $s(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ys=function(){function e(t,n){Ko(this,e),this.shortDelay=t,this.longDelay=n,qs(n>t,"Short delay should be less than long delay!"),this.isMobile=lu()||du()}return Qo(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qs()||hu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Js(e,t){qs(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Xs=function(){function e(){Ko(this,e)}return Qo(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Zs=(Ie(gs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ie(gs,"MISSING_CUSTOM_TOKEN","internal-error"),Ie(gs,"INVALID_IDENTIFIER","invalid-email"),Ie(gs,"MISSING_CONTINUE_URI","internal-error"),Ie(gs,"INVALID_PASSWORD","wrong-password"),Ie(gs,"MISSING_PASSWORD","internal-error"),Ie(gs,"EMAIL_EXISTS","email-already-in-use"),Ie(gs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ie(gs,"INVALID_IDP_RESPONSE","invalid-credential"),Ie(gs,"INVALID_PENDING_TOKEN","invalid-credential"),Ie(gs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ie(gs,"MISSING_REQ_TYPE","internal-error"),Ie(gs,"EMAIL_NOT_FOUND","user-not-found"),Ie(gs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ie(gs,"EXPIRED_OOB_CODE","expired-action-code"),Ie(gs,"INVALID_OOB_CODE","invalid-action-code"),Ie(gs,"MISSING_OOB_CODE","internal-error"),Ie(gs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ie(gs,"INVALID_ID_TOKEN","invalid-user-token"),Ie(gs,"TOKEN_EXPIRED","user-token-expired"),Ie(gs,"USER_NOT_FOUND","user-token-expired"),Ie(gs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ie(gs,"INVALID_CODE","invalid-verification-code"),Ie(gs,"INVALID_SESSION_INFO","invalid-verification-id"),Ie(gs,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ie(gs,"MISSING_SESSION_INFO","missing-verification-id"),Ie(gs,"SESSION_EXPIRED","code-expired"),Ie(gs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ie(gs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ie(gs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ie(gs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ie(gs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ie(gs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ie(gs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ie(gs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ie(gs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ie(gs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ie(gs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gs),ec=new Ys(3e4,6e4);function tc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function nc(e,t,n,r){return rc.apply(this,arguments)}function rc(){return rc=Ho(Xo().mark((function e(t,n,r,i){var a,o=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ic(t,a,Ho(Xo().mark((function e(){var a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=_u(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Xs.fetch()(sc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t,n){return ac.apply(this,arguments)}function ac(){return(ac=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Zs),n),e.prev=2,a=new cc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw lc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=ur(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw lc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw lc(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Fs(t,d,h);case 30:Ms(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof mu)){e.next=37;break}throw e.t0;case 37:Ms(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function oc(e,t,n,r){return uc.apply(this,arguments)}function uc(){return uc=Ho(Xo().mark((function e(t,n,r,i){var a,o,u=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,nc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ms(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Js(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var cc=function(){function e(t){var n=this;Ko(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(js(n.auth,"network-request-failed"))}),ec.get())}))}return Qo(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function lc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=js(e,t,r);return i.customData._tokenResponse=n,i}function fc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return(pc=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function gc(){return gc=Ho(Xo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Au(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,zs((a=wc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:yc(kc(a.auth_time)),issuedAtTime:yc(kc(a.iat)),expirationTime:yc(kc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e){return 1e3*Number(e)}function wc(e){var t=ur(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ls("JWT malformed, contained fewer than 3 sections"),null;try{var a=iu(r);return a?JSON.parse(a):(Ls("Failed to decode base64 JWT payload"),null)}catch(o){return Ls("Caught error parsing JWT payload as JSON",o),null}}function bc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ho(Xo().mark((function e(t,n){var r=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mu&&_c(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),xc.apply(this,arguments)}function _c(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Sc=function(){function e(t){Ko(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Qo(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ic=function(){function e(t,n){Ko(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Qo(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ec(e){return Tc.apply(this,arguments)}function Tc(){return Tc=Ho(Xo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,bc(t,vc(r,{idToken:i}));case 6:zs(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Nc(o.providerUserInfo):[],s=Ac(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ic(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return(Cc=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Au(t),e.next=3,Ec(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Yo(n),Yo(t))}function Nc(e){return e.map((function(e){var t=e.providerId,n=ys(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Rc(e,t){return Oc.apply(this,arguments)}function Oc(){return(Oc=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ic(t,{},Ho(Xo().mark((function e(){var r,i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_u({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=sc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Xs.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pc=function(){function e(){Ko(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Qo(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){zs(e.idToken,"internal-error"),zs("undefined"!==typeof e.idToken,"internal-error"),zs("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=wc(e);return zs(t,"internal-error"),zs("undefined"!==typeof t.exp,"internal-error"),zs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ho(Xo().mark((function e(t){var n,r=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],zs(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Bs("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(zs("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(zs("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(zs("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Dc(e,t){zs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Lc=function(){function e(t){Ko(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ys(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Sc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Ic(a.createdAt||void 0,a.lastLoginAt||void 0)}return Qo(e,[{key:"getIdToken",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(zs(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return gc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Cc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(zs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){zs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ho(Xo().mark((function e(t){var n,r,i=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ec(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,bc(this,fc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;zs(k&&_,t,"internal-error");var S=Pc.fromJSON(this.name,_);zs("string"===typeof k,t,"internal-error"),Dc(f,t.name),Dc(h,t.name),zs("boolean"===typeof w,t,"internal-error"),zs("boolean"===typeof b,t,"internal-error"),Dc(d,t.name),Dc(p,t.name),Dc(v,t.name),Dc(m,t.name),Dc(y,t.name),Dc(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ho(Xo().mark((function t(n,r){var i,a,o,u=arguments;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Pc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ec(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Mc=function(){function e(){Ko(this,e),this.type="NONE",this.storage={}}return Qo(e,[{key:"_isAvailable",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Mc.type="NONE";var jc=Mc;function Fc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Uc=function(){function e(t,n,r){Ko(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Fc(this.userKey,a.apiKey,o),this.fullPersistenceKey=Fc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Qo(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Lc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ho(Xo().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Hs(jc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Hs(jc),u=Fc(i,n.config.apiKey,n.name),s=null,c=qo(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Lc._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Vc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kc(t))return"Blackberry";if(Gc(t))return"Webos";if(Bc(t))return"Safari";if((t.includes("chrome/")||qc(t))&&!t.includes("edge/"))return"Chrome";if(Hc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/firefox\//i.test(e)}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/crios\//i.test(e)}function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/iemobile/i.test(e)}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/android/i.test(e)}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/blackberry/i.test(e)}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/webos/i.test(e)}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/iphone|ipad|ipod/i.test(e)}function $c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return Qc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Yc(){return pu()&&10===document.documentMode}function Jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return Qc(e)||Hc(e)||Gc(e)||Kc(e)||/windows phone/i.test(e)||Wc(e)}function Xc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Vc(cu());break;case"Worker":t="".concat(Vc(cu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ss,"/").concat(r)}var Zc=function(){function e(t,n){Ko(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tl(this),this.idTokenSubscription=new tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ps,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Qo(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(Ho(Xo().mark((function r(){var i,a;return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Uc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ho(Xo().mark((function e(t){var n,r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return zs(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ec(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Au(t):null)&&zs(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ho(Xo().mark((function e(t){var n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&zs(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Hs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new yu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return zs(n=t&&Hs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Uc.create(this,[Hs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ho(Xo().mark((function e(t){var n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return zs(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return zs(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function el(e){return Au(e)}var tl=function(){function e(t){var n=this;Ko(this,e),this.auth=t,this.observer=null,this.addObserver=Eu((function(e){return n.observer=e}))}return Qo(e,[{key:"next",get:function(){return zs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function nl(e,t,n){var r=el(e);zs(r._canInitEmulator,r,"emulator-config-failed"),zs(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=rl(t),o=function(e){var t=rl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:il(r.substr(a.length+1))}}var o=ur(r.split(":"),2);return{host:o[0],port:il(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function il(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var al=function(){function e(t,n){Ko(this,e),this.providerId=t,this.signInMethod=n}return Qo(e,[{key:"toJSON",value:function(){return Bs("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Bs("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Bs("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Bs("not implemented")}}]),e}();function ol(e,t){return ul.apply(this,arguments)}function ul(){return(ul=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:resetPassword",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){return cl.apply(this,arguments)}function cl(){return(cl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return(fl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return(dl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPassword",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return(vl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:sendOobCode",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e,t){return yl.apply(this,arguments)}function yl(){return(yl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wl(e,t){return bl.apply(this,arguments)}function bl(){return(bl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e,t){return _l.apply(this,arguments)}function _l(){return(_l=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e,t){return Il.apply(this,arguments)}function Il(){return(Il=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cl=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ko(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Qo(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Sl(t,{email:this._email,oobCode:this._password}));case 5:Ms(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",El(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ms(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(al);function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithIdp",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rl=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ko(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Qo(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Al(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Al(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Al(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ys(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(al);function Ol(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:sendVerificationCode",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(){return(Dl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(){return(Ll=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw lc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ml=Ie({},"USER_NOT_FOUND","user-not-found");function jl(){return(jl=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,r),Ml));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fl=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Qo(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Dl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ll.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return jl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(al);var Ul=function(){function e(t){var n,r,i,a,o,u;Ko(this,e);var s=Su(Iu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);zs(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Qo(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Su(Iu(e)).link,n=t?Su(Iu(t)).deep_link_id:null,r=Su(Iu(e)).deep_link_id;return(r?Su(Iu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(YT){return null}}}]),e}();var Vl=function(){function e(){Ko(this,e),this.providerId=e.PROVIDER_ID}return Qo(e,null,[{key:"credential",value:function(e,t){return Cl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ul.parseLink(t);return zs(n,"argument-error"),Cl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Vl.PROVIDER_ID="password",Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var zl=function(){function e(t){Ko(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Qo(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Bl=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ko(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Qo(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Yo(this.scopes)}}]),n}(zl),ql=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return zs(e.idToken||e.accessToken,"argument-error"),Rl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return zs("providerId"in t&&"signInMethod"in t,"argument-error"),Rl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Bl),Wl=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.call(this,"facebook.com")}return Qo(n,null,[{key:"credential",value:function(e){return Rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YT){return null}}}]),n}(Bl);Wl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wl.PROVIDER_ID="facebook.com";var Hl=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ko(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Qo(n,null,[{key:"credential",value:function(e,t){return Rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(YT){return null}}}]),n}(Bl);Hl.GOOGLE_SIGN_IN_METHOD="google.com",Hl.PROVIDER_ID="google.com";var Kl=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.call(this,"github.com")}return Qo(n,null,[{key:"credential",value:function(e){return Rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YT){return null}}}]),n}(Bl);Kl.GITHUB_SIGN_IN_METHOD="github.com",Kl.PROVIDER_ID="github.com";var Gl=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Qo(n,[{key:"_getIdTokenResponse",value:function(e){return Al(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Al(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Al(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(al),Ql=function(e){Fo(n,e);var t=Bo(n);function n(e){return Ko(this,n),zs(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Qo(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Gl.fromJSON(e);return zs(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Gl._create(r,n)}catch(i){return null}}}]),n}(zl),$l=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.call(this,"twitter.com")}return Qo(n,null,[{key:"credential",value:function(e,t){return Rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(YT){return null}}}]),n}(Bl);function Yl(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signUp",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$l.TWITTER_SIGN_IN_METHOD="twitter.com",$l.PROVIDER_ID="twitter.com";var Xl=function(){function e(t){Ko(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Qo(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ho(Xo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Lc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Zl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ho(Xo().mark((function t(n,r,i){var a;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Zl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Zl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ef(){return ef=Ho(Xo().mark((function e(t){var n,r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=el(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Yl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}var tf=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o,u;return Ko(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(jo(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Qo(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(mu);function nf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw tf._fromErrorAndOperation(e,n,t,r);throw n}))}function rf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function af(e,t){return of.apply(this,arguments)}function of(){return of=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,cf(!0,r,n);case 3:return e.t0=dc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=rf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=Ho(Xo().mark((function e(t,n){var r,i,a=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=bc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t,n){return lf.apply(this,arguments)}function lf(){return(lf=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(n);case 2:i=rf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",zs(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e,t){return hf.apply(this,arguments)}function hf(){return hf=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,bc(t,nf(i,a,n,t),r);case 6:return zs((o=e.sent).idToken,i,"internal-error"),zs(u=wc(o.idToken),i,"internal-error"),s=u.sub,zs(t.uid===s,i,"user-mismatch"),e.abrupt("return",Xl._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ms(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),hf.apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return pf=Ho(Xo().mark((function e(t,n){var r,i,a,o,u=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,nf(t,i,n);case 4:return a=e.sent,e.next=7,Xl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return(mf=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(el(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,cf(!1,r,n.providerId);case 3:return e.abrupt("return",uf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(e,t){return wf.apply(this,arguments)}function wf(){return(wf=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ff(Au(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e,t){return xf.apply(this,arguments)}function xf(){return(xf=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithCustomToken",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(){return(_f=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=el(t),e.next=3,bf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sf=function(){function e(t,n){Ko(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Qo(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?If._fromServerResponse(e,t):Ms(e,"internal-error")}}]),e}(),If=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Qo(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Sf);function Ef(e,t,n){var r;zs((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),zs("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(zs(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(zs(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Tf(){return(Tf=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ef(i,a,r),e.next=5,gl(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(){return(Cf=Ho(Xo().mark((function e(t,n,r){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(Au(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(){return(Af=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(Au(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return(Rf=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,ol(r,{oobCode:n});case 3:i=e.sent,zs(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return zs(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:zs(i.mfaInfo,r,"internal-error");case 13:zs(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Sf._fromServerResponse(el(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(){return(Of=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Au(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e,t,n){return Df.apply(this,arguments)}function Df(){return(Df=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=el(t),e.next=3,Yl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Xl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t,n){return vf(Au(e),Vl.credential(t,n))}function Mf(){return(Mf=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),a={requestType:"EMAIL_SIGNIN",email:n},zs(r.handleCodeInApp,i,"argument-error"),r&&Ef(i,a,r),e.next=6,wl(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jf(){return(jf=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),zs((a=Vl.credentialWithLink(n,r||Gs()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",vf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return(Uf=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:createAuthUri",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(){return(Vf=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qs()?Gs():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ff(Au(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(){return(zf=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ef(r.auth,a,n),e.next=8,ml(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(){return(Bf=Ho(Xo().mark((function e(t,n,r){var i,a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ef(i.auth,o,r),e.next=8,xl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return(Kf=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s,c;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Au(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,bc(a,qf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return(Qf=Ho(Xo().mark((function e(t,n,r){var i,a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,bc(t,sl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $f=Qo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ko(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yf=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o;return Ko(this,n),(o=t.call(this,e,r,i)).username=a,o}return Qo(n)}($f),Jf=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"facebook.com",r)}return Qo(n)}($f),Xf=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Qo(n)}(Yf),Zf=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"google.com",r)}return Qo(n)}($f),eh=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){return Ko(this,n),t.call(this,e,"twitter.com",r,i)}return Qo(n)}(Yf);function th(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=wc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new $f(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Jf(a,i);case"github.com":return new Xf(a,i);case"google.com":return new Zf(a,i);case"twitter.com":return new eh(a,i,e.screenName||null);case"custom":case"anonymous":return new $f(a,null);default:return new $f(a,r,i)}}(n)}var nh=function(){function e(t,n){Ko(this,e),this.type=t,this.credential=n}return Qo(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ie({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rh=function(){function e(t,n,r){Ko(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Qo(e,[{key:"resolveSignIn",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=el(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Sf._fromServerResponse(r,e)}));zs(i.mfaPendingCredential,r,"internal-error");var o=nh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ho(Xo().mark((function e(t){var a,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xl._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return zs(n.user,r,"internal-error"),e.abrupt("return",Xl._forOperation(n.user,n.operationType,u));case 17:Ms(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ih(e,t){return nc(e,"POST","/v2/accounts/mfaEnrollment:start",tc(e,t))}var ah=function(){function e(t){var n=this;Ko(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Sf._fromServerResponse(t.auth,e)})))}))}return Qo(e,[{key:"getSession",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=nh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,bc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ho(Xo().mark((function e(t){var n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,bc(this.user,nc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",tc(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),oh=new WeakMap;var uh="__sak",sh=function(){function e(t,n){Ko(this,e),this.storageRetriever=t,this.type=n}return Qo(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch(YT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ch=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ko(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=cu();return Bc(e)||Qc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Jc(),e._shouldAllowMigration=!0,e}return Qo(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Yc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ho(Xo().mark((function e(t,r){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(Do(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ho(Xo().mark((function e(t){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(Do(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(Do(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sh);ch.type="LOCAL";var lh=ch,fh=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Qo(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sh);fh.type="SESSION";var hh=fh;function dh(e){return Promise.all(e.map(function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ph=function(){function e(t){Ko(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Qo(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ho(Xo().mark((function e(t){var n,r,i,a,o,u,s,c;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ph.receivers=[];var mh=function(){function e(t){Ko(this,e),this.target=t,this.handlers=new Set}return Qo(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=vh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yh(){return window}function gh(){return"undefined"!==typeof yh().WorkerGlobalScope&&"function"===typeof yh().importScripts}function kh(){return wh.apply(this,arguments)}function wh(){return(wh=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xh="firebaseLocalStorageDb",_h="firebaseLocalStorage",Sh="fbase_key",Ih=function(){function e(t){Ko(this,e),this.request=t}return Qo(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Eh(e,t){return e.transaction([_h],t?"readwrite":"readonly").objectStore(_h)}function Th(){var e=indexedDB.deleteDatabase(xh);return new Ih(e).toPromise()}function Ch(){var e=indexedDB.open(xh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_h,{keyPath:Sh})}catch(r){n(r)}})),e.addEventListener("success",Ho(Xo().mark((function n(){var r;return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_h)){n.next=12;break}return r.close(),n.next=5,Th();case 5:return n.t0=t,n.next=8,Ch();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ah(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Eh(t,!0).put((Ie(i={},Sh,n),Ie(i,"value",r),i)),e.abrupt("return",new Ih(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}function Rh(e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eh(t,!1).get(n),e.next=3,new Ih(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Ph(e,t){var n=Eh(e,!0).delete(t);return new Ih(n).toPromise()}var Dh=function(){function e(){Ko(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Qo(e,[{key:"_openDb",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ch();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ho(Xo().mark((function e(){var t=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ph._getInstance(gh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ho(Xo().mark((function e(n,r){var i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ch();case 5:return t=e.sent,e.next=8,Ah(t,uh,"1");case 8:return e.next=10,Ph(t,uh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ho(Xo().mark((function e(t,n){var r=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ah(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Rh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ho(Xo().mark((function e(t){var n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ph(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Eh(e,!1).getAll();return new Ih(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=qo(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Dh.type="LOCAL";var Lh=Dh;function Mh(e,t){return nc(e,"POST","/v2/accounts/mfaSignIn:start",tc(e,t))}function jh(e){return Fh.apply(this,arguments)}function Fh(){return(Fh=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=js("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zh=1e12,Bh=function(){function e(t){Ko(this,e),this.auth=t,this.counter=zh,this._widgets=new Map}return Qo(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||zh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||zh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||zh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qh=function(){function e(t,n,r){var i=this;Ko(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;zs(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Qo(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Wh=Vh("rcb"),Hh=new Ys(3e4,6e4),Kh="https://www.google.com/recaptcha/api.js?",Gh=function(){function e(){Ko(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yh().grecaptcha}return Qo(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return zs(Qh(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(yh().grecaptcha):new Promise((function(r,i){var a=yh().setTimeout((function(){i(js(e,"network-request-failed"))}),Hh.get());yh()[Wh]=function(){yh().clearTimeout(a),delete yh()[Wh];var o=yh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(js(e,"internal-error"))},Uh("".concat(Kh,"?").concat(_u({onload:Wh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(js(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!yh().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Qh(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var $h=function(){function e(){Ko(this,e)}return Qo(e,[{key:"load",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Bh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Yh="recaptcha",Jh={theme:"light",type:"image"},Xh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Jh),r=arguments.length>2?arguments[2]:void 0;Ko(this,e),this.parameters=n,this.type=Yh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=el(r),this.isInvisible="invisible"===this.parameters.size,zs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;zs(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $h:new Gh,this.validateStartingState()}return Qo(e,[{key:"verify",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){zs(!this.parameters.sitekey,this.auth,"argument-error"),zs(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),zs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=yh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){zs(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ho(Xo().mark((function e(){var t,n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zs(Qs()&&!gh(),this.auth,"internal-error"),e.next=3,Zh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,jh(this.auth);case 8:zs(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return zs(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Zh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ed=function(){function e(t,n){Ko(this,e),this.verificationId=t,this.onConfirmation=n}return Qo(e,[{key:"confirm",value:function(e){var t=Fl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function td(){return(td=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=el(t),e.next=3,ad(i,n,Au(r));case 3:return a=e.sent,e.abrupt("return",new ed(a,(function(e){return vf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return(rd=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.next=3,cf(!1,i,"phone");case 3:return e.next=5,ad(i.auth,n,Au(r));case 5:return a=e.sent,e.abrupt("return",new ed(a,(function(e){return yf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(){return(id=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.next=3,ad(i.auth,n,Au(r));case 3:return a=e.sent,e.abrupt("return",new ed(a,(function(e){return kf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ad(e,t,n){return od.apply(this,arguments)}function od(){return od=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,zs("string"===typeof a,t,"argument-error"),zs(r.type===Yh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return zs("enroll"===u.type,t,"internal-error"),e.next=13,ih(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return zs("signin"===u.type,t,"internal-error"),zs(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Mh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ol(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),od.apply(this,arguments)}function ud(){return(ud=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(Au(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sd=function(){function e(t){Ko(this,e),this.providerId=e.PROVIDER_ID,this.auth=el(t)}return Qo(e,[{key:"verifyPhoneNumber",value:function(e,t){return ad(this.auth,e,Au(t))}}],[{key:"credential",value:function(e,t){return Fl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Fl._fromTokenResponse(n,r):null}}]),e}();function cd(e,t){return t?Hs(t):(zs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sd.PROVIDER_ID="phone",sd.PHONE_SIGN_IN_METHOD="phone";var ld=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Qo(n,[{key:"_getIdTokenResponse",value:function(e){return Al(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Al(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Al(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(al);function fd(e){return df(e.auth,new ld(e),e.bypassAuthState)}function hd(e){var t=e.auth,n=e.user;return zs(n,t,"internal-error"),ff(n,new ld(e),e.bypassAuthState)}function dd(e){return pd.apply(this,arguments)}function pd(){return(pd=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,zs(r=t.user,n,"internal-error"),e.abrupt("return",uf(r,new ld(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ko(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Qo(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ho(Xo().mark((function t(n,r){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ho(Xo().mark((function e(t){var n,r,i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fd;case"linkViaPopup":case"linkViaRedirect":return dd;case"reauthViaPopup":case"reauthViaRedirect":return hd;default:Ms(this.auth,"internal-error")}}},{key:"resolve",value:function(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),md=new Ys(2e3,1e4);function yd(e,t,n){return gd.apply(this,arguments)}function gd(){return(gd=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=el(t),Us(t,n,zl),a=cd(i,r),o=new xd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(){return(kd=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Us((i=Au(t)).auth,n,zl),a=cd(i.auth,r),o=new xd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wd(e,t,n){return bd.apply(this,arguments)}function bd(){return(bd=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Us((i=Au(t)).auth,n,zl),a=cd(i.auth,r),o=new xd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xd=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o){var u;return Ko(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=jo(u),u}return Qo(n,[{key:"executeNotNull",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return zs(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ho(Xo().mark((function e(){var t,n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs(1===this.filter.length,"Popup operations only handle one event"),t=vh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(js(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(js(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(js(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,md.get())}()}}]),n}(vd);xd.currentPopupAction=null;var _d=new Map,Sd=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ko(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Qo(n,[{key:"execute",value:function(){var e=Ho(Xo().mark((function e(){var t,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_d.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Id(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Mo(Do(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:_d.set(this.auth._key(),t);case 21:return this.bypassAuthState||_d.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ho(Xo().mark((function e(t){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Mo(Do(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Mo(Do(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(vd);function Id(e,t){return Ed.apply(this,arguments)}function Ed(){return Ed=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nd(n),i=Ad(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ed.apply(this,arguments)}function Td(e,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ad(t)._set(Nd(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ad(e){return Hs(e._redirectPersistence)}function Nd(e){return Fc("pendingRedirect",e.config.apiKey,e.name)}function Rd(e,t,n){return function(e,t,n){return Od.apply(this,arguments)}(e,t,n)}function Od(){return(Od=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=el(t),Us(t,n,zl),a=cd(i,r),e.next=5,Td(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t,n){return function(e,t,n){return Dd.apply(this,arguments)}(e,t,n)}function Dd(){return(Dd=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Us((i=Au(t)).auth,n,zl),a=cd(i.auth,r),e.next=5,Td(a,i.auth);case 5:return e.next=7,zd(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(e,t,n){return function(e,t,n){return Md.apply(this,arguments)}(e,t,n)}function Md(){return(Md=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Us((i=Au(t)).auth,n,zl),a=cd(i.auth,r),e.next=5,cf(!1,i,n.providerId);case 5:return e.next=7,Td(a,i.auth);case 7:return e.next=9,zd(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(e,t){return Fd.apply(this,arguments)}function Fd(){return(Fd=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(t)._initializationPromise;case 2:return e.abrupt("return",Ud(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ud(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=el(t),a=cd(i,n),o=new Sd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function zd(e){return Bd.apply(this,arguments)}function Bd(){return(Bd=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qd=function(){function e(t){Ko(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Qo(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Hd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(js(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Hd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Kd(e){return Gd.apply(this,arguments)}function Gd(){return Gd=Ho(Xo().mark((function e(t){var n,r=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",nc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}var Qd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$d=/^https?/;function Yd(){return(Yd=Ho(Xo().mark((function e(t){var n,r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Kd(t);case 4:n=e.sent,r=n.authorizedDomains,i=qo(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Jd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ms(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Jd(e){var t=Gs(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!$d.test(r))return!1;if(Qd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Xd=new Ys(3e4,6e4);function Zd(){var e=yh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Yo(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ep=null;function tp(e){return ep=ep||function(e){return new Promise((function(t,n){var r,i,a;function o(){Zd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Zd(),n(js(e,"network-request-failed"))},timeout:Xd.get()})}if(null===(i=null===(r=yh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yh().gapi)||void 0===a?void 0:a.load)){var u=Vh("iframefcb");return yh()[u]=function(){gapi.load?o():n(js(e,"network-request-failed"))},Uh("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ep=null,e}))}(e),ep}var np=new Ys(5e3,15e3),rp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ip=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ap(e){var t=e.config;zs(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Js(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ss},i=ip.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_u(r).slice(1))}function op(e){return up.apply(this,arguments)}function up(){return up=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(t);case 2:return n=e.sent,zs(r=yh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ap(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rp,dontclear:!0},(function(e){return new Promise(function(){var n=Ho(Xo().mark((function n(r,i){var a,o,u;return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=js(t,"network-request-failed"),o=yh().setTimeout((function(){i(a)}),np.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}var sp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cp="_blank",lp="http://localhost",fp=function(){function e(t){Ko(this,e),this.window=t,this.associatedEvent=null}return Qo(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},sp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=cu().toLowerCase();n&&(u=qc(c)?cp:n),zc(c)&&(t=t||lp,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=ur(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if($c(c)&&"_self"!==u)return dp(t||"",u),new fp(null);var f=window.open(t||"",u,l);zs(f,e,"popup-blocked");try{f.focus()}catch(h){}return new fp(f)}function dp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pp="__/auth/handler",vp="emulator/auth/handler";function mp(e,t,n,r,i,a){zs(e.config.authDomain,e,"auth-domain-config-required"),zs(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ss,eventId:i};if(t instanceof zl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=ur(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Bl){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pp);return Js(t,vp)}(e),"?").concat(_u(d).slice(1))}var yp="webStorageSupport",gp=function(){function e(){Ko(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hh,this._completeRedirectFn=Ud}return Qo(e,[{key:"_openPopup",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){var a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=mp(t,n,r,Gs(),i),e.abrupt("return",hp(t,o,vh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=mp(t,n,r,Gs(),i),yh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(qs(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(t);case 2:return n=e.sent,r=new qd(t),n.register("authEvent",(function(e){return zs(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yp,{type:yp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ms(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Yd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Jc()||Bc()||Qc()}}]),e}(),kp=gp,wp=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this,"phone")).credential=e,r}return Qo(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return nc(e,"POST","/v2/accounts/mfaEnrollment:finalize",tc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return nc(e,"POST","/v2/accounts/mfaSignIn:finalize",tc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ko(this,e),this.factorId=t}return Qo(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bs("unexpected MultiFactorSessionType")}}}]),e}()),bp=function(){function e(){Ko(this,e)}return Qo(e,null,[{key:"assertion",value:function(e){return wp._fromCredential(e)}}]),e}();bp.FACTOR_ID="phone";var xp,_p="@firebase/auth",Sp="0.19.6",Ip=function(){function e(t){Ko(this,e),this.auth=t,this.internalListeners=new Map}return Qo(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){zs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls(),t=ts(e,"auth");return t.isInitialized()?t.getImmediate():Ks(e,{popupRedirectResolver:kp,persistence:[Lh,lh,hh]})}xp="Browser",es(new Nu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){zs(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),zs(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:xp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xc(xp)},r=new Zc(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),es(new Nu("auth-internal",(function(e){return function(e){return new Ip(e)}(el(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ps(_p,Sp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xp)),ps(_p,Sp,"esm2017");var Tp=(0,i.createContext)(null);function Cp(){var e=ur((0,i.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],r=(0,i.useContext)(Tp).firebase;return(0,i.useEffect)((function(){var e=function(e,t,n,r){return Au(e).onAuthStateChanged(t,n,r)}(Ep(r),(function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}}var Ap,Np="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Rp={},Op=Op||{},Pp=Np||self;function Dp(){}function Lp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jp="closure_uid_"+(1e9*Math.random()>>>0),Fp=0;function Up(e,t,n){return e.call.apply(e.bind,arguments)}function Vp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function zp(e,t,n){return(zp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Up:Vp).apply(null,arguments)}function Bp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qp(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wp(){this.s=this.s,this.o=this.o}var Hp={};Wp.prototype.s=!1,Wp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jp)&&e[jp]||(e[jp]=++Fp)}(this);delete Hp[e]}},Wp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Gp=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Qp(e){return Array.prototype.concat.apply([],arguments)}function $p(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yp(e){return/^[\s\xa0]*$/.test(e)}var Jp,Xp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Zp(e,t){return-1!=e.indexOf(t)}function ev(e,t){return e<t?-1:e>t?1:0}e:{var tv=Pp.navigator;if(tv){var nv=tv.userAgent;if(nv){Jp=nv;break e}}Jp=""}function rv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function iv(e){var t={};for(var n in e)t[n]=e[n];return t}var av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ov(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<av.length;a++)n=av[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uv(e){return uv[" "](e),e}uv[" "]=Dp;var sv,cv=Zp(Jp,"Opera"),lv=Zp(Jp,"Trident")||Zp(Jp,"MSIE"),fv=Zp(Jp,"Edge"),hv=fv||lv,dv=Zp(Jp,"Gecko")&&!(Zp(Jp.toLowerCase(),"webkit")&&!Zp(Jp,"Edge"))&&!(Zp(Jp,"Trident")||Zp(Jp,"MSIE"))&&!Zp(Jp,"Edge"),pv=Zp(Jp.toLowerCase(),"webkit")&&!Zp(Jp,"Edge");function vv(){var e=Pp.document;return e?e.documentMode:void 0}e:{var mv="",yv=function(){var e=Jp;return dv?/rv:([^\);]+)(\)|;)/.exec(e):fv?/Edge\/([\d\.]+)/.exec(e):lv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pv?/WebKit\/(\S+)/.exec(e):cv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yv&&(mv=yv?yv[1]:""),lv){var gv=vv();if(null!=gv&&gv>parseFloat(mv)){sv=String(gv);break e}}sv=mv}var kv,wv={};function bv(){return function(e){var t=wv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Xp(String(sv)).split("."),n=Xp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ev(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ev(0==a[2].length,0==o[2].length)||ev(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pp.document&&lv){var xv=vv();kv=xv||(parseInt(sv,10)||void 0)}else kv=void 0;var _v=kv,Sv=function(){if(!Pp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pp.addEventListener("test",Dp,t),Pp.removeEventListener("test",Dp,t)}catch(n){}return e}();function Iv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ev(e,t){if(Iv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dv){e:{try{uv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Tv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ev.Z.h.call(this)}}Iv.prototype.h=function(){this.defaultPrevented=!0},qp(Ev,Iv);var Tv={2:"touch",3:"pen",4:"mouse"};Ev.prototype.h=function(){Ev.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cv="closure_listenable_"+(1e6*Math.random()|0),Av=0;function Nv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Av,this.ca=this.fa=!1}function Rv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ov(e){this.src=e,this.g={},this.h=0}function Pv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Kp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Rv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ov.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Dv(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Nv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Lv="closure_lm_"+(1e6*Math.random()|0),Mv={};function jv(e,t,n,r,i){if(r&&r.once)return Uv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jv(e,t[a],n,r,i);return null}return n=Kv(n),e&&e[Cv]?e.N(t,n,Mp(r)?!!r.capture:!!r,i):Fv(e,t,n,!1,r,i)}function Fv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mp(i)?!!i.capture:!!i,u=Wv(e);if(u||(e[Lv]=u=new Ov(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Uv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uv(e,t[a],n,r,i);return null}return n=Kv(n),e&&e[Cv]?e.O(t,n,Mp(r)?!!r.capture:!!r,i):Fv(e,t,n,!0,r,i)}function Vv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vv(e,t[a],n,r,i);else r=Mp(r)?!!r.capture:!!r,n=Kv(n),e&&e[Cv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dv(a=e.g[t],n,r,i))&&(Rv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dv(t,n,r,i)),(n=-1<e?t[e]:null)&&zv(n))}function zv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Cv])Pv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wv(t))?(Pv(n,e),0==n.h&&(n.src=null,t[Lv]=null)):Rv(e)}}}function Bv(e){return e in Mv?Mv[e]:Mv[e]="on"+e}function qv(e,t){if(e.ca)e=!0;else{t=new Ev(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&zv(e),e=n.call(r,t)}return e}function Wv(e){return(e=e[Lv])instanceof Ov?e:null}var Hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kv(e){return"function"===typeof e?e:(e[Hv]||(e[Hv]=function(t){return e.handleEvent(t)}),e[Hv])}function Gv(){Wp.call(this),this.i=new Ov(this),this.P=this,this.I=null}function Qv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Iv(t,e);else if(t instanceof Iv)t.target=t.target||e;else{var i=t;ov(t=new Iv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$v(o,r,!0,t)&&i}if(i=$v(o=t.g=e,r,!0,t)&&i,i=$v(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$v(o=t.g=n[a],r,!1,t)&&i}function $v(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Pv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}qp(Gv,Wp),Gv.prototype[Cv]=!0,Gv.prototype.removeEventListener=function(e,t,n,r){Vv(this,e,t,n,r)},Gv.prototype.M=function(){if(Gv.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rv(n[r]);delete t.g[e],t.h--}}this.I=null},Gv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yv=Pp.JSON.stringify;function Jv(){var e=am,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xv,Zv=function(){function e(){Ko(this,e),this.h=this.g=null}return Qo(e,[{key:"add",value:function(e,t){var n=em.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),em=new(function(){function e(t,n){Ko(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Qo(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new tm}),(function(e){return e.reset()})),tm=function(){function e(){Ko(this,e),this.next=this.g=this.h=null}return Qo(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nm(e){Pp.setTimeout((function(){throw e}),0)}function rm(e,t){Xv||function(){var e=Pp.Promise.resolve(void 0);Xv=function(){e.then(om)}}(),im||(Xv(),im=!0),am.add(e,t)}var im=!1,am=new Zv;function om(){for(var e;e=Jv();){try{e.h.call(e.g)}catch(n){nm(n)}var t=em;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}im=!1}function um(e,t){Gv.call(this),this.h=e||1,this.g=t||Pp,this.j=zp(this.kb,this),this.l=Date.now()}function sm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cm(e,t,n){if("function"===typeof e)n&&(e=zp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=zp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pp.setTimeout(e,t||0)}function lm(e){e.g=cm((function(){e.g=null,e.i&&(e.i=!1,lm(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}qp(um,Gv),(Ap=um.prototype).da=!1,Ap.S=null,Ap.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qv(this,"tick"),this.da&&(sm(this),this.start()))}},Ap.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ap.M=function(){um.Z.M.call(this),sm(this),delete this.g};var fm=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Qo(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lm(this)}},{key:"M",value:function(){Mo(Do(n.prototype),"M",this).call(this),this.g&&(Pp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wp);function hm(e){Wp.call(this),this.h=e,this.g={}}qp(hm,Wp);var dm=[];function pm(e,t,n,r){Array.isArray(n)||(n&&(dm[0]=n.toString()),n=dm);for(var i=0;i<n.length;i++){var a=jv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vm(e){rv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&zv(e)}),e),e.g={}}function mm(){this.g=!0}function ym(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yv(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}hm.prototype.M=function(){hm.Z.M.call(this),vm(this)},hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mm.prototype.Aa=function(){this.g=!1},mm.prototype.info=function(){};var gm={},km=null;function wm(){return km=km||new Gv}function bm(e){Iv.call(this,gm.Ma,e)}function xm(e){var t=wm();Qv(t,new bm(t,e))}function _m(e,t){Iv.call(this,gm.STAT_EVENT,e),this.stat=t}function Sm(e){var t=wm();Qv(t,new _m(t,e))}function Im(e,t){Iv.call(this,gm.Na,e),this.size=t}function Em(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pp.setTimeout((function(){e()}),t)}gm.Ma="serverreachability",qp(bm,Iv),gm.STAT_EVENT="statevent",qp(_m,Iv),gm.Na="timingevent",qp(Im,Iv);var Tm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Am(){}function Nm(e){return e.h||(e.h=e.i())}function Rm(){}Am.prototype.h=null;var Om,Pm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dm(){Iv.call(this,"d")}function Lm(){Iv.call(this,"c")}function Mm(){}function jm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hm(this),this.P=Um,e=hv?125:void 0,this.W=new um(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}qp(Dm,Iv),qp(Lm,Iv),qp(Mm,Am),Mm.prototype.g=function(){return new XMLHttpRequest},Mm.prototype.i=function(){return{}},Om=new Mm;var Um=45e3,Vm={},zm={};function Bm(e,t,n){e.K=1,e.v=fy(ay(t)),e.s=n,e.U=!0,qm(e,null)}function qm(e,t){e.F=Date.now(),Gm(e),e.A=ay(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sy(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Fm,e.g=Eg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new fm(zp(e.Ia,e,e.g),e.O)),pm(e.V,e.g,"readystatechange",e.gb),t=e.H?iv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xm(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Hm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Km(e,n))==zm){4==t&&(e.o=4,Sm(14),i=!1),ym(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vm){e.o=4,Sm(15),ym(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ym(e.j,e.m,r,null),Xm(e,r)}Wm(e)&&r!=zm&&r!=Vm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gg(t),t.L=!0,Sm(11))):(ym(e.j,e.m,n,"[Invalid Chunked Response]"),Jm(e),Ym(e))}function Km(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?zm:(n=Number(t.substring(n,r)),isNaN(n)?Vm:(r+=1)+n>t.length?zm:(t=t.substr(r,n),e.C=r+n,t))}function Gm(e){e.Y=Date.now()+e.P,Qm(e,e.P)}function Qm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Em(zp(e.eb,e),t)}function $m(e){e.B&&(Pp.clearTimeout(e.B),e.B=null)}function Ym(e){0==e.l.G||e.I||bg(e.l,e)}function Jm(e){$m(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,sm(e.W),vm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Oy(n.i,e)))if(n.I=e.N,!e.J&&Oy(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wg(n),cg(n)}yg(n),Sm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Em(zp(n.ab,n),6e3));if(1>=Ry(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else _g(n,11)}else if((e.J||n.g==e)&&wg(n),!Yp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Zp(l,"spdy")||Zp(l,"quic")||Zp(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Py(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ly(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ig(r,r.H?r.la:null,r.W),d.J){Dy(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($m(p),Gm(p)),r.g=d}else mg(r);0<n.l.length&&hg(n)}else"stop"!=a[0]&&"close"!=a[0]||_g(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_g(n,7):sg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}xm(4)}catch(a){}}function Zm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lp(e)||"string"===typeof e)Gp(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Lp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Lp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ey(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ey)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ty(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ny(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ny(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ny(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ap=jm.prototype).setTimeout=function(e){this.P=e},Ap.gb=function(e){e=e.target;var t=this.L;t&&3==rg(e)?t.l():this.Ia(e)},Ap.Ia=function(e){try{if(e==this.g)e:{var t=rg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hv||this.g&&(this.h.h||this.g.ga()||ig(this.g)))){this.I||4!=t||7==n||xm(8==n||0>=r?3:2),$m(this);var i=this.g.ba();this.N=i;t:if(Wm(this)){var a=ig(this.g);e="";var o=a.length,u=4==rg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jm(this),Ym(this);var s="";break t}this.h.i=new Pp.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yp(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Sm(12),Jm(this),Ym(this);break e}ym(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xm(this,i)}this.U?(Hm(this,t,s),hv&&this.i&&3==t&&(pm(this.V,this.W,"tick",this.fb),this.W.start())):(ym(this.j,this.m,s,null),Xm(this,s)),4==t&&Jm(this),this.i&&!this.I&&(4==t?bg(this.l,this):(this.i=!1,Gm(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Sm(12)):(this.o=0,Sm(13)),Jm(this),Ym(this)}}}catch(t){}},Ap.fb=function(){if(this.g){var e=rg(this.g),t=this.g.ga();this.C<t.length&&($m(this),Hm(this,e,t),this.i&&4!=e&&Gm(this))}},Ap.cancel=function(){this.I=!0,Jm(this)},Ap.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xm(3),Sm(17)),Jm(this),this.o=2,Ym(this)):Qm(this,this.Y-e)},(Ap=ey.prototype).R=function(){ty(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ap.T=function(){return ty(this),this.g.concat()},Ap.get=function(e,t){return ny(this.h,e)?this.h[e]:t},Ap.set=function(e,t){ny(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ap.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ry=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iy(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof iy){this.g=void 0!==t?t:e.g,oy(this,e.j),this.s=e.s,uy(this,e.i),sy(this,e.m),this.l=e.l,t=e.h;var n=new wy;n.i=t.i,t.g&&(n.g=new ey(t.g),n.h=t.h),cy(this,n),this.o=e.o}else e&&(n=String(e).match(ry))?(this.g=!!t,oy(this,n[1]||"",!0),this.s=hy(n[2]||""),uy(this,n[3]||"",!0),sy(this,n[4]),this.l=hy(n[5]||"",!0),cy(this,n[6]||"",!0),this.o=hy(n[7]||"")):(this.g=!!t,this.h=new wy(null,this.g))}function ay(e){return new iy(e)}function oy(e,t,n){e.j=n?hy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uy(e,t,n){e.i=n?hy(t,!0):t}function sy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cy(e,t,n){t instanceof wy?(e.h=t,function(e,t){t&&!e.j&&(by(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xy(this,t),Sy(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=dy(t,gy)),e.h=new wy(t,e.g))}function ly(e,t,n){e.h.set(t,n)}function fy(e){return ly(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,py),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function py(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}iy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dy(t,vy,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dy(t,vy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(dy(n,"/"==n.charAt(0)?yy:my,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dy(n,ky)),e.join("")};var vy=/[#\/\?@]/g,my=/[#\?:]/g,yy=/[#\?]/g,gy=/[#\?@]/g,ky=/#/g;function wy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function by(e){e.g||(e.g=new ey,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xy(e,t){by(e),t=Iy(e,t),ny(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ny((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ty(e)))}function _y(e,t){return by(e),t=Iy(e,t),ny(e.g.h,t)}function Sy(e,t,n){xy(e,t),0<n.length&&(e.i=null,e.g.set(Iy(e,t),$p(n)),e.h+=n.length)}function Iy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ap=wy.prototype).add=function(e,t){by(this),this.i=null,e=Iy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ap.forEach=function(e,t){by(this),this.g.forEach((function(n,r){Gp(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ap.T=function(){by(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ap.R=function(e){by(this);var t=[];if("string"===typeof e)_y(this,e)&&(t=Qp(t,this.g.get(Iy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Qp(t,e[n])}return t},Ap.set=function(e,t){return by(this),this.i=null,_y(this,e=Iy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ap.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ap.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ey=Qo((function e(t,n){Ko(this,e),this.h=t,this.g=n}));function Ty(e){this.l=e||Ay,Pp.PerformanceNavigationTiming?e=0<(e=Pp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pp.g&&Pp.g.Ea&&Pp.g.Ea()&&Pp.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cy,Ay=10;function Ny(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ry(e){return e.h?1:e.g?e.g.size:0}function Oy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Py(e,t){e.g?e.g.add(t):e.h=t}function Dy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ly(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=qo(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $p(e.i)}function My(){}function jy(){this.g=new My}function Fy(e,t,n){var r=n||"";try{Zm(e,(function(e,n){var i=e;Mp(e)&&(i=Yv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Vy(e){this.l=e.$b||null,this.j=e.ib||!1}function zy(e,t){Gv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=By,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ty.prototype.cancel=function(){if(this.i=Ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=qo(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},My.prototype.stringify=function(e){return Pp.JSON.stringify(e,void 0)},My.prototype.parse=function(e){return Pp.JSON.parse(e,void 0)},qp(Vy,Am),Vy.prototype.g=function(){return new zy(this.l,this.j)},Vy.prototype.i=(Cy={},function(){return Cy}),qp(zy,Gv);var By=0;function qy(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hy(e)}function Hy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ap=zy.prototype).open=function(e,t){if(this.readyState!=By)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hy(this)},Ap.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pp).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ap.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wy(this)),this.readyState=By},Ap.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hy(this)),this.g&&(this.readyState=3,Hy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qy(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ap.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wy(this):Hy(this),3==this.readyState&&qy(this)}},Ap.Ua=function(e){this.g&&(this.response=this.responseText=e,Wy(this))},Ap.Ta=function(e){this.g&&(this.response=e,Wy(this))},Ap.ha=function(){this.g&&Wy(this)},Ap.setRequestHeader=function(e,t){this.v.append(e,t)},Ap.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ap.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ky=Pp.JSON.parse;function Gy(e){Gv.call(this),this.headers=new ey,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qy,this.K=this.L=!1}qp(Gy,Gv);var Qy="",$y=/^https?$/i,Yy=["POST","PUT"];function Jy(e){return"content-type"==e.toLowerCase()}function Xy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zy(e),tg(e)}function Zy(e){e.D||(e.D=!0,Qv(e,"complete"),Qv(e,"error"))}function eg(e){if(e.h&&"undefined"!=typeof Op&&(!e.C[1]||4!=rg(e)||2!=e.ba()))if(e.v&&4==rg(e))cm(e.Fa,0,e);else if(Qv(e,"readystatechange"),4==rg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ry)[1]||null;if(!a&&Pp.self&&Pp.self.location){var o=Pp.self.location.protocol;a=o.substr(0,o.length-1)}i=!$y.test(a?a.toLowerCase():"")}t=i}if(t)Qv(e,"complete"),Qv(e,"success");else{e.m=6;try{var u=2<rg(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Zy(e)}}finally{tg(e)}}}function tg(e,t){if(e.g){ng(e);var n=e.g,r=e.C[0]?Dp:null;e.g=null,e.C=null,t||Qv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ng(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pp.clearTimeout(e.A),e.A=null)}function rg(e){return e.g?e.g.readyState:0}function ig(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qe){return null}}function ag(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ly(e,t,n))}function og(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ug(e){this.za=0,this.l=[],this.h=new mm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=og("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=og("baseRetryDelayMs",5e3,e),this.$a=og("retryDelaySeedMs",1e4,e),this.Ya=og("forwardChannelMaxRetries",2,e),this.ra=og("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ty(e&&e.concurrentRequestLimit),this.Ca=new jy,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function sg(e){if(lg(e),3==e.G){var t=e.V++,n=ay(e.F);ly(n,"SID",e.J),ly(n,"RID",t),ly(n,"TYPE","terminate"),pg(e,n),(t=new jm(e,e.h,t,void 0)).K=2,t.v=fy(ay(n)),n=!1,Pp.navigator&&Pp.navigator.sendBeacon&&(n=Pp.navigator.sendBeacon(t.v.toString(),"")),!n&&Pp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Eg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gm(t)}Sg(e)}function cg(e){e.g&&(gg(e),e.g.cancel(),e.g=null)}function lg(e){cg(e),e.u&&(Pp.clearTimeout(e.u),e.u=null),wg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pp.clearTimeout(e.m),e.m=null)}function fg(e,t){e.l.push(new Ey(e.Za++,t)),3==e.G&&hg(e)}function hg(e){Ny(e.i)||e.m||(e.m=!0,rm(e.Ha,e),e.C=0)}function dg(e,t){var n;n=t?t.m:e.V++;var r=ay(e.F);ly(r,"SID",e.J),ly(r,"RID",n),ly(r,"AID",e.U),pg(e,r),e.o&&e.s&&ag(r,e.o,e.s),n=new jm(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Py(e.i,n),Bm(n,r,t)}function pg(e,t){e.j&&Zm({},(function(e,n){ly(t,n,e)}))}function vg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?zp(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Fy(l,o,"req"+c+"_")}catch(it){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function mg(e){e.g||e.u||(e.Y=1,rm(e.Ga,e),e.A=0)}function yg(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Em(zp(e.Ga,e),xg(e,e.A)),e.A++,!0)}function gg(e){null!=e.B&&(Pp.clearTimeout(e.B),e.B=null)}function kg(e){e.g=new jm(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ay(e.oa);ly(t,"RID","rpc"),ly(t,"SID",e.J),ly(t,"CI",e.N?"0":"1"),ly(t,"AID",e.U),pg(e,t),ly(t,"TYPE","xmlhttp"),e.o&&e.s&&ag(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fy(ay(t)),n.s=null,n.U=!0,qm(n,e)}function wg(e){null!=e.v&&(Pp.clearTimeout(e.v),e.v=null)}function bg(e,t){var n=null;if(e.g==t){wg(e),gg(e),e.g=null;var r=2}else{if(!Oy(e.i,t))return;n=t.D,Dy(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qv(r=wm(),new Im(r,n,t,i)),hg(e)}else mg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ry(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Em(zp(e.Ha,e,t),xg(e,e.C)),e.C++,!0))}(e,t)||2==r&&yg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_g(e,5);break;case 4:_g(e,10);break;case 3:_g(e,6);break;default:_g(e,2)}}function xg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _g(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=zp(e.jb,e);n||(n=new iy("//www.google.com/images/cleardot.gif"),Pp.location&&"http"==Pp.location.protocol||oy(n,"https"),fy(n)),function(e,t){var n=new mm;if(Pp.Image){var r=new Image;r.onload=Bp(Uy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bp(Uy,n,r,"TestLoadImage: error",!1,t),r.onabort=Bp(Uy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bp(Uy,n,r,"TestLoadImage: timeout",!1,t),Pp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sm(2);e.G=0,e.j&&e.j.va(t),Sg(e),lg(e)}function Sg(e){e.G=0,e.I=-1,e.j&&(0==Ly(e.i).length&&0==e.l.length||(e.i.i.length=0,$p(e.l),e.l.length=0),e.j.ua())}function Ig(e,t,n){var r=function(e){return e instanceof iy?ay(e):new iy(e,void 0)}(n);if(""!=r.i)t&&uy(r,t+"."+r.i),sy(r,r.m);else{var i=Pp.location;r=function(e,t,n,r){var i=new iy(null,void 0);return e&&oy(i,e),t&&uy(i,t),n&&sy(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rv(e.aa,(function(e,t){ly(r,t,e)})),t=e.D,n=e.sa,t&&n&&ly(r,t,n),ly(r,"VER",e.ma),pg(e,r),r}function Eg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Gy(new Vy({ib:!0})):new Gy(e.qa)).L=e.H,t}function Tg(){}function Cg(){if(lv&&!(10<=Number(_v)))throw Error("Environmental error: no available transport.")}function Ag(e,t){Gv.call(this),this.g=new ug(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Yp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Og(this)}function Ng(e){Dm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rg(){Lm.call(this),this.status=1}function Og(e){this.g=e}(Ap=Gy.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Om.g(),this.C=this.u?Nm(this.u):Nm(Om),this.g.onreadystatechange=zp(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Xy(this,a)}e=n||"";var i=new ey(this.headers);r&&Zm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Jy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pp.FormData&&e instanceof Pp.FormData,!(0<=Kp(Yy,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ng(this),0<this.B&&((this.K=function(e){return lv&&bv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zp(this.pa,this)):this.A=cm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Xy(this,a)}},Ap.pa=function(){"undefined"!=typeof Op&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qv(this,"timeout"),this.abort(8))},Ap.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qv(this,"complete"),Qv(this,"abort"),tg(this))},Ap.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tg(this,!0)),Gy.Z.M.call(this)},Ap.Fa=function(){this.s||(this.F||this.v||this.l?eg(this):this.cb())},Ap.cb=function(){eg(this)},Ap.ba=function(){try{return 2<rg(this)?this.g.status:-1}catch(Cy){return-1}},Ap.ga=function(){try{return this.g?this.g.responseText:""}catch(Cy){return""}},Ap.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ky(t)}},Ap.Da=function(){return this.m},Ap.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ap=ug.prototype).ma=8,Ap.G=1,Ap.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(qe){}},Ap.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jm(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ov(n=iv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vg(this,t,r),ly(i=ay(this.F),"RID",e),ly(i,"CVER",22),this.D&&ly(i,"X-HTTP-Session-Id",this.D),pg(this,i),this.o&&n&&ag(i,this.o,n),Py(this.i,t),this.Ra&&ly(i,"TYPE","init"),this.ja?(ly(i,"$req",r),ly(i,"SID","null"),t.$=!0,Bm(t,i,null)):Bm(t,i,r),this.G=2}}else 3==this.G&&(e?dg(this,e):0==this.l.length||Ny(this.i)||dg(this))},Ap.Ga=function(){if(this.u=null,kg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Em(zp(this.bb,this),e)}},Ap.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sm(10),cg(this),kg(this))},Ap.ab=function(){null!=this.v&&(this.v=null,cg(this),yg(this),Sm(19))},Ap.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sm(2)):(this.h.info("Failed to ping google.com"),Sm(1))},(Ap=Tg.prototype).xa=function(){},Ap.wa=function(){},Ap.va=function(){},Ap.ua=function(){},Ap.Oa=function(){},Cg.prototype.g=function(e,t){return new Ag(e,t)},qp(Ag,Gv),Ag.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rm(zp(e.hb,e,t))),Sm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ig(e,null,e.W),hg(e)},Ag.prototype.close=function(){sg(this.g)},Ag.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fg(this.g,t)}else this.v?((t={}).__data__=Yv(e),fg(this.g,t)):fg(this.g,e)},Ag.prototype.M=function(){this.g.j=null,delete this.j,sg(this.g),delete this.g,Ag.Z.M.call(this)},qp(Ng,Dm),qp(Rg,Lm),qp(Og,Tg),Og.prototype.xa=function(){Qv(this.g,"a")},Og.prototype.wa=function(e){Qv(this.g,new Ng(e))},Og.prototype.va=function(e){Qv(this.g,new Rg(e))},Og.prototype.ua=function(){Qv(this.g,"b")},Cg.prototype.createWebChannel=Cg.prototype.g,Ag.prototype.send=Ag.prototype.u,Ag.prototype.open=Ag.prototype.m,Ag.prototype.close=Ag.prototype.close,Tm.NO_ERROR=0,Tm.TIMEOUT=8,Tm.HTTP_ERROR=6,Cm.COMPLETE="complete",Rm.EventType=Pm,Pm.OPEN="a",Pm.CLOSE="b",Pm.ERROR="c",Pm.MESSAGE="d",Gv.prototype.listen=Gv.prototype.N,Gy.prototype.listenOnce=Gy.prototype.O,Gy.prototype.getLastError=Gy.prototype.La,Gy.prototype.getLastErrorCode=Gy.prototype.Da,Gy.prototype.getStatus=Gy.prototype.ba,Gy.prototype.getResponseJson=Gy.prototype.Qa,Gy.prototype.getResponseText=Gy.prototype.ga,Gy.prototype.send=Gy.prototype.ea;var Pg=Rp.createWebChannelTransport=function(){return new Cg},Dg=Rp.getStatEventTarget=function(){return wm()},Lg=Rp.ErrorCode=Tm,Mg=Rp.EventType=Cm,jg=Rp.Event=gm,Fg=Rp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ug=Rp.FetchXmlHttpFactory=Vy,Vg=Rp.WebChannel=Rm,zg=Rp.XhrIo=Gy,Bg="@firebase/firestore",qg=function(){function e(t){Ko(this,e),this.uid=t}return Qo(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qg.UNAUTHENTICATED=new qg(null),qg.GOOGLE_CREDENTIALS=new qg("google-credentials-uid"),qg.FIRST_PARTY=new qg("first-party-uid"),qg.MOCK_USER=new qg("mock-user");var Wg="9.6.3",Hg=new qu("@firebase/firestore");function Kg(){return Hg.logLevel}function Gg(e){if(Hg.logLevel<=Du.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yg);Hg.debug.apply(Hg,["Firestore (".concat(Wg,"): ").concat(e)].concat(Yo(i)))}}function Qg(e){if(Hg.logLevel<=Du.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yg);Hg.error.apply(Hg,["Firestore (".concat(Wg,"): ").concat(e)].concat(Yo(i)))}}function $g(e){if(Hg.logLevel<=Du.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yg);Hg.warn.apply(Hg,["Firestore (".concat(Wg,"): ").concat(e)].concat(Yo(i)))}}function Yg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Jg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wg,") INTERNAL ASSERTION FAILED: ")+e;throw Qg(t),new Error(t)}function Xg(e,t){e||Jg()}function Zg(e,t){return e}var ek={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tk=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Qo(n)}(mu),nk=Qo((function e(){var t=this;Ko(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rk=Qo((function e(t,n){Ko(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ik=function(){function e(){Ko(this,e)}return Qo(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ak=function(){function e(t){Ko(this,e),this.token=t,this.changeListener=null}return Qo(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ok=function(){function e(t){Ko(this,e),this.t=t,this.currentUser=qg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Qo(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new nk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new nk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Gg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Gg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Xg("string"==typeof n.accessToken),new rk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Xg(null===e||"string"==typeof e),new qg(e)}}]),e}(),uk=Qo((function e(t,n,r){Ko(this,e),this.type="FirstParty",this.user=qg.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),sk=function(){function e(t,n,r){Ko(this,e),this.h=t,this.l=n,this.m=r}return Qo(e,[{key:"getToken",value:function(){return Promise.resolve(new uk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ck=Qo((function e(t){Ko(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lk=function(){function e(t){Ko(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Qo(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Gg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Gg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Gg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Xg("string"==typeof e.token),new ck(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),fk=function(){function e(t,n){var r=this;Ko(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Qo(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function hk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}fk.I=-1;var dk=function(){function e(){Ko(this,e)}return Qo(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=hk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pk(e,t){return e<t?-1:e>t?1:0}function vk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mk(e){return e+"\0"}var yk=function(){function e(t,n){if(Ko(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new tk(ek.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tk(ek.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tk(ek.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tk(ek.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Qo(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pk(this.nanoseconds,e.nanoseconds):pk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gk=function(){function e(t){Ko(this,e),this.timestamp=t}return Qo(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new yk(0,0))}}]),e}();function kk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var xk=function(){function e(t,n,r){Ko(this,e),void 0===n?n=0:n>t.length&&Jg(),void 0===r?r=t.length-n:r>t.length-n&&Jg(),this.segments=t,this.offset=n,this.len=r}return Qo(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_k=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new tk(ek.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Yo(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xk),Sk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ik=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new tk(ek.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new tk(ek.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new tk(ek.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new tk(ek.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xk),Ek=function(){function e(t){Ko(this,e),this.fields=t,t.sort(Ik.comparator)}return Qo(e,[{key:"covers",value:function(e){var t,n=qo(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Tk=function(e){function t(e){Ko(this,t),this.binaryString=e}return Qo(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Tk.EMPTY_BYTE_STRING=new Tk("");var Ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ak(e){if(Xg(!!e),"string"==typeof e){var t=0,n=Ck.exec(e);if(Xg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Nk(e.seconds),nanos:Nk(e.nanos)}}function Nk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rk(e){return"string"==typeof e?Tk.fromBase64String(e):Tk.fromUint8Array(e)}function Ok(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pk(e){var t=e.mapValue.fields.__previous_value__;return Ok(t)?Pk(t):t}function Dk(e){var t=Ak(e.mapValue.fields.__local_write_time__.timestampValue);return new yk(t.seconds,t.nanos)}function Lk(e){return null==e}function Mk(e){return 0===e&&1/e==-1/0}function jk(e){return"number"==typeof e&&Number.isInteger(e)&&!Mk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fk=function(){function e(t){Ko(this,e),this.path=t}return Qo(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===_k.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_k.fromString(t))}},{key:"fromName",value:function(t){return new e(_k.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return _k.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _k(t.slice()))}}]),e}();function Uk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ok(e)?4:10:Jg()}function Vk(e,t){if(e===t)return!0;var n=Uk(e);if(n!==Uk(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dk(e).isEqual(Dk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ak(e.timestampValue),r=Ak(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rk(e.bytesValue).isEqual(Rk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nk(e.geoPointValue.latitude)===Nk(t.geoPointValue.latitude)&&Nk(e.geoPointValue.longitude)===Nk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nk(e.integerValue)===Nk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Nk(e.doubleValue),r=Nk(t.doubleValue);return n===r?Mk(n)===Mk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vk(e.arrayValue.values||[],t.arrayValue.values||[],Vk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kk(n)!==kk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vk(n[i],r[i])))return!1;return!0}(e,t);default:return Jg()}}function zk(e,t){return void 0!==(e.values||[]).find((function(e){return Vk(e,t)}))}function Bk(e,t){if(e===t)return 0;var n=Uk(e),r=Uk(t);if(n!==r)return pk(n,r);switch(n){case 0:return 0;case 1:return pk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Nk(e.integerValue||e.doubleValue),r=Nk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qk(e.timestampValue,t.timestampValue);case 4:return qk(Dk(e),Dk(t));case 5:return pk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rk(e),r=Rk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pk(n[i],r[i]);if(0!==a)return a}return pk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pk(Nk(e.latitude),Nk(t.latitude));return 0!==n?n:pk(Nk(e.longitude),Nk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bk(n[i],r[i]);if(a)return a}return pk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=pk(r[o],a[o]);if(0!==u)return u;var s=Bk(n[r[o]],i[a[o]]);if(0!==s)return s}return pk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Jg()}}function qk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pk(e,t);var n=Ak(e),r=Ak(t),i=pk(n.seconds,r.seconds);return 0!==i?i:pk(n.nanos,r.nanos)}function Wk(e){return Hk(e)}function Hk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ak(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=qo(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=qo(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Jg();var t,n}function Kk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gk(e){return!!e&&"integerValue"in e}function Qk(e){return!!e&&"arrayValue"in e}function $k(e){return!!e&&"nullValue"in e}function Yk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jk(e){return!!e&&"mapValue"in e}function Xk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xk(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Zk=function(){function e(t){Ko(this,e),this.value=t}return Qo(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Jk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xk(t)}},{key:"setAll",value:function(e){var t=this,n=Ik.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Jk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Jk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){wk(t,(function(t,n){return e[t]=n}));var r,i=qo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ew(e){var t=[];return wk(e.fields,(function(e,n){var r=new Ik([e]);if(Jk(n)){var i=ew(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=qo(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ek(t)}var tw=function(){function e(t,n,r,i,a){Ko(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Qo(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gk.min(),Zk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zk.empty(),2)}}]),e}(),nw=Qo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ko(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function rw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nw(e,t,n,r,i,a,o)}function iw(e){var t=Zg(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wk(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Lk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=yw(t.startAt)),t.endAt&&(n+="|ub:",n+=yw(t.endAt)),t.R=n}return t.R}function aw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Vk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bw(e.startAt,t.startAt)&&bw(e.endAt,t.endAt)}function ow(e){return Fk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var uw=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Qo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Bk(t,this.value)):null!==t&&Uk(this.value)===Uk(t)&&this.v(Bk(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jg()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new sw(e,t,r):"array-contains"===t?new hw(e,r):"in"===t?new dw(e,r):"not-in"===t?new pw(e,r):"array-contains-any"===t?new vw(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new cw(e,n):new lw(e,n)}}]),n}(function(){return Qo((function e(){Ko(this,e)}))}());var sw=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this,e,r,i)).key=Fk.fromName(i.referenceValue),a}return Qo(n,[{key:"matches",value:function(e){var t=Fk.comparator(e.key,this.key);return this.v(t)}}]),n}(uw),cw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,"in",r)).keys=fw("in",r),i}return Qo(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uw),lw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,"not-in",r)).keys=fw("not-in",r),i}return Qo(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uw);function fw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fk.fromName(e.referenceValue)}))}var hw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"array-contains",r)}return Qo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qk(t)&&zk(t.arrayValue,this.value)}}]),n}(uw),dw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"in",r)}return Qo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zk(this.value.arrayValue,t)}}]),n}(uw),pw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"not-in",r)}return Qo(n,[{key:"matches",value:function(e){if(zk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zk(this.value.arrayValue,t)}}]),n}(uw),vw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){return Ko(this,n),t.call(this,e,"array-contains-any",r)}return Qo(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zk(t.value.arrayValue,e)}))}}]),n}(uw),mw=Qo((function e(t,n){Ko(this,e),this.position=t,this.before=n}));function yw(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Wk(e)})).join(","))}var gw=Qo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ko(this,e),this.field=t,this.dir=n}));function kw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ww(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fk.comparator(Fk.fromName(o.referenceValue),n.key):Bk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function bw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vk(e.position[n],t.position[n]))return!1;return!0}var xw=Qo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ko(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function _w(e,t,n,r,i,a,o,u){return new xw(e,t,n,r,i,a,o,u)}function Sw(e){return new xw(e)}function Iw(e){return!Lk(e.limit)&&"F"===e.limitType}function Ew(e){return!Lk(e.limit)&&"L"===e.limitType}function Tw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cw(e){var t,n=qo(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Aw(e){return null!==e.collectionGroup}function Nw(e){var t=Zg(e);if(null===t.S){t.S=[];var n=Cw(t),r=Tw(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new gw(n)),t.S.push(new gw(Ik.keyField(),"asc"));else{var i,a=!1,o=qo(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new gw(Ik.keyField(),s))}}}return t.S}function Rw(e){var t=Zg(e);if(!t.D)if("F"===t.limitType)t.D=rw(t.path,t.collectionGroup,Nw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=qo(Nw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mw(t.endAt.position,!t.endAt.before):null,s=t.startAt?new mw(t.startAt.position,!t.startAt.before):null;t.D=rw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function Ow(e,t,n){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pw(e,t){return aw(Rw(e),Rw(t))&&e.limitType===t.limitType}function Dw(e){return"".concat(iw(Rw(e)),"|lt:").concat(e.limitType)}function Lw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wk(t.value));var t})).join(", "),"]")),Lk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+yw(e.startAt)),e.endAt&&(t+=", endAt: "+yw(e.endAt)),"Target(".concat(t,")")}(Rw(e)),"; limitType=").concat(e.limitType,")")}function Mw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=qo(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=qo(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ww(e.startAt,Nw(e),t))&&(!e.endAt||!ww(e.endAt,Nw(e),t))}(e,t)}function jw(e){return function(t,n){var r,i=!1,a=qo(Nw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Fw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Fw(e,t,n){var r=e.field.isKeyField()?Fk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bk(r,i):Jg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jg()}}function Uw(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mk(t)?"-0":t}}function Vw(e){return{integerValue:""+e}}function zw(e,t){return jk(t)?Vw(t):Uw(e,t)}var Bw=Qo((function e(){Ko(this,e),this._=void 0}));function qw(e,t,n){return e instanceof Kw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gw?Qw(e,t):e instanceof $w?Yw(e,t):function(e,t){var n=Hw(e,t),r=Xw(n)+Xw(e.N);return Gk(n)&&Gk(e.N)?Vw(r):Uw(e.k,r)}(e,t)}function Ww(e,t,n){return e instanceof Gw?Qw(e,t):e instanceof $w?Yw(e,t):n}function Hw(e,t){return e instanceof Jw?Gk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Kw=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n)}(Bw),Gw=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).elements=e,r}return Qo(n)}(Bw);function Qw(e,t){var n,r=Zw(t),i=qo(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $w=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).elements=e,r}return Qo(n)}(Bw);function Yw(e,t){var n,r=Zw(t),i=qo(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jw=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).k=e,i.N=r,i}return Qo(n)}(Bw);function Xw(e){return Nk(e.integerValue||e.doubleValue)}function Zw(e){return Qk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eb=Qo((function e(t,n){Ko(this,e),this.field=t,this.transform=n}));var tb=Qo((function e(t,n){Ko(this,e),this.version=t,this.transformResults=n})),nb=function(){function e(t,n){Ko(this,e),this.updateTime=t,this.exists=n}return Qo(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ib=Qo((function e(){Ko(this,e)}));function ab(e,t,n){e instanceof lb?function(e,t,n){var r=e.value.clone(),i=db(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fb?function(e,t,n){if(rb(e.precondition,t)){var r=db(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ob(e,t,n){e instanceof lb?function(e,t,n){if(rb(e.precondition,t)){var r=e.value.clone(),i=pb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(cb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof fb?function(e,t,n){if(rb(e.precondition,t)){var r=pb(e.fieldTransforms,n,t),i=t.data;i.setAll(hb(e)),i.setAll(r),t.convertToFoundDocument(cb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){rb(e.precondition,t)&&t.convertToNoDocument(gk.min())}(e,t)}function ub(e,t){var n,r=null,i=qo(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Hw(a.transform,o||null);null!=u&&(null==r&&(r=Zk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function sb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gw&&t instanceof Gw||e instanceof $w&&t instanceof $w?vk(e.elements,t.elements,Vk):e instanceof Jw&&t instanceof Jw?Vk(e.N,t.N):e instanceof Kw&&t instanceof Kw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cb(e){return e.isFoundDocument()?e.version:gk.min()}var lb=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ko(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Qo(n)}(ib),fb=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ko(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Qo(n)}(ib);function hb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function db(e,t,n){var r=new Map;Xg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ww(o,u,n[i]))}return r}function pb(e,t,n){var r,i=new Map,a=qo(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vb,mb,yb=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Qo(n)}(ib),gb=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Qo(n)}(ib),kb=Qo((function e(t){Ko(this,e),this.count=t}));function wb(e){switch(e){default:return Jg();case ek.CANCELLED:case ek.UNKNOWN:case ek.DEADLINE_EXCEEDED:case ek.RESOURCE_EXHAUSTED:case ek.INTERNAL:case ek.UNAVAILABLE:case ek.UNAUTHENTICATED:return!1;case ek.INVALID_ARGUMENT:case ek.NOT_FOUND:case ek.ALREADY_EXISTS:case ek.PERMISSION_DENIED:case ek.FAILED_PRECONDITION:case ek.ABORTED:case ek.OUT_OF_RANGE:case ek.UNIMPLEMENTED:case ek.DATA_LOSS:return!0}}function bb(e){if(void 0===e)return Qg("GRPC error has no .code"),ek.UNKNOWN;switch(e){case vb.OK:return ek.OK;case vb.CANCELLED:return ek.CANCELLED;case vb.UNKNOWN:return ek.UNKNOWN;case vb.DEADLINE_EXCEEDED:return ek.DEADLINE_EXCEEDED;case vb.RESOURCE_EXHAUSTED:return ek.RESOURCE_EXHAUSTED;case vb.INTERNAL:return ek.INTERNAL;case vb.UNAVAILABLE:return ek.UNAVAILABLE;case vb.UNAUTHENTICATED:return ek.UNAUTHENTICATED;case vb.INVALID_ARGUMENT:return ek.INVALID_ARGUMENT;case vb.NOT_FOUND:return ek.NOT_FOUND;case vb.ALREADY_EXISTS:return ek.ALREADY_EXISTS;case vb.PERMISSION_DENIED:return ek.PERMISSION_DENIED;case vb.FAILED_PRECONDITION:return ek.FAILED_PRECONDITION;case vb.ABORTED:return ek.ABORTED;case vb.OUT_OF_RANGE:return ek.OUT_OF_RANGE;case vb.UNIMPLEMENTED:return ek.UNIMPLEMENTED;case vb.DATA_LOSS:return ek.DATA_LOSS;default:return Jg()}}(mb=vb||(vb={}))[mb.OK=0]="OK",mb[mb.CANCELLED=1]="CANCELLED",mb[mb.UNKNOWN=2]="UNKNOWN",mb[mb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mb[mb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mb[mb.NOT_FOUND=5]="NOT_FOUND",mb[mb.ALREADY_EXISTS=6]="ALREADY_EXISTS",mb[mb.PERMISSION_DENIED=7]="PERMISSION_DENIED",mb[mb.UNAUTHENTICATED=16]="UNAUTHENTICATED",mb[mb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mb[mb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mb[mb.ABORTED=10]="ABORTED",mb[mb.OUT_OF_RANGE=11]="OUT_OF_RANGE",mb[mb.UNIMPLEMENTED=12]="UNIMPLEMENTED",mb[mb.INTERNAL=13]="INTERNAL",mb[mb.UNAVAILABLE=14]="UNAVAILABLE",mb[mb.DATA_LOSS=15]="DATA_LOSS";var xb=function(){function e(t,n){Ko(this,e),this.comparator=t,this.root=n||Sb.EMPTY}return Qo(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _b(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _b(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!0)}}]),e}(),_b=function(){function e(t,n,r,i){Ko(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Qo(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sb=function(){function e(t,n,r,i,a){Ko(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Qo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Jg();if(this.right.isRed())throw Jg();var e=this.left.check();if(e!==this.right.check())throw Jg();return e+(this.isRed()?0:1)}}]),e}();Sb.EMPTY=null,Sb.RED=!0,Sb.BLACK=!1,Sb.EMPTY=new(function(){function e(){Ko(this,e),this.size=0}return Qo(e,[{key:"key",get:function(){throw Jg()}},{key:"value",get:function(){throw Jg()}},{key:"color",get:function(){throw Jg()}},{key:"left",get:function(){throw Jg()}},{key:"right",get:function(){throw Jg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ib=function(){function e(t){Ko(this,e),this.comparator=t,this.data=new xb(this.comparator)}return Qo(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Eb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Eb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Eb=function(){function e(t){Ko(this,e),this.iter=t}return Qo(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Tb=new xb(Fk.comparator);function Cb(){return Tb}var Ab=new xb(Fk.comparator);function Nb(){return Ab}var Rb=new xb(Fk.comparator);function Ob(){return Rb}var Pb=new Ib(Fk.comparator);function Db(){for(var e=Pb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Lb=new Ib(pk);function Mb(){return Lb}var jb=function(){function e(t,n,r,i,a){Ko(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Qo(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gk.min(),r,Mb(),Cb(),Db())}}]),e}(),Fb=function(){function e(t,n,r,i,a){Ko(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Qo(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Tk.EMPTY_BYTE_STRING,n,Db(),Db(),Db())}}]),e}(),Ub=Qo((function e(t,n,r,i){Ko(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Vb=Qo((function e(t,n){Ko(this,e),this.targetId=t,this.M=n})),zb=Qo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ko(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bb=function(){function e(){Ko(this,e),this.F=0,this.L=Hb(),this.B=Tk.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Qo(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Db(),t=Db(),n=Db();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jg()}})),new Fb(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Hb()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),qb=function(){function e(t){Ko(this,e),this.et=t,this.nt=new Map,this.st=Cb(),this.it=Wb(),this.rt=new Ib(pk)}return Qo(e,[{key:"ot",value:function(e){var t,n=qo(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=qo(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Jg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(ow(i))if(0===n){var a=new Fk(i.path);this.at(t,a,tw.newNoDocument(a,gk.min()))}else Xg(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ow(a.target)){var o=new Fk(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,tw.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Db();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new jb(e,n,this.rt,this.st,r);return this.st=Cb(),this.it=Wb(),this.rt=new Ib(pk),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Bb,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Ib(pk),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Gg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Bb),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wb(){return new xb(Fk.comparator)}function Hb(){return new xb(Fk.comparator)}var Kb={asc:"ASCENDING",desc:"DESCENDING"},Gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qb=Qo((function e(t,n){Ko(this,e),this.databaseId=t,this.C=n}));function $b(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yb(e,t){return e.C?t.toBase64():t.toUint8Array()}function Jb(e,t){return $b(e,t.toTimestamp())}function Xb(e){return Xg(!!e),gk.fromTimestamp(function(e){var t=Ak(e);return new yk(t.seconds,t.nanos)}(e))}function Zb(e,t){return function(e){return new _k(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ex(e){var t=_k.fromString(e);return Xg(Ix(t)),t}function tx(e,t){return Zb(e.databaseId,t.path)}function nx(e,t){var n=ex(t);if(n.get(1)!==e.databaseId.projectId)throw new tk(ek.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tk(ek.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fk(ox(n))}function rx(e,t){return Zb(e.databaseId,t)}function ix(e){var t=ex(e);return 4===t.length?_k.emptyPath():ox(t)}function ax(e){return new _k(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ox(e){return Xg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ux(e,t,n){return{name:tx(e,t),fields:n.value.mapValue.fields}}function sx(e,t,n){var r=nx(e,t.name),i=Xb(t.updateTime),a=new Zk({mapValue:{fields:t.fields}}),o=tw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cx(e,t){return"found"in t?function(e,t){Xg(!!t.found),t.found.name,t.found.updateTime;var n=nx(e,t.found.name),r=Xb(t.found.updateTime),i=new Zk({mapValue:{fields:t.found.fields}});return tw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Xg(!!t.missing),Xg(!!t.readTime);var n=nx(e,t.missing),r=Xb(t.readTime);return tw.newNoDocument(n,r)}(e,t):Jg()}function lx(e,t){var n;if(t instanceof lb)n={update:ux(e,t.key,t.value)};else if(t instanceof yb)n={delete:tx(e,t.key)};else if(t instanceof fb)n={update:ux(e,t.key,t.data),updateMask:Sx(t.fieldMask)};else{if(!(t instanceof gb))return Jg();n={verify:tx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $w)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Jg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jg()}(e,t.precondition)),n}function fx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nb.updateTime(Xb(e.updateTime)):void 0!==e.exists?nb.exists(e.exists):nb.none()}(t.currentDocument):nb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Xg("REQUEST_TIME"===t.setToServerValue),n=new Kw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $w(i)}else"increment"in t?n=new Jw(e,t.increment):Jg();var a=Ik.fromServerFormat(t.fieldPath);return new eb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nx(e,t.update.name),a=new Zk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ek(t.map((function(e){return Ik.fromServerFormat(e)})))}(t.updateMask);return new fb(i,a,o,n,r)}return new lb(i,a,n,r)}if(t.delete){var u=nx(e,t.delete);return new yb(u,n)}if(t.verify){var s=nx(e,t.verify);return new gb(s,n)}return Jg()}function hx(e,t){return{documents:[rx(e,t.path)]}}function dx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yk(e.value))return{unaryFilter:{field:wx(e.field),op:"IS_NAN"}};if($k(e.value))return{unaryFilter:{field:wx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yk(e.value))return{unaryFilter:{field:wx(e.field),op:"IS_NOT_NAN"}};if($k(e.value))return{unaryFilter:{field:wx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wx(e.field),op:kx(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wx(e.field),direction:gx(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Lk(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=mx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=mx(t.endAt)),n}function px(e){var t=ix(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=vx(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new gw(bx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Lk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=yx(n.startAt));var l=null;return n.endAt&&(l=yx(n.endAt)),_w(t,i,u,o,s,"F",c,l)}function vx(e){return e?void 0!==e.unaryFilter?[_x(e)]:void 0!==e.fieldFilter?[xx(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return vx(e)})).reduce((function(e,t){return e.concat(t)})):Jg():[]}function mx(e){return{before:e.before,values:e.position}}function yx(e){var t=!!e.before,n=e.values||[];return new mw(n,t)}function gx(e){return Kb[e]}function kx(e){return Gb[e]}function wx(e){return{fieldPath:e.canonicalString()}}function bx(e){return Ik.fromServerFormat(e.fieldPath)}function xx(e){return uw.create(bx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jg()}}(e.fieldFilter.op),e.fieldFilter.value)}function _x(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bx(e.unaryFilter.field);return uw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bx(e.unaryFilter.field);return uw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bx(e.unaryFilter.field);return uw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bx(e.unaryFilter.field);return uw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jg()}}function Sx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ix(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ex(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Cx(t)),t=Tx(e.get(n),t);return Cx(t)}function Tx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Cx(e){return e+"\x01\x01"}function Ax(e){var t=e.length;if(Xg(t>=2),2===t)return Xg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_k.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Jg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Jg()}a=o+2}return new _k(r)}var Nx=Qo((function e(t,n){Ko(this,e),this.seconds=t,this.nanoseconds=n})),Rx=Qo((function e(t,n,r){Ko(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Rx.store="owner",Rx.key="owner";var Ox=Qo((function e(t,n,r){Ko(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Ox.store="mutationQueues",Ox.keyPath="userId";var Px=Qo((function e(t,n,r,i,a){Ko(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Px.store="mutations",Px.keyPath="batchId",Px.userMutationsIndex="userMutationsIndex",Px.userMutationsKeyPath=["userId","batchId"];var Dx=function(){function e(){Ko(this,e)}return Qo(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Ex(t)]}},{key:"key",value:function(e,t,n){return[e,Ex(t),n]}}]),e}();Dx.store="documentMutations",Dx.PLACEHOLDER=new Dx;var Lx=Qo((function e(t,n){Ko(this,e),this.path=t,this.readTime=n})),Mx=Qo((function e(t,n){Ko(this,e),this.path=t,this.version=n})),jx=Qo((function e(t,n,r,i,a,o){Ko(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));jx.store="remoteDocuments",jx.readTimeIndex="readTimeIndex",jx.readTimeIndexPath="readTime",jx.collectionReadTimeIndex="collectionReadTimeIndex",jx.collectionReadTimeIndexPath=["parentPath","readTime"];var Fx=Qo((function e(t){Ko(this,e),this.byteSize=t}));Fx.store="remoteDocumentGlobal",Fx.key="remoteDocumentGlobalKey";var Ux=Qo((function e(t,n,r,i,a,o,u){Ko(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Ux.store="targets",Ux.keyPath="targetId",Ux.queryTargetsIndexName="queryTargetsIndex",Ux.queryTargetsKeyPath=["canonicalId","targetId"];var Vx=Qo((function e(t,n,r){Ko(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Vx.store="targetDocuments",Vx.keyPath=["targetId","path"],Vx.documentTargetsIndex="documentTargetsIndex",Vx.documentTargetsKeyPath=["path","targetId"];var zx=Qo((function e(t,n,r,i){Ko(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));zx.key="targetGlobalKey",zx.store="targetGlobal";var Bx=Qo((function e(t,n){Ko(this,e),this.collectionId=t,this.parent=n}));Bx.store="collectionParents",Bx.keyPath=["collectionId","parent"];var qx=Qo((function e(t,n,r,i){Ko(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));qx.store="clientMetadata",qx.keyPath="clientId";var Wx=Qo((function e(t,n,r){Ko(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Wx.store="bundles",Wx.keyPath="bundleId";var Hx=Qo((function e(t,n,r){Ko(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Hx.store="namedQueries",Hx.keyPath="name";var Kx=[Ox.store,Px.store,Dx.store,jx.store,Ux.store,Rx.store,zx.store,Vx.store].concat([qx.store]).concat([Fx.store]).concat([Bx.store]).concat([Wx.store,Hx.store]),Gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qx=function(){function e(){Ko(this,e),this.onCommittedListeners=[]}return Qo(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$x=function(){function e(t){var n=this;Ko(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Qo(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Jg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=qo(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Yx=function(){function e(t,n){var r=this;Ko(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new nk,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Zx(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=i_(e.target.error);r.It.reject(new Zx(t,n))}}return Qo(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Gg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new t_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zx(n,t)}}}]),e}(),Jx=function(){function e(t,n,r){Ko(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(cu())&&Qg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Qo(e,[{key:"Ct",value:function(){var e=Ho(Xo().mark((function e(t){var n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Zx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tk(ek.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new tk(ek.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Zx(t,n))},i.onupgradeneeded=function(e){Gg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Gg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Xo().mark((function e(){var n,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Yx.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),$x.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Gg("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gg("SimpleDb","Removing database:",e),n_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!vu())return!1;if(e.vt())return!0;var t=cu(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xx=function(){function e(t){Ko(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Qo(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return n_(this.$t.delete())}}]),e}(),Zx=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,ek.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Qo(n)}(tk);function e_(e){return"IndexedDbTransactionError"===e.name}var t_=function(){function e(t){Ko(this,e),this.store=t}return Qo(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),n_(n)}},{key:"add",value:function(e){return Gg("SimpleDb","ADD",this.store.name,e,e),n_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return n_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gg("SimpleDb","DELETE",this.store.name,e),n_(this.store.delete(e))}},{key:"count",value:function(){return Gg("SimpleDb","COUNT",this.store.name),n_(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Gg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new $x((function(n,r){t.onerror=function(e){var t=i_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new $x((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xx(i),o=t(i.primaryKey,i.value,a);if(o instanceof $x){var u=o.catch((function(e){return a.done(),$x.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return $x.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function n_(e){return new $x((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=i_(e.target.error);n(t)}}))}var r_=!1;function i_(e){var t=Jx.bt(cu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new tk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return r_||(r_=!0,setTimeout((function(){throw r}),0)),r}}return e}var a_=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Qo(n)}(Qx);function o_(e,t){var n=Zg(e);return Jx.Dt(n.Wt,t)}var u_=function(){function e(t,n,r,i){Ko(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Qo(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ab(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=qo(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ob(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=qo(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ob(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gk.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Db())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vk(this.mutations,e.mutations,(function(e,t){return sb(e,t)}))&&vk(this.baseMutations,e.baseMutations,(function(e,t){return sb(e,t)}))}}]),e}(),s_=function(){function e(t,n,r,i){Ko(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Qo(e,null,[{key:"from",value:function(t,n,r){Xg(t.mutations.length===r.length);for(var i=Ob(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),c_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tk.EMPTY_BYTE_STRING;Ko(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Qo(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),l_=Qo((function e(t){Ko(this,e),this.Gt=t}));function f_(e,t){if(t.document)return sx(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Fk.fromSegments(t.noDocument.path),r=m_(t.noDocument.readTime),i=tw.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Fk.fromSegments(t.unknownDocument.path),o=m_(t.unknownDocument.version);return tw.newUnknownDocument(a,o)}return Jg()}function h_(e,t,n){var r=d_(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:tx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:$b(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new jx(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=v_(t.version),c=t.hasCommittedMutations;return new jx(null,new Lx(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=v_(t.version);return new jx(new Mx(l,f),null,null,!0,r,i)}return Jg()}function d_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function p_(e){var t=new yk(e[0],e[1]);return gk.fromTimestamp(t)}function v_(e){var t=e.toTimestamp();return new Nx(t.seconds,t.nanoseconds)}function m_(e){var t=new yk(e.seconds,e.nanoseconds);return gk.fromTimestamp(t)}function y_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fx(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fx(e.Gt,t)})),u=yk.fromMillis(t.localWriteTimeMs);return new u_(t.batchId,u,n,o)}function g_(e){var t,n,r=m_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?m_(e.lastLimboFreeSnapshotVersion):gk.min();return void 0!==e.query.documents?(Xg(1===(n=e.query).documents.length),t=Rw(Sw(ix(n.documents[0])))):t=function(e){return Rw(px(e))}(e.query),new c_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tk.fromBase64String(e.resumeToken))}function k_(e,t){var n,r=v_(t.snapshotVersion),i=v_(t.lastLimboFreeSnapshotVersion);n=ow(t.target)?hx(e.Gt,t.target):dx(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Ux(t.targetId,iw(t.target),r,a,t.sequenceNumber,i,n)}function w_(e){var t=px({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ow(t,t.limit,"L"):t}var b_=function(){function e(){Ko(this,e)}return Qo(e,[{key:"getBundleMetadata",value:function(e,t){return x_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:m_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return x_(e).put({bundleId:(n=t).id,createTime:v_(Xb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return __(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:w_(t.bundledQuery),readTime:m_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return __(e).put(function(e){return{name:e.name,readTime:v_(Xb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function x_(e){return o_(e,Wx.store)}function __(e){return o_(e,Hx.store)}var S_=function(){function e(){Ko(this,e),this.zt=new I_}return Qo(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),$x.resolve()}},{key:"getCollectionParents",value:function(e,t){return $x.resolve(this.zt.getEntries(t))}}]),e}(),I_=function(){function e(){Ko(this,e),this.index={}}return Qo(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ib(_k.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ib(_k.comparator)).toArray()}}]),e}(),E_=function(){function e(){Ko(this,e),this.Ht=new I_}return Qo(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Ex(i)};return T_(e).put(a)}return $x.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mk(t),""],!1,!0);return T_(e).Bt(r).next((function(e){var r,i=qo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ax(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function T_(e){return o_(e,Bx.store)}var C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A_=function(){function e(t,n,r){Ko(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Qo(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function N_(e,t,n){var r=e.store(Px.store),i=e.store(Dx.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Xg(1===u)})));var c,l=[],f=qo(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Dx.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $x.waitFor(a).next((function(){return l}))}function R_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jg();t=e.noDocument}return JSON.stringify(t).length}A_.DEFAULT_COLLECTION_PERCENTILE=10,A_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,A_.DEFAULT=new A_(41943040,A_.DEFAULT_COLLECTION_PERCENTILE,A_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),A_.DISABLED=new A_(-1,0,0);var O_=function(){function e(t,n,r,i){Ko(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Qo(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return D_(e).jt({index:Px.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=L_(e),o=D_(e);return o.add({}).next((function(u){Xg("number"==typeof u);var s,c=new u_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lx(e.Gt,t)})),i=n.mutations.map((function(t){return lx(e.Gt,t)}));return new Px(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Ib((function(e,t){return pk(e.canonicalString(),t.canonicalString())})),d=qo(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Dx.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Dx.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),$x.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return D_(e).get(t).next((function(e){return e?(Xg(e.userId===n.userId),y_(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?$x.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return D_(e).jt({index:Px.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Xg(t.batchId>=r),a=y_(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return D_(e).jt({index:Px.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return D_(e).Bt(Px.userMutationsIndex,n).next((function(e){return e.map((function(e){return y_(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Dx.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return L_(e).jt({range:i},(function(r,i,o){var u=ur(r,3),s=u[0],c=u[1],l=u[2],f=Ax(c);if(s===n.userId&&t.path.isEqual(f))return D_(e).get(l).next((function(e){if(!e)throw Jg();Xg(e.userId===n.userId),a.push(y_(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ib(pk),i=[];return t.forEach((function(t){var a=Dx.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=L_(e).jt({range:o},(function(e,i,a){var o=ur(e,3),u=o[0],s=o[1],c=o[2],l=Ax(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),$x.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Dx.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ib(pk);return L_(e).jt({range:o},(function(e,t,a){var o=ur(e,3),s=o[0],c=o[1],l=o[2],f=Ax(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(D_(e).get(t).next((function(e){if(null===e)throw Jg();Xg(e.userId===n.userId),r.push(y_(n.k,e))})))})),$x.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return N_(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),$x.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $x.resolve();var r=IDBKeyRange.lowerBound(Dx.prefixForUser(t.userId)),i=[];return L_(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ax(e[1]);i.push(a)}else r.done()})).next((function(){Xg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return P_(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return M_(e).get(this.userId).next((function(e){return e||new Ox(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Xg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function P_(e,t,n){var r=Dx.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return L_(e).jt({range:a,Kt:!0},(function(e,n,r){var a=ur(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function D_(e){return o_(e,Px.store)}function L_(e){return o_(e,Dx.store)}function M_(e){return o_(e,Ox.store)}var j_=function(){function e(t){Ko(this,e),this.se=t}return Qo(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),F_=function(){function e(t,n){Ko(this,e),this.referenceDelegate=t,this.k=n}return Qo(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new j_(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return gk.fromTimestamp(new yk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return U_(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Xg(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return U_(e).jt((function(o,u){var s=g_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return $x.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return U_(e).jt((function(e,n){var r=g_(n);t(r)}))}},{key:"oe",value:function(e){return V_(e).get(zx.key).next((function(e){return Xg(null!==e),e}))}},{key:"ce",value:function(e,t){return V_(e).put(zx.key,t)}},{key:"ae",value:function(e,t){return U_(e).put(k_(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=iw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return U_(e).jt({range:r,index:Ux.queryTargetsIndexName},(function(e,n,r){var a=g_(n);aw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=z_(e);return t.forEach((function(t){var o=Ex(t.path);i.push(a.put(new Vx(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),$x.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=z_(e);return $x.forEach(t,(function(t){var a=Ex(t.path);return $x.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=z_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=z_(e),i=Db();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Ax(e[1]),a=new Fk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ex(t.path),r=IDBKeyRange.bound([n],[mk(n)],!1,!0),i=0;return z_(e).jt({index:Vx.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=ur(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return U_(e).get(t).next((function(e){return e?g_(e):null}))}}]),e}();function U_(e){return o_(e,Ux.store)}function V_(e){return o_(e,zx.store)}function z_(e){return o_(e,Vx.store)}function B_(e){return q_.apply(this,arguments)}function q_(){return q_=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ek.FAILED_PRECONDITION&&t.message===Gx){e.next=2;break}throw t;case 2:Gg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function W_(e,t){var n=ur(e,2),r=n[0],i=n[1],a=ur(t,2),o=a[0],u=a[1],s=pk(r,o);return 0===s?pk(i,u):s}var H_=function(){function e(t){Ko(this,e),this.he=t,this.buffer=new Ib(W_),this.le=0}return Qo(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();W_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),K_=function(){function e(t,n){Ko(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Qo(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Gg("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!e_(n.t0)){n.next=12;break}Gg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,B_(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),G_=function(){function e(t,n){Ko(this,e),this.ge=t,this.params=n}return Qo(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $x.resolve(fk.I);var r=new H_(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gg("LruGarbageCollector","Garbage collection skipped; disabled"),$x.resolve(C_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),C_):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Kg()<=Du.DEBUG&&Gg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$x.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Q_=function(){function e(t,n){Ko(this,e),this.db=t,this.garbageCollector=function(e,t){return new G_(e,t)}(this,n)}return Qo(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $_(e,n)}},{key:"removeReference",value:function(e,t,n){return $_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $_(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return M_(e).Qt((function(r){return P_(e,r,t).next((function(e){return e&&(n=!0),$x.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),z_(e).delete([0,Ex(o.path)])}))}));i.push(s)}})).next((function(){return $x.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $_(e,t)}},{key:"Ie",value:function(e,t){var n,r=z_(e),i=fk.I;return r.jt({index:Vx.documentTargetsIndex},(function(e,r){var a=ur(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==fk.I&&t(new Fk(Ax(n)),i),i=s,n=u):i=fk.I})).next((function(){i!==fk.I&&t(new Fk(Ax(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $_(e,t){return z_(e).put(function(e,t){return new Vx(0,Ex(e.path),t)}(t,e.currentSequenceNumber))}var Y_=function(){function e(t,n){Ko(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Qo(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=qo(n);try{for(i.s();!(r=i.n()).done;){var a=ur(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){wk(this.inner,(function(t,n){var r,i=qo(n);try{for(i.s();!(r=i.n()).done;){var a=ur(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bk(this.inner)}}]),e}(),J_=function(){function e(){Ko(this,e),this.changes=new Y_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Qo(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:gk.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:tw.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$x.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),X_=function(){function e(t,n){Ko(this,e),this.k=t,this.Jt=n}return Qo(e,[{key:"addEntry",value:function(e,t,n){return tS(e).put(nS(t),n)}},{key:"removeEntry",value:function(e,t){var n=tS(e),r=nS(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return tS(e).get(nS(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return tS(e).get(nS(t)).next((function(e){return{document:n.be(t,e),size:R_(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cb();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Cb(),i=new xb(Fk.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,R_(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return $x.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return tS(e).jt({range:r},(function(e,t,r){for(var o=Fk.fromSegments(e);a&&Fk.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Cb(),a=t.path.length+1,o={};if(n.isEqual(gk.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=d_(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=jx.collectionReadTimeIndex}return tS(e).jt(o,(function(e,n,o){if(e.length===a){var u=f_(r.k,n);t.path.isPrefixOf(u.key.path)?Mw(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Z_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return eS(e).get(Fx.key).next((function(e){return Xg(!!e),e}))}},{key:"Re",value:function(e,t){return eS(e).put(Fx.key,t)}},{key:"be",value:function(e,t){if(t){var n=f_(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(gk.min()))return n}return tw.newInvalidDocument(e)}}]),e}(),Z_=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Y_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Qo(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ib((function(e,t){return pk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=h_(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=R_(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=h_(t.De.k,tw.newNoDocument(a,gk.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),$x.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(J_);function eS(e){return o_(e,Fx.store)}function tS(e){return o_(e,jx.store)}function nS(e){return e.path.toArray()}var rS=function(){function e(t){Ko(this,e),this.k=t}return Qo(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Xg(n<r&&n>=0&&r<=11);var a=new Yx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Rx.store)}(e),function(e){e.createObjectStore(Ox.store,{keyPath:Ox.keyPath}),e.createObjectStore(Px.store,{keyPath:Px.keyPath,autoIncrement:!0}).createIndex(Px.userMutationsIndex,Px.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Dx.store)}(e),iS(e),function(e){e.createObjectStore(jx.store)}(e));var o=$x.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Vx.store),e.deleteObjectStore(Ux.store),e.deleteObjectStore(zx.store)}(e),iS(e)),o=o.next((function(){return function(e){var t=e.store(zx.store),n=new zx(0,0,gk.min().toTimestamp(),0);return t.put(zx.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Px.store).Bt().next((function(n){e.deleteObjectStore(Px.store),e.createObjectStore(Px.store,{keyPath:Px.keyPath,autoIncrement:!0}).createIndex(Px.userMutationsIndex,Px.userMutationsKeyPath,{unique:!0});var r=t.store(Px.store),i=n.map((function(e){return r.put(e)}));return $x.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(qx.store,{keyPath:qx.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Fx.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(jx.store);t.createIndex(jx.readTimeIndex,jx.readTimeIndexPath,{unique:!1}),t.createIndex(jx.collectionReadTimeIndex,jx.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Wx.store,{keyPath:Wx.keyPath})}(e),function(e){e.createObjectStore(Hx.store,{keyPath:Hx.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(jx.store).jt((function(e,n){t+=R_(n)})).next((function(){var n=new Fx(t);return e.store(Fx.store).put(Fx.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Ox.store),r=e.store(Px.store);return n.Bt().next((function(n){return $x.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Px.userMutationsIndex,i).next((function(r){return $x.forEach(r,(function(r){Xg(r.userId===n.userId);var i=y_(t.k,r);return N_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Vx.store),n=e.store(jx.store);return e.store(zx.store).get(zx.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new _k(n),o=function(e){return[0,Ex(e)]}(a);r.push(t.get(o).next((function(n){return n?$x.resolve():function(n){return t.put(new Vx(0,Ex(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return $x.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Bx.store,{keyPath:Bx.keyPath});var n=t.store(Bx.store),r=new I_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ex(i)})}};return t.store(jx.store).jt({Kt:!0},(function(e,t){var n=new _k(e);return i(n.popLast())})).next((function(){return t.store(Dx.store).jt({Kt:!0},(function(e,t){var n=ur(e,3),r=(n[0],n[1]),a=(n[2],Ax(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Ux.store);return n.jt((function(e,r){var i=g_(r),a=k_(t.k,i);return n.put(a)}))}}]),e}();function iS(e){e.createObjectStore(Vx.store,{keyPath:Vx.keyPath}).createIndex(Vx.documentTargetsIndex,Vx.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ux.store,{keyPath:Ux.keyPath}).createIndex(Ux.queryTargetsIndexName,Ux.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zx.store)}var aS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oS=function(){function e(t,n,r,i,a,o,u,s,c,l){if(Ko(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=u,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new tk(ek.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Q_(this,i),this.Ge=n+"main",this.k=new l_(s),this.ze=new Jx(this.Ge,11,new rS(this.k)),this.He=new F_(this.referenceDelegate,this.k),this.Jt=new E_,this.Je=function(e,t){return new X_(e,t)}(this.k,this.Jt),this.Ye=new b_,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Qg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Qo(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tk(ek.FAILED_PRECONDITION,aS);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new fk(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Ho(Xo().mark((function n(r){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Ho(Xo().mark((function t(n){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return sS(t).put(new qx(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(e_(t))return Gg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return uS(e).get(Rx.key).next((function(e){return $x.resolve(t.un(e))}))}},{key:"hn",value:function(e){return sS(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i,a=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=o_(e,qx.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $x.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=qo(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?$x.resolve(!0):uS(e).get(Rx.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new tk(ek.FAILED_PRECONDITION,aS);return!1}}return!(!t.networkEnabled||!t.inForeground)||sS(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ho(Xo().mark((function e(){var t=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Rx.store,qx.store],(function(e){var n=new a_(e,fk.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return sS(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return O_.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Gg("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Kx,(function(a){return i=new a_(a,r.Be?r.Be.next():fk.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Qg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new tk(ek.FAILED_PRECONDITION,Gx);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return uS(e).get(Rx.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new tk(ek.FAILED_PRECONDITION,aS)}))}},{key:"an",value:function(e){var t=new Rx(this.clientId,this.allowTabSynchronization,Date.now());return uS(e).put(Rx.key,t)}},{key:"cn",value:function(e){var t=this,n=uS(e);return n.get(Rx.key).next((function(e){return t.un(e)?(Gg("IndexedDbPersistence","Releasing primary lease."),n.delete(Rx.key)):$x.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Qg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!fu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Gg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(qp){Qg("Failed to set zombie client id.",qp)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(qp){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Jx.Pt()}}]),e}();function uS(e){return o_(e,Rx.store)}function sS(e){return o_(e,qx.store)}function cS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var lS=Qo((function e(t,n){Ko(this,e),this.progress=t,this.In=n})),fS=function(){function e(t,n,r){Ko(this,e),this.Je=t,this.An=n,this.Jt=r}return Qo(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=qo(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=qo(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Fk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Aw(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Fk(t)).next((function(e){var t=Nb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Nb();return this.Jt.getCollectionParents(e,i).next((function(o){return $x.forEach(o,(function(o){var u=function(e,t){return new xw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=qo(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=qo(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=tw.newInvalidDocument(c),r=r.insert(c,l)),ob(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Mw(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Db(),a=qo(t);try{for(a.s();!(r=a.n()).done;){var o,u=qo(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof fb&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),hS=function(){function e(t,n,r,i){Ko(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Qo(e,null,[{key:"$n",value:function(t,n){var r,i=Db(),a=Db(),o=qo(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dS=function(){function e(){Ko(this,e)}return Qo(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(gk.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Iw(t)||Ew(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Kg()<=Du.DEBUG&&Gg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lw(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Ib(jw(e));return t.forEach((function(t,r){Mw(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Kg()<=Du.DEBUG&&Gg("QueryEngine","Using full collection scan to execute query:",Lw(t)),this.Mn.getDocumentsMatchingQuery(e,t,gk.min())}}]),e}(),pS=function(){function e(t,n,r,i){Ko(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new xb(pk),this.Kn=new Y_((function(e){return iw(e)}),aw),this.jn=gk.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new fS(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Qo(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function vS(e,t,n,r){return new pS(e,t,n,r)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new fS(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Db(),s=qo(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=qo(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=qo(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=qo(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t){var n=Zg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$x.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Xg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function kS(e){var t=Zg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function wS(e,t){var n=Zg(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Tk.EMPTY_BYTE_STRING,gk.min()).withLastLimboFreeSnapshotVersion(gk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=Cb();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bS(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(gk.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return $x.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function bS(e,t,n,r,i){var a=Db();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Cb();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gk.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Gg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function xS(e,t){var n=Zg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function _S(e,t){var n=Zg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,$x.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new c_(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function SS(e,t,n){return IS.apply(this,arguments)}function IS(){return IS=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zg(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),e_(e.t1)){e.next=12;break}throw e.t1;case 12:Gg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),IS.apply(this,arguments)}function ES(e,t,n){var r=Zg(e),i=gk.min(),a=Db();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zg(e),i=r.Kn.get(n);return void 0!==i?$x.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Rw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:gk.min(),n?a:Db())})).next((function(e){return{documents:e,zn:a}}))}))}function TS(e,t){var n=Zg(e),r=Zg(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function CS(e){var t=Zg(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Zg(e),i=Cb(),a=d_(n),o=tS(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:jx.readTimeIndex,range:u},(function(e,t){var n=f_(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:p_(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function AS(e){return NS.apply(this,arguments)}function NS(){return NS=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zg(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=tS(e),n=gk.min();return t.jt({index:jx.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=p_(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function RS(e,t,n,r){return OS.apply(this,arguments)}function OS(){return OS=Ho(Xo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Zg(t),o=Db(),u=Cb(),s=Ob(),c=qo(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,_S(a,function(e){return Rw(Sw(_k.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bS(e,d,u,gk.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function PS(e,t){return DS.apply(this,arguments)}function DS(){return DS=Ho(Xo().mark((function e(t,n){var r,i,a,o=arguments;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Db(),e.next=3,_S(t,Rw(w_(n.bundledQuery)));case 3:return i=e.sent,a=Zg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Xb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Tk.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}var LS=function(){function e(t){Ko(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Qo(e,[{key:"getBundleMetadata",value:function(e,t){return $x.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Xb(n.createTime)}),$x.resolve()}},{key:"getNamedQuery",value:function(e,t){return $x.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:w_(e.bundledQuery),readTime:Xb(e.readTime)}}(t)),$x.resolve()}}]),e}(),MS=function(){function e(){Ko(this,e),this.ts=new Ib(jS.es),this.ns=new Ib(jS.ss)}return Qo(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new jS(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new jS(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Fk(new _k([])),r=new jS(n,e),i=new jS(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Fk(new _k([])),n=new jS(t,e),r=new jS(t,e+1),i=Db();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new jS(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),jS=function(){function e(t,n){Ko(this,e),this.key=t,this.fs=n}return Qo(e,null,[{key:"es",value:function(e,t){return Fk.comparator(e.key,t.key)||pk(e.fs,t.fs)}},{key:"ss",value:function(e,t){return pk(e.fs,t.fs)||Fk.comparator(e.key,t.key)}}]),e}(),FS=function(){function e(t,n){Ko(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Ib(jS.es)}return Qo(e,[{key:"checkEmpty",value:function(e){return $x.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new u_(i,t,n,r);this.An.push(a);var o,u=qo(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new jS(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $x.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $x.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return $x.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $x.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return $x.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new jS(t,0),i=new jS(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),$x.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ib(pk);return t.forEach((function(e){var t=new jS(e,0),i=new jS(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),$x.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fk.isDocumentKey(i)||(i=i.child(""));var a=new jS(new Fk(i),0),o=new Ib(pk);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),$x.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Xg(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return $x.forEach(t.mutations,(function(i){var a=new jS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new jS(t,0),r=this.ws.firstAfterOrEqual(n);return $x.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,$x.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),US=function(){function e(t,n){Ko(this,e),this.Jt=t,this.Ts=n,this.docs=new xb(Fk.comparator),this.size=0}return Qo(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $x.resolve(n?n.document.mutableCopy():tw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tw.newInvalidDocument(e))})),$x.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Cb(),i=new Fk(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Mw(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return $x.resolve(r)}},{key:"Es",value:function(e,t){return $x.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new VS(this)}},{key:"getSize",value:function(e){return $x.resolve(this.size)}}]),e}(),VS=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).De=e,r}return Qo(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),$x.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(J_),zS=function(){function e(t){Ko(this,e),this.persistence=t,this.Is=new Y_((function(e){return iw(e)}),aw),this.lastRemoteSnapshotVersion=gk.min(),this.highestTargetId=0,this.As=0,this.Rs=new MS,this.targetCount=0,this.bs=j_.ie()}return Qo(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),$x.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $x.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $x.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),$x.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),$x.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new j_(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,$x.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),$x.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,$x.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$x.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $x.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return $x.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),$x.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$x.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),$x.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return $x.resolve(n)}},{key:"containsKey",value:function(e,t){return $x.resolve(this.Rs.containsKey(t))}}]),e}(),BS=function(){function e(t,n){var r=this;Ko(this,e),this.Ps={},this.Be=new fk(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new zS(this),this.Jt=new S_,this.Je=function(e,t){return new US(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new l_(n),this.Ye=new LS(this.k)}return Qo(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new FS(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Gg("MemoryPersistence","Starting transaction:",e);var i=new qS(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return $x.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qS=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Qo(n)}(Qx),WS=function(){function e(t){Ko(this,e),this.persistence=t,this.Cs=new MS,this.Ns=null}return Qo(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Jg()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),$x.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),$x.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),$x.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $x.forEach(this.xs,(function(r){var i=Fk.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return $x.or([function(){return $x.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function HS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function KS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function GS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var QS=function(){function e(t,n,r,i){Ko(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Qo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new tk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Qg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$S=function(){function e(t,n,r){Ko(this,e),this.targetId=t,this.state=n,this.error=r}return Qo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tk(i.error.code,i.error.message))),a?new e(t,i.state,r):(Qg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),YS=function(){function e(t,n){Ko(this,e),this.clientId=t,this.activeTargetIds=n}return Qo(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Mb(),o=0;i&&o<r.activeTargetIds.length;++o)i=jk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Qg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),JS=function(){function e(t,n){Ko(this,e),this.clientId=t,this.onlineState=n}return Qo(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),XS=function(){function e(){Ko(this,e),this.activeTargetIds=Mb()}return Qo(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ZS=function(){function e(t,n,r,i,a){Ko(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new xb(pk),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=HS(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new XS),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Qo(e,[{key:"start",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=qo(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(HS(this.persistenceKey,i)))&&(o=YS.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=qo(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(GS(this.persistenceKey,e));if(n){var r=$S.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(GS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Qg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Ho(Xo().mark((function e(){var r,i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=fk.I;if(null!=e)try{var n=JSON.parse(e);Xg("number"==typeof n),t=n}catch(e){Qg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==fk.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new QS(this.currentUser,e,t,n),i=KS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=KS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=GS(this.persistenceKey,e),i=new $S(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return YS.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return QS.Os(new qg(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return $S.Os(r,t)}},{key:"Zs",value:function(e){return JS.Os(e)}},{key:"fi",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Gg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Mb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eI=function(){function e(){Ko(this,e),this.pi=new XS,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Qo(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new XS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),tI=function(){function e(){Ko(this,e)}return Qo(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nI=function(){function e(){var t=this;Ko(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Qo(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Gg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=qo(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Gg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=qo(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iI=function(){function e(t){Ko(this,e),this.Vi=t.Vi,this.Si=t.Si}return Qo(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),aI=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Qo(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new zg;o.listenOnce(Mg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Lg.NO_ERROR:var t=o.getResponseJson();Gg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Lg.TIMEOUT:Gg("Connection",'RPC "'+e+'" timed out'),a(new tk(ek.DEADLINE_EXCEEDED,"Request time out"));break;case Lg.HTTP_ERROR:var n=o.getStatus();if(Gg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ek).indexOf(t)>=0?t:ek.UNKNOWN}(r.status);a(new tk(u,r.message))}else a(new tk(ek.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tk(ek.UNAVAILABLE,"Connection failed."));break;default:Jg()}}finally{Gg("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Pg(),a=Dg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ug({})),this.qi(o.initMessageHeaders,t,n),lu()||du()||cu().indexOf("Electron/")>=0||pu()||cu().indexOf("MSAppHost/")>=0||hu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Gg("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new iI({Vi:function(e){l?Gg("Connection","Not sending because WebChannel is closed:",e):(c||(Gg("Connection","Opening WebChannel transport."),s.open(),c=!0),Gg("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Vg.EventType.OPEN,(function(){l||Gg("Connection","WebChannel transport opened.")})),h(s,Vg.EventType.CLOSE,(function(){l||(l=!0,Gg("Connection","WebChannel transport closed"),f.Oi())})),h(s,Vg.EventType.ERROR,(function(e){l||(l=!0,$g("Connection","WebChannel transport errored:",e),f.Oi(new tk(ek.UNAVAILABLE,"The operation could not be completed")))})),h(s,Vg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Xg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Gg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vb[e];if(void 0!==t)return bb(t)}(a),u=i.message;void 0===o&&(o=ek.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new tk(o,u)),s.close()}else Gg("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,jg.STAT_EVENT,(function(e){e.stat===Fg.PROXY?Gg("Connection","Detected buffering proxy"):e.stat===Fg.NOPROXY&&Gg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Ko(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Qo(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Gg("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Gg("RestConnection","Received: ",e),e}),(function(t){throw $g("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=rI[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function oI(){return"undefined"!=typeof window?window:null}function uI(){return"undefined"!=typeof document?document:null}function sI(e){return new Qb(e,!0)}var cI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ko(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Qo(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Gg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),lI=function(){function e(t,n,r,i,a,o,u,s){Ko(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new cI(t,n)}return Qo(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===ek.RESOURCE_EXHAUSTED?(Qg(n.toString()),Qg("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===ek.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=ur(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new tk(ek.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Gg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Gg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fI=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ko(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Qo(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Xg(void 0===t||"string"==typeof t),Tk.fromBase64String(t||"")):(Xg(void 0===t||t instanceof Uint8Array),Tk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ek.UNKNOWN:bb(e.code);return new tk(t,e.message||"")}(o);n=new zb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=nx(e,s.document.name),l=Xb(s.document.updateTime),f=new Zk({mapValue:{fields:s.document.fields}}),h=tw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ub(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=nx(e,v.document),y=v.readTime?Xb(v.readTime):gk.min(),g=tw.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ub([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=nx(e,w.document),x=w.removedTargetIds||[];n=new Ub([],x,b,null)}else{if(!("filter"in t))return Jg();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new kb(S),E=_.targetId;n=new Vb(E,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return gk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gk.min():t.readTime?Xb(t.readTime):gk.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=ax(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=ow(r)?{documents:hx(e,r)}:{query:dx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yb(e,t.resumeToken):t.snapshotVersion.compareTo(gk.min())>0&&(n.readTime=$b(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=ax(this.k),t.removeTarget=e,this.gr(t)}}]),n}(lI),hI=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ko(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Qo(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Mo(Do(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Xg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Xg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Xb(e.updateTime):Xb(t);return n.isEqual(gk.min())&&(n=Xb(t)),new tb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Xb(e.commitTime);return this.listener.Cr(n,t)}return Xg(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=ax(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lx(t.k,e)}))};this.gr(n)}}]),n}(lI),dI=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a){var o;return Ko(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Qo(n,[{key:"Or",value:function(){if(this.$r)throw new tk(ek.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ur(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ek.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tk(ek.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ur(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ek.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tk(ek.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Qo((function e(){Ko(this,e)}))}()),pI=function(){function e(t,n){Ko(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Qo(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Qg(t),this.Lr=!1):Gg("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),vI=Qo((function e(t,n,r,i,a){var o=this;Ko(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=EI(o),!e.t0){e.next=5;break}return Gg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zg(t)).Gr.add(4),e.next=4,gI(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,mI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new pI(r,i)}));function mI(e){return yI.apply(this,arguments)}function yI(){return yI=Ho(Xo().mark((function e(t){var n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!EI(t)){e.next=18;break}n=qo(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yI.apply(this,arguments)}function gI(e){return kI.apply(this,arguments)}function kI(){return kI=Ho(Xo().mark((function e(t){var n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qo(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kI.apply(this,arguments)}function wI(e,t){var n=Zg(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),II(n)?SI(n):ZI(n).lr()&&xI(n,t))}function bI(e,t){var n=Zg(e),r=ZI(n);n.Wr.delete(t),r.lr()&&_I(n,t),0===n.Wr.size&&(r.lr()?r._r():EI(n)&&n.Jr.set("Unknown"))}function xI(e,t){e.Yr.X(t.targetId),ZI(e).Pr(t)}function _I(e,t){e.Yr.X(t),ZI(e).vr(t)}function SI(e){e.Yr=new qb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),ZI(e).start(),e.Jr.Br()}function II(e){return EI(e)&&!ZI(e).hr()&&e.Wr.size>0}function EI(e){return 0===Zg(e).Gr.size}function TI(e){e.Yr=void 0}function CI(e){return AI.apply(this,arguments)}function AI(){return AI=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){xI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t){return RI.apply(this,arguments)}function RI(){return RI=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TI(t),II(t)?(t.Jr.Kr(n),SI(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function OI(e,t,n){return PI.apply(this,arguments)}function PI(){return PI=Ho(Xo().mark((function e(t,n,r){var i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof zb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=qo(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,DI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ub?t.Yr.ot(n):n instanceof Vb?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(gk.min())){e.next=29;break}return e.prev=14,e.next=17,kS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Tk.EMPTY_BYTE_STRING,n.snapshotVersion)),_I(e,t);var r=new c_(n.target,t,1,n.sequenceNumber);xI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,DI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),PI.apply(this,arguments)}function DI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=Ho(Xo().mark((function e(t,n,r){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e_(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,gI(t);case 5:t.Jr.set("Offline"),r||(r=function(){return kS(t.localStore)}),t.asyncQueue.enqueueRetryable(Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,mI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){return t().catch((function(n){return DI(e,n,t)}))}function jI(e){return FI.apply(this,arguments)}function FI(){return FI=Ho(Xo().mark((function e(t){var n,r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Zg(t),r=eE(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!UI(n)){e.next=19;break}return e.prev=3,e.next=6,xS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,VI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,DI(n,e.t0);case 17:e.next=2;break;case 19:zI(n)&&BI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),FI.apply(this,arguments)}function UI(e){return EI(e)&&e.Qr.length<10}function VI(e,t){e.Qr.push(t);var n=eE(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function zI(e){return EI(e)&&!eE(e).hr()&&e.Qr.length>0}function BI(e){eE(e).start()}function qI(e){return WI.apply(this,arguments)}function WI(){return WI=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eE(t).kr();case 1:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function HI(e){return KI.apply(this,arguments)}function KI(){return KI=Ho(Xo().mark((function e(t){var n,r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=eE(t),r=qo(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(e,t,n){return QI.apply(this,arguments)}function QI(){return QI=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=s_.from(i,n,r),e.next=3,MI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,jI(t);case 5:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t){return YI.apply(this,arguments)}function YI(){return YI=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&eE(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wb(i=n.code)||i===ek.ABORTED){e.next=7;break}return r=t.Qr.shift(),eE(t).wr(),e.next=5,MI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,jI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zI(t)&&BI(t);case 5:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function JI(e,t){return XI.apply(this,arguments)}function XI(){return XI=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zg(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,mI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,gI(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function ZI(e){return e.Xr||(e.Xr=function(e,t,n){var r=Zg(e);return r.Or(),new fI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:CI.bind(null,e),Ni:NI.bind(null,e),br:OI.bind(null,e)}),e.zr.push(function(){var t=Ho(Xo().mark((function t(n){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),II(e)?SI(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:TI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function eE(e){return e.Zr||(e.Zr=function(e,t,n){var r=Zg(e);return r.Or(),new hI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:qI.bind(null,e),Ni:$I.bind(null,e),Nr:HI.bind(null,e),Cr:GI.bind(null,e)}),e.zr.push(function(){var t=Ho(Xo().mark((function t(n){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,jI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Gg("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var tE=function(){function e(t,n,r,i,a){Ko(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Qo(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tk(ek.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function nE(e,t){if(Qg("AsyncQueue","".concat(t,": ").concat(e)),e_(e))return new tk(ek.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var rE=function(){function e(t){Ko(this,e),this.comparator=t?function(e,n){return t(e,n)||Fk.comparator(e.key,n.key)}:function(e,t){return Fk.comparator(e.key,t.key)},this.keyedMap=Nb(),this.sortedSet=new xb(this.comparator)}return Qo(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),iE=function(){function e(){Ko(this,e),this.eo=new xb(Fk.comparator)}return Qo(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Jg():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),aE=function(){function e(t,n,r,i,a,o,u,s){Ko(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Qo(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,rE.emptySet(n),a,r,i,!0,!1)}}]),e}(),oE=Qo((function e(){Ko(this,e),this.so=void 0,this.listeners=[]})),uE=Qo((function e(){Ko(this,e),this.queries=new Y_((function(e){return Dw(e)}),Pw),this.onlineState="Unknown",this.io=new Set}));function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=Ho(Xo().mark((function e(t,n){var r,i,a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new oE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=nE(e.t0,"Initialization of query '".concat(Lw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&pE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Ho(Xo().mark((function e(t,n){var r,i,a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t){var n,r=Zg(e),i=!1,a=qo(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=qo(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&pE(r)}function dE(e,t,n){var r=Zg(e),i=r.queries.get(t);if(i){var a,o=qo(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function pE(e){e.io.forEach((function(e){e.next()}))}var vE=function(){function e(t,n,r){Ko(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Qo(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=qo(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new aE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=aE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),mE=function(){function e(t,n){Ko(this,e),this.payload=t,this.byteLength=n}return Qo(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),yE=function(){function e(t){Ko(this,e),this.k=t}return Qo(e,[{key:"Hn",value:function(e){return nx(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?sx(this.k,e.document,!1):tw.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Xb(e)}}]),e}(),gE=function(){function e(t,n,r){Ko(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=kE(t)}return Qo(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new yE(this.k),i=qo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=qo(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Db()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RS(this.localStore,new yE(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=qo(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,PS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new lS(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function kE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var wE=Qo((function e(t){Ko(this,e),this.key=t})),bE=Qo((function e(t){Ko(this,e),this.key=t})),xE=function(){function e(t,n){Ko(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Db(),this.mutatedKeys=Db(),this.Ao=jw(t),this.Ro=new rE(this.Ao)}return Qo(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new iE,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Iw(this.query)&&i.size===this.query.limit?i.last():null,c=Ew(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Iw(this.query)||Ew(this.query))for(;o.size>this.query.limit;){var l=Iw(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jg()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new aE(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new iE,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Db(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new bE(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new wE(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Db();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return aE.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),_E=Qo((function e(t,n,r){Ko(this,e),this.query=t,this.targetId=n,this.view=r})),SE=Qo((function e(t){Ko(this,e),this.key=t,this.$o=!1})),IE=function(){function e(t,n,r,i,a,o){Ko(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Y_((function(e){return Dw(e)}),Pw),this.Fo=new Map,this.Lo=new Set,this.Bo=new xb(Fk.comparator),this.Uo=new Map,this.qo=new MS,this.Ko={},this.jo=new Map,this.Qo=j_.re(),this.onlineState="Unknown",this.Wo=void 0}return Qo(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function EE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kT(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,_S(r.localStore,Rw(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,CE(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&wI(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t,n,r){return AE.apply(this,arguments)}function AE(){return AE=Ho(Xo().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Ho(Xo().mark((function e(t,n,r,i){var a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,ES(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($E(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ES(t.localStore,n,!0);case 3:return a=e.sent,o=new xE(n,a.zn),u=o.Po(a.documents),s=Fb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),$E(t,r,c.Co),l=new _E(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(e,t){return RE.apply(this,arguments)}function RE(){return RE=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zg(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Pw(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,SS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bI(r.remoteStore,i.targetId),GE(r,i.targetId)})).catch(B_);case 9:e.next=14;break;case 11:return GE(r,i.targetId),e.next=14,SS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function OE(e,t,n){return PE.apply(this,arguments)}function PE(){return PE=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wT(t),e.prev=1,e.next=4,function(e,t){var n,r=Zg(e),i=yk.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Db());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=qo(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ub(c,n.get(c.key));null!=l&&u.push(new fb(c.key,l,ew(l.value.mapValue),nb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new xb(pk)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,XE(i,a.changes);case 9:return e.next=11,jI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=nE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),PE.apply(this,arguments)}function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),e.prev=1,e.next=4,wS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Xg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Xg(n.$o):e.removedDocuments.size>0&&(Xg(n.$o),n.$o=!1))})),e.next=8,XE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,B_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),LE.apply(this,arguments)}function ME(e,t,n){var r=Zg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=qo(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&pE(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jE(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s,c;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Zg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new xb(Fk.comparator)).insert(o,tw.newNoDocument(o,gk.min())),s=Db().add(o),c=new jb(gk.min(),new Map,new Ib(pk),u,s),e.next=9,DE(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),JE(i),e.next=16;break;case 14:return e.next=16,SS(i.localStore,n,!1).then((function(){return GE(i,n,r)})).catch(B_);case 16:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),i=n.batch.batchId,e.prev=1,e.next=4,gS(r.localStore,n);case 4:return a=e.sent,KE(r,i,null),HE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,XE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,B_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),VE.apply(this,arguments)}function zE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zg(t),e.prev=1,e.next=4,function(e,t){var n=Zg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Xg(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,KE(i,n,r),HE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,XE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,B_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),BE.apply(this,arguments)}function qE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Ho(Xo().mark((function e(t,n){var r,i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return EI((r=Zg(t)).remoteStore)||Gg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Zg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=nE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),WE.apply(this,arguments)}function HE(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function KE(e,t,n){var r=Zg(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function GE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=qo(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||QE(e,t)}))}function QE(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(bI(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),JE(e))}function $E(e,t,n){var r,i=qo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof wE?(e.qo.addReference(a.key,t),YE(e,a)):a instanceof bE?(Gg("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||QE(e,a.key)):Jg()}}catch(o){i.e(o)}finally{i.f()}}function YE(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Gg("SyncEngine","New document in limbo: "+n),e.Lo.add(r),JE(e))}function JE(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Fk(_k.fromString(t)),r=e.Qo.next();e.Uo.set(r,new SE(n)),e.Bo=e.Bo.insert(n,r),wI(e.remoteStore,new c_(Rw(Sw(n.path)),r,2,fk.I))}}function XE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Ho(Xo().mark((function e(t,n,r){var i,a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zg(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=hS.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $x.forEach(n,(function(t){return $x.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $x.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),e_(e.t0)){e.next=10;break}throw e.t0;case 10:Gg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=qo(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Zg(t)).currentUser.isEqual(n)){e.next=11;break}return Gg("SyncEngine","User change. New user:",n.toKey()),e.next=5,mS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new tk(ek.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,XE(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n=Zg(e),r=n.Uo.get(t);if(r&&r.$o)return Db().add(r.key);var i=Db(),a=n.Fo.get(t);if(!a)return i;var o,u=qo(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Mo.get(s);i=i.unionWith(c.view.bo)}}catch(l){u.e(l)}finally{u.f()}return i}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),e.next=3,ES(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&$E(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e){return oT.apply(this,arguments)}function oT(){return oT=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zg(t),e.abrupt("return",CS(n.localStore).then((function(e){return XE(n,e)})));case 2:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function uT(e,t,n,r){return sT.apply(this,arguments)}function sT(){return sT=Ho(Xo().mark((function e(t,n,r,i){var a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zg(t),e.next=3,function(e,t){var n=Zg(e),r=Zg(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):$x.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,jI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(KE(a,n,i||null),HE(a,n),function(e,t){Zg(Zg(e).An).ee(t)}(a.localStore,n)):Jg();case 11:return e.next=13,XE(a,o);case 13:e.next=16;break;case 15:Gg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kT(r=Zg(t)),wT(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fT(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,JI(r.remoteStore,!0);case 9:o=qo(a);try{for(o.s();!(u=o.n()).done;)s=u.value,wI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return GE(r,t),SS(r.localStore,t,!0)})),bI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,fT(r,c);case 21:return function(e){var t=Zg(e);t.Uo.forEach((function(e,n){bI(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new xb(Fk.comparator)}(r),r.Wo=!1,e.next=25,JI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Zg(t),a=[],o=[],u=qo(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,_S(i.localStore,Rw(f[0]));case 11:l=e.sent,h=qo(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,rT(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TS(i.localStore,c);case 36:return y=e.sent,e.next=39,_S(i.localStore,y);case 39:return l=e.sent,e.next=42,CE(i,dT(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),hT.apply(this,arguments)}function dT(e){return _w(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pT(e){var t=Zg(e);return Zg(Zg(t.localStore).persistence).Tn()}function vT(e,t,n,r){return mT.apply(this,arguments)}function mT(){return mT=Ho(Xo().mark((function e(t,n,r,i){var a,o,u;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zg(t)).Wo){e.next=5;break}Gg("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,CS(a.localStore);case 11:return o=e.sent,u=jb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,XE(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,SS(a.localStore,n,!0);case 18:return GE(a,n,i),e.abrupt("break",21);case 20:Jg();case 21:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e,t,n){return gT.apply(this,arguments)}function gT(){return gT=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=kT(t)).Wo){e.next=45;break}a=qo(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return Gg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,TS(i.localStore,u);case 12:return s=e.sent,e.next=15,_S(i.localStore,s);case 15:return c=e.sent,e.next=18,CE(i,dT(s),c.targetId,!1);case 18:wI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=qo(r),e.prev=30,h=Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,SS(i.localStore,t,!1).then((function(){bI(i.remoteStore,t),GE(i,t)})).catch(B_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),gT.apply(this,arguments)}function kT(e){var t=Zg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jE.bind(null,t),t.Oo.br=hE.bind(null,t.eventManager),t.Oo.zo=dE.bind(null,t.eventManager),t}function wT(e){var t=Zg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zE.bind(null,t),t}function bT(e,t,n){var r=Zg(e);(function(){var e=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Zg(e),r=Xb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(kE(i)),a=new gE(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,XE(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Zg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),$g("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var xT=function(){function e(){Ko(this,e),this.synchronizeTabs=!1}return Qo(e,[{key:"initialize",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=sI(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return vS(this.persistence,new dS,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new BS(WS.ks,this.k)}},{key:"Jo",value:function(e){return new eI}},{key:"terminate",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_T=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Qo(n,[{key:"initialize",value:function(){var e=Ho(Xo().mark((function e(t){var r=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(Do(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,AS(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,wT(this.tc.syncEngine);case 8:return e.next=10,jI(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return vS(this.persistence,new dS,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new K_(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=cS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?A_.withCacheSize(this.cacheSizeBytes):A_.DEFAULT;return new oS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,oI(),uI(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new eI}}]),n}(xT),ST=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Qo(n,[{key:"initialize",value:function(){var e=Ho(Xo().mark((function e(t){var r,i=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(Do(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof ZS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:uT.bind(null,r),gi:vT.bind(null,r),yi:yT.bind(null,r),Tn:pT.bind(null,r),_i:aT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cT(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=oI();if(!ZS.Pt(t))throw new tk(ek.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(_T),IT=function(){function e(){Ko(this,e)}return Qo(e,[{key:"initialize",value:function(){var e=Ho(Xo().mark((function e(t,n){var r=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ME(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eT.bind(null,this.syncEngine),e.next=12,JI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new uE}},{key:"createDatastore",value:function(e){var t,n=sI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new aI(t));return function(e,t,n,r){return new dI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ME(o.syncEngine,e,0)},a=nI.Pt()?new nI:new tI,new vI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new IE(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zg(t),Gg("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,gI(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ET(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ho(Xo().mark((function r(){var i;return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var TT=function(){function e(t){Ko(this,e),this.observer=t,this.muted=!1}return Qo(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),CT=function(){function e(t,n){var r=this;Ko(this,e),this.sc=t,this.k=n,this.metadata=new nk,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Qo(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Ho(Xo().mark((function e(){var t,n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new mE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Ho(Xo().mark((function e(){var t,n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Ho(Xo().mark((function e(){var t,n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AT=function(){function e(t){Ko(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Qo(e,[{key:"lookup",value:function(){var e=Ho(Xo().mark((function e(t){var n,r=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new tk(ek.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),i=ax(r.k)+"/documents",a={documents:n.map((function(e){return tx(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=cx(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Xg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ho(Xo().mark((function e(){var t,n=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Fk.fromPath(t);n.mutations.push(new gb(r,n.precondition(r)))})),e.next=7,function(){var e=Ho(Xo().mark((function e(t,n){var r,i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zg(t),i=ax(r.k)+"/documents",a={writes:n.map((function(e){return lx(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jg();t=gk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tk(ek.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nb.updateTime(t):nb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gk.min()))throw new tk(ek.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nb.updateTime(t)}return nb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),NT=function(){function e(t,n,r,i){Ko(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new cI(this.asyncQueue,"transaction_retry")}return Qo(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Ho(Xo().mark((function t(){var n,r;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new AT(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Lk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wb(t)}return!1}}]),e}(),RT=function(){function e(t,n,r,i){var a=this;Ko(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qg.UNAUTHENTICATED,this.clientId=dk.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Qo(e,[{key:"getConfiguration",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new tk(ek.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ho(Xo().mark((function n(){var r;return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=nE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function OT(e,t){return PT.apply(this,arguments)}function PT(){return PT=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function DT(e,t){return LT.apply(this,arguments)}function LT(){return LT=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,MT(t);case 3:return r=e.sent,Gg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Ho(Xo().mark((function e(t,n){var r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zg(t)).asyncQueue.verifyOperationInProgress(),Gg("RemoteStore","RemoteStore received new credentials"),i=EI(r),r.Gr.add(3),e.next=6,gI(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,mI(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e){return jT.apply(this,arguments)}function jT(){return jT=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Gg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,OT(t,new xT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function FT(e){return UT.apply(this,arguments)}function UT(){return UT=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Gg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,DT(t,new IT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function VT(e){return MT(e).then((function(e){return e.persistence}))}function zT(e){return MT(e).then((function(e){return e.localStore}))}function BT(e){return FT(e).then((function(e){return e.remoteStore}))}function qT(e){return FT(e).then((function(e){return e.syncEngine}))}function WT(e){return HT.apply(this,arguments)}function HT(){return HT=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=EE.bind(null,n.syncEngine),r.onUnlisten=NE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function KT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function i(){return Xo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new TT({next:function(a){t.enqueueAndForget((function(){return lE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new tk(ek.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new tk(ek.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new vE(Sw(n.path),a,{includeMetadataChanges:!0,wo:!0});return sE(e,o)},i.next=3,WT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function GT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function i(){return Xo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new TT({next:function(n){t.enqueueAndForget((function(){return lE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new tk(ek.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new vE(n,a,{includeMetadataChanges:!0,wo:!0});return sE(e,o)},i.next=3,WT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var QT=Qo((function e(t,n,r,i,a,o,u,s){Ko(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),$T=function(){function e(t,n){Ko(this,e),this.projectId=t,this.database=n||"(default)"}return Qo(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),YT=new Map;function JT(e,t,n){if(!n)throw new tk(ek.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function XT(e,t,n,r){if(!0===t&&!0===r)throw new tk(ek.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZT(e){if(!Fk.isDocumentKey(e))throw new tk(ek.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function eC(e){if(Fk.isDocumentKey(e))throw new tk(ek.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Jg()}function nC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tk(ek.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tC(e);throw new tk(ek.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rC(e,t){if(t<=0)throw new tk(ek.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var iC=function(){function e(t){var n;if(Ko(this,e),void 0===t.host){if(void 0!==t.ssl)throw new tk(ek.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tk(ek.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Qo(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),aC=function(){function e(t,n,r){Ko(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1,t instanceof $T?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tk(ek.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $T(e.options.projectId)}(t))}return Qo(e,[{key:"app",get:function(){if(!this._app)throw new tk(ek.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new tk(ek.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ik;switch(e.type){case"gapi":var t=e.client;return Xg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new sk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new tk(ek.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YT.get(e);t&&(Gg("ComponentProvider","Removing Datastore"),YT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function oC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=nC(e,aC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$g("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=qg.MOCK_USER;else{o=su(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new tk(ek.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qg(s)}e._authCredentials=new ak(new rk(o,u))}}var uC=function(){function e(t,n,r){Ko(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Qo(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),sC=function(){function e(t,n,r){Ko(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Qo(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cC=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this,e,r,Sw(i)))._path=i,a.type="collection",a}return Qo(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uC(this.firestore,null,new Fk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(sC);function lC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Au(e),JT("collection","path",t),e instanceof aC){var a=_k.fromString.apply(_k,[t].concat(r));return eC(a),new cC(e,null,a)}if(!(e instanceof uC||e instanceof cC))throw new tk(ek.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_k.fromString.apply(_k,[t].concat(r)));return eC(o),new cC(e.firestore,null,o)}function fC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Au(e),1===arguments.length&&(t=dk.A()),JT("doc","path",t),e instanceof aC){var a=_k.fromString.apply(_k,[t].concat(r));return ZT(a),new uC(e,null,new Fk(a))}if(!(e instanceof uC||e instanceof cC))throw new tk(ek.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_k.fromString.apply(_k,[t].concat(r)));return ZT(o),new uC(e.firestore,e instanceof cC?e.converter:null,new Fk(o))}function hC(e,t){return e=Au(e),t=Au(t),(e instanceof uC||e instanceof cC)&&(t instanceof uC||t instanceof cC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function dC(e,t){return e=Au(e),t=Au(t),e instanceof sC&&t instanceof sC&&e.firestore===t.firestore&&Pw(e._query,t._query)&&e.converter===t.converter}var pC=function(){function e(){var t=this;Ko(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new cI(this,"async_queue_retry"),this.bc=function(){var e=uI();e&&Gg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=uI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Qo(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=uI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new nk;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Ho(Xo().mark((function e(){var t=this;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),e_(e.t0)){e.next=12;break}throw e.t0;case 12:Gg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=tE.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Jg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=qo(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=qo(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function vC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=qo(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var mC=function(){function e(){Ko(this,e),this._progressObserver={},this._taskCompletionResolver=new nk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Qo(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),yC=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new pC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Qo(n,[{key:"_terminate",value:function(){return this._firestoreClient||wC(this),this._firestoreClient.terminate()}}]),n}(aC);function gC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls();return ts(e,"firestore").getImmediate()}function kC(e){return e._firestoreClient||wC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new QT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new RT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function bC(e,t,n){var r=new nk;return e.asyncQueue.enqueue(Ho(Xo().mark((function i(){return Xo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,OT(e,n);case 3:return i.next=5,DT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ek.FAILED_PRECONDITION||e.code===ek.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function xC(e){return function(e){return e.asyncQueue.enqueue(Ho(Xo().mark((function t(){var n,r;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VT(e);case 2:return n=t.sent,t.next=5,BT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Zg(e);return t.Gr.delete(0),mI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(kC(e=nC(e,yC)))}function _C(e){return function(e){return e.asyncQueue.enqueue(Ho(Xo().mark((function t(){var n,r;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VT(e);case 2:return n=t.sent,t.next=5,BT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zg(t)).Gr.add(0),e.next=4,gI(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(kC(e=nC(e,yC)))}function SC(e,t){var n=kC(e=nC(e,yC)),r=new mC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new CT(e,t)}(function(e,t){if(e instanceof Uint8Array)return ET(e,t);if(e instanceof ArrayBuffer)return ET(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,sI(t));e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bT,t.next=3,qT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function IC(e,t){return function(e,t){return e.asyncQueue.enqueue(Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Zg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,zT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(kC(e=nC(e,yC)),t).then((function(t){return t?new sC(e,null,t.query):null}))}function EC(e){if(e._initialized||e._terminated)throw new tk(ek.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var TC=function(){function e(){Ko(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new tk(ek.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ik(n)}return Qo(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var CC=function(){function e(t){Ko(this,e),this._byteString=t}return Qo(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Tk.fromBase64String(t))}catch(t){throw new tk(ek.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Tk.fromUint8Array(t))}}]),e}(),AC=Qo((function e(t){Ko(this,e),this._methodName=t})),NC=function(){function e(t,n){if(Ko(this,e),!isFinite(t)||t<-90||t>90)throw new tk(ek.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tk(ek.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Qo(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pk(this._lat,e._lat)||pk(this._long,e._long)}}]),e}(),RC=/^__.*__$/,OC=function(){function e(t,n,r){Ko(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Qo(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fb(e,this.data,this.fieldMask,t,this.fieldTransforms):new lb(e,this.data,t,this.fieldTransforms)}}]),e}(),PC=function(){function e(t,n,r){Ko(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Qo(e,[{key:"toMutation",value:function(e,t){return new fb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function DC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jg()}}var LC=function(){function e(t,n,r,i,a,o){Ko(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Qo(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return tA(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(DC(this.$c)&&RC.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),MC=function(){function e(t,n,r){Ko(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||sI(t)}return Qo(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LC({$c:e,methodName:t,jc:n,path:Ik.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function jC(e){var t=e._freezeSettings(),n=sI(e._databaseId);return new MC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);JC("Data must be an object, but it was:",o,r);var u,s,c=$C(r,o);if(a.merge)u=new Ek(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=qo(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=XC(t,d,n);if(!o.contains(p))throw new tk(ek.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));nA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ek(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new OC(new Zk(c),u,s)}var UC=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(AC);function VC(e,t,n){return new LC({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var zC=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"_toFieldTransform",value:function(e){return new eb(e.path,new Kw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(AC),BC=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e)).Wc=r,i}return Qo(n,[{key:"_toFieldTransform",value:function(e){var t=VC(this,e,!0),n=this.Wc.map((function(e){return QC(e,t)})),r=new Gw(n);return new eb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AC),qC=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e)).Wc=r,i}return Qo(n,[{key:"_toFieldTransform",value:function(e){var t=VC(this,e,!0),n=this.Wc.map((function(e){return QC(e,t)})),r=new $w(n);return new eb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AC),WC=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e)).Gc=r,i}return Qo(n,[{key:"_toFieldTransform",value:function(e){var t=new Jw(e.k,zw(e.k,this.Gc));return new eb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(AC);function HC(e,t,n,r){var i=e.Qc(1,t,n);JC("Data must be an object, but it was:",i,r);var a=[],o=Zk.empty();wk(r,(function(e,r){var u=eA(t,e,n);r=Au(r);var s=i.Bc(u);if(r instanceof UC)a.push(u);else{var c=QC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ek(a);return new PC(o,u,i.fieldTransforms)}function KC(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[XC(t,r,n)],s=[i];if(a.length%2!=0)throw new tk(ek.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(XC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zk.empty(),h=u.length-1;h>=0;--h)if(!nA(l,u[h])){var d=u[h],p=s[h];p=Au(p);var v=o.Bc(d);if(p instanceof UC)l.push(d);else{var m=QC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ek(l);return new PC(f,y,o.fieldTransforms)}function GC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QC(n,e.Qc(r?4:3,t))}function QC(e,t){if(YC(e=Au(e)))return JC("Unsupported field value:",t,e),$C(e,t);if(e instanceof AC)return function(e,t){if(!DC(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=qo(e);try{for(a.s();!(n=a.n()).done;){var o=QC(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Au(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zw(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yk.fromDate(e);return{timestampValue:$b(t.k,n)}}if(e instanceof yk){var r=new yk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$b(t.k,r)}}if(e instanceof NC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof CC)return{bytesValue:Yb(t.k,e._byteString)};if(e instanceof uC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(tC(e)))}(e,t)}function $C(e,t){var n={};return bk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wk(e,(function(e,r){var i=QC(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function YC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yk||e instanceof NC||e instanceof CC||e instanceof uC||e instanceof AC)}function JC(e,t,n){if(!YC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tC(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function XC(e,t,n){if((t=Au(t))instanceof TC)return t._internalPath;if("string"==typeof t)return eA(e,t);throw tA("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZC=new RegExp("[~\\*/\\[\\]]");function eA(e,t,n){if(t.search(ZC)>=0)throw tA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Zo(TC,Yo(t.split(".")))._internalPath}catch(r){throw tA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new tk(ek.INVALID_ARGUMENT,u+e+s)}function nA(e,t){return e.some((function(e){return e.isEqual(t)}))}var rA=function(){function e(t,n,r,i,a){Ko(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Qo(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iA=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"data",value:function(){return Mo(Do(n.prototype),"data",this).call(this)}}]),n}(rA);function aA(e,t){return"string"==typeof t?eA(e,t):t instanceof TC?t._internalPath:t._delegate._internalPath}var oA=function(){function e(t,n){Ko(this,e),this.hasPendingWrites=t,this.fromCache=n}return Qo(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),uA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i,a,o,u){var s;return Ko(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Qo(n,[{key:"exists",value:function(){return Mo(Do(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new sA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rA),sA=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mo(Do(n.prototype),"data",this).call(this,e)}}]),n}(uA),cA=function(){function e(t,n,r,i){Ko(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new oA(i.hasPendingWrites,i.fromCache),this.query=r}return Qo(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new sA(n._firestore,n._userDataWriter,r.key,r,new oA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tk(ek.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new sA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new sA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jg()}}function fA(e,t){return e instanceof uA&&t instanceof uA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cA&&t instanceof cA&&e._firestore===t._firestore&&dC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function hA(e){if(Ew(e)&&0===e.explicitOrderBy.length)throw new tk(ek.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dA=Qo((function e(){Ko(this,e)}));function pA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var vA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Qo(n,[{key:"_apply",value:function(e){var t=jC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new tk(ek.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){EA(o,a);var s,c=[],l=qo(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(IA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=IA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||EA(o,a),u=GC(n,"where",o,"in"===a||"not-in"===a);var h=uw.create(i,a,u);return function(e,t){if(t.V()){var n=Cw(e);if(null!==n&&!n.isEqual(t.field))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tw(e);null!==r&&TA(e,t.field,r)}var i=function(e,t){var n,r=qo(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new tk(ek.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tk(ek.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new sC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(dA);var mA=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Qo(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new tk(ek.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tk(ek.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gw(t,n);return function(e,t){if(null===Tw(e)){var n=Cw(e);null!==n&&TA(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new sC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(dA);var yA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Qo(n,[{key:"_apply",value:function(e){return new sC(e.firestore,e.converter,Ow(e._query,this.Xc,this.Zc))}}]),n}(dA);var gA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Qo(n,[{key:"_apply",value:function(e){var t=SA(e,this.type,this.ta,this.ea);return new sC(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(dA);function kA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gA("startAt",t,!0)}function wA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gA("startAfter",t,!1)}var bA=function(e){Fo(n,e);var t=Bo(n);function n(e,r,i){var a;return Ko(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Qo(n,[{key:"_apply",value:function(e){var t=SA(e,this.type,this.ta,this.ea);return new sC(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(dA);function xA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bA("endBefore",t,!0)}function _A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bA("endAt",t,!1)}function SA(e,t,n,r){if(n[0]=Au(n[0]),n[0]instanceof rA)return function(e,t,n,r,i){if(!r)throw new tk(ek.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=qo(Nw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kk(t,r.key));else{var c=r.data.field(s.field);if(Ok(c))throw new tk(ek.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new tk(ek.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new tk(ek.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new tk(ek.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Aw(e)&&-1!==c.indexOf("/"))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_k.fromString(c));if(!Fk.isDocumentKey(l))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Fk(l);u.push(Kk(t,f))}else{var h=GC(n,r,c);u.push(h)}}return new mw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IA(e,t,n){if("string"==typeof(n=Au(n))){if(""===n)throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(t)&&-1!==n.indexOf("/"))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_k.fromString(n));if(!Fk.isDocumentKey(r))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kk(e,new Fk(r))}if(n instanceof uC)return Kk(e,n._key);throw new tk(ek.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tC(n),"."))}function EA(e,t){if(!Array.isArray(e)||0===e.length)throw new tk(ek.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new tk(ek.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function TA(e,t,n){if(!n.isEqual(t))throw new tk(ek.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var CA=function(){function e(){Ko(this,e)}return Qo(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return wk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new NC(Nk(e.latitude),Nk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ak(e);return new yk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_k.fromString(e);Xg(Ix(n));var r=new $T(n.get(1),n.get(3)),i=new Fk(n.popFirst(5));return r.isEqual(t)||Qg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function AA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var NA=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).firestore=e,r}return Qo(n,[{key:"convertBytes",value:function(e){return new CC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}]),n}(CA),RA=function(){function e(t,n){Ko(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jC(t)}return Qo(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=OA(e,this._firestore),i=AA(r.converter,t,n),a=FC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=OA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Au(t))||t instanceof TC?KC(this._dataReader,"WriteBatch.update",i._key,t,n,o):HC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=OA(e,this._firestore);return this._mutations=this._mutations.concat(new yb(t._key,nb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new tk(ek.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function OA(e,t){if((e=Au(e)).firestore!==t)throw new tk(ek.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PA=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).firestore=e,r}return Qo(n,[{key:"convertBytes",value:function(e){return new CC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}]),n}(CA);function DA(e){e=nC(e,uC);var t=nC(e.firestore,yC),n=kC(t),r=new PA(t);return function(e,t){var n=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function r(){return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ho(Xo().mark((function e(t,n,r){var i,a;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Zg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new tk(ek.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=nE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new uA(t,r,e._key,n,new oA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function LA(e){e=nC(e,sC);var t=nC(e.firestore,yC),n=kC(t),r=new PA(t);return hA(e._query),GT(n,e._query).then((function(n){return new cA(t,r,e,n)}))}function MA(e){e=nC(e,sC);var t=nC(e.firestore,yC),n=kC(t),r=new PA(t);return function(e,t){var n=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function r(){return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ES(t,n,!0);case 3:i=e.sent,a=new xE(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=nE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new cA(t,r,e,n)}))}function jA(e,t,n){e=nC(e,uC);var r=nC(e.firestore,yC),i=AA(e.converter,t,n);return zA(r,[FC(jC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nb.none())])}function FA(e,t,n){e=nC(e,uC);for(var r=nC(e.firestore,yC),i=jC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return zA(r,[("string"==typeof(t=Au(t))||t instanceof TC?KC(i,"updateDoc",e._key,t,n,o):HC(i,"updateDoc",e._key,t)).toMutation(e._key,nb.exists(!0))])}function UA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Au(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||vC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(vC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof uC)l=nC(e.firestore,yC),f=Sw(e._key.path),c={next:function(t){n[s]&&n[s](BA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=nC(e,sC);l=nC(p.firestore,yC),f=p._query;var v=new PA(l);c={next:function(e){n[s]&&n[s](new cA(l,v,p,e))},error:n[s+1],complete:n[s+2]},hA(e._query)}return function(e,t,n,r){var i=new TT(r),a=new vE(t,i,n);return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sE,t.next=3,WT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lE,t.next=3,WT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kC(l),f,h,c)}function VA(e,t){return function(e,t){var n=new TT(t);return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zg(e).io.add(t),t.next()},t.next=3,WT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zg(e).io.delete(t)},t.next=3,WT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kC(e=nC(e,yC)),vC(t)?t:{next:t})}function zA(e,t){return function(e,t){var n=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function r(){return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=OE,r.next=3,qT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kC(e),t)}function BA(e,t,n){var r=n.docs.get(t._key),i=new PA(e);return new uA(e,i,t._key,r,new oA(n.hasPendingWrites,n.fromCache),t.converter)}var qA=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,r))._firestore=e,i}return Qo(n,[{key:"get",value:function(e){var t=this,r=OA(e,this._firestore),i=new PA(this._firestore);return Mo(Do(n.prototype),"get",this).call(this,e).then((function(e){return new uA(t._firestore,i,r._key,e._document,new oA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ko(this,e),this._firestore=t,this._transaction=n,this._dataReader=jC(t)}return Qo(e,[{key:"get",value:function(e){var t=this,n=OA(e,this._firestore),r=new NA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Jg();var i=e[0];if(i.isFoundDocument())return new rA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rA(t._firestore,r,n._key,null,n.converter);throw Jg()}))}},{key:"set",value:function(e,t,n){var r=OA(e,this._firestore),i=AA(r.converter,t,n),a=FC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=OA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Au(t))||t instanceof TC?KC(this._dataReader,"Transaction.update",i._key,t,n,o):HC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=OA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function WA(e,t){return function(e,t){var n=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function r(){var i;return Xo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return FT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new NT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(kC(e=nC(e,yC)),(function(n){return t(new qA(e,n))}))}function HA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BC("arrayUnion",t)}function KA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qC("arrayRemove",t)}function GA(e){var t=ur((0,i.useState)([]),2),n=t[0],r=t[1],a=(0,i.useContext)(Tp).firebase;return(0,i.useEffect)((function(){var t=function(){var t=Ho(Xo().mark((function t(){var n,i;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=gC(a),i=pA(lC(n,e)),t.next=4,LA(i).then((function(e){var t=e.docs.map((function(e){return Te(Te({},e.data()),{},{docId:e.id})}));r(t)})).catch((function(e){console.log(e.message)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Ie({},e,n)}function QA(e){var t=e.user,n=e.setProfile;return(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(la,{bg:!1,children:(0,An.jsx)(la.Frame,{children:(0,An.jsx)(la.Logo,{to:To,src:No,alt:"IndianMovies"})})}),(0,An.jsxs)(vo,{children:[(0,An.jsx)(vo.Title,{children:"Who's watching?"}),(0,An.jsx)(vo.List,{children:(0,An.jsxs)(vo.User,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},"data-testid":"user-profile",children:[(0,An.jsx)(vo.Picture,{src:t.photoURL}),(0,An.jsx)(vo.Name,{children:t.displayName})]})})]})]})}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wg=e}(ss),es(new Nu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new yC(i,new ok(e.getProvider("auth-internal")),new lk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ps(Bg,"3.4.3",e),ps(Bg,"3.4.3","esm2017")}();var $A=n(203);function YA(e){var t=e.slides,n=ur((0,$A.useState)("series"),2),r=n[0],i=(n[1],ur((0,$A.useState)(""),2)),a=i[0],o=i[1],u=ur((0,$A.useState)({}),2),s=u[0],c=u[1],l=ur((0,$A.useState)(!0),2),f=l[0],h=l[1],d=(0,$A.useContext)(Tp).firebase,p=Ep(d).currentUser||{},v=ur((0,$A.useState)([]),2),m=(v[0],v[1]);return(0,$A.useEffect)((function(){setTimeout((function(){h(!1)}),3e3)}),[s.displayName]),(0,$A.useEffect)((function(){m(t[r])}),[]),s.displayName?(0,An.jsxs)(An.Fragment,{children:[f?(0,An.jsx)(bo,{src:p.photoURL}):(0,An.jsx)(bo.ReleaseBody,{}),(0,An.jsxs)(la,{src:"joker1",children:[(0,An.jsxs)(la.Frame,{children:[(0,An.jsxs)(la.Group,{children:[(0,An.jsx)(la.Logo,{to:To,src:No,alt:"IndianMovies"}),(0,An.jsx)(la.TextLink,{children:"Series"}),(0,An.jsx)(la.TextLink,{children:"Films"})]}),(0,An.jsxs)(la.Group,{children:[(0,An.jsx)(la.Search,{searchTerm:a,setSearchTerm:o}),(0,An.jsxs)(la.Profile,{children:[(0,An.jsx)(la.Picture,{src:p.photoURL}),(0,An.jsxs)(la.Dropdown,{children:[(0,An.jsxs)(la.Group,{children:[(0,An.jsx)(la.Picture,{src:p.photoURL}),(0,An.jsx)(la.TextLink,{children:p.displayName})]}),(0,An.jsx)(la.Group,{children:(0,An.jsx)(la.TextLink,{onClick:function(){return Ep(d).signOut()},children:"Sign out"})})]})]})]})]}),(0,An.jsxs)(la.Feature,{children:[(0,An.jsx)(la.FeatureCallOut,{children:"Watch Joker Now"}),(0,An.jsx)(la.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,An.jsx)(la.PlayButton,{children:"Play"})]})]}),(0,An.jsx)(ai.Group,{})]}):(0,An.jsx)(QA,{user:p,setProfile:c})}function JA(){var e=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:n.filter((function(e){return"romance"===e.genre}))}]}}({series:GA("series").series,films:GA("films").films});return(0,An.jsx)(YA,{slides:e})}function XA(){var e=ve(),t=(0,i.useContext)(Tp).firebase,n=ur((0,i.useState)(""),2),r=n[0],a=n[1],o=ur((0,i.useState)(""),2),u=o[0],s=o[1],c=ur((0,i.useState)(""),2),l=c[0],f=c[1],h=""===u||""===r;return(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(Oo,{children:(0,An.jsxs)(Ja,{children:[(0,An.jsx)(Ja.Title,{children:"Sign In"}),l&&(0,An.jsx)(Ja.Error,{children:l}),(0,An.jsxs)(Ja.Base,{onSubmit:function(n){n.preventDefault(),Lf(Ep(t),r,u).then((function(){e.push(Co)})).catch((function(e){a(""),s(""),f(e.message)}))},method:"POST",children:[(0,An.jsx)(Ja.Input,{placeholder:"Email address",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,An.jsx)(Ja.Input,{placeholder:"Password",type:"password",autoComplete:"off",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,An.jsx)(Ja.Submit,{disabled:h,type:"submit",children:"Sign In"})]}),(0,An.jsxs)(Ja.Text,{children:["New to IndianMovies? ",(0,An.jsx)(Ja.Link,{to:"/signup",children:" Sign up now."})]}),(0,An.jsx)(Ja.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,An.jsx)(So,{})]})}function ZA(){var e=ve(),t=(0,i.useContext)(Tp).firebase,n=ur((0,i.useState)(""),2),r=n[0],a=n[1],o=ur((0,i.useState)(""),2),u=o[0],s=o[1],c=ur((0,i.useState)(""),2),l=c[0],f=c[1],h=ur((0,i.useState)(""),2),d=h[0],p=h[1],v=""===r||""===l||""===u;return(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(Oo,{children:(0,An.jsxs)(Ja,{children:[(0,An.jsx)(Ja.Title,{children:"Sign Up"}),d&&(0,An.jsx)(Ja.Error,{children:d}),(0,An.jsxs)(Ja.Base,{onSubmit:function(n){n.preventDefault(),Pf(Ep(t),u,l).then((function(t){Hf(t.user,{displayName:r,photoURL:Math.floor(5*Math.random())+1}).then((function(){e.push(Co)}))})).catch((function(e){a(""),s(""),f(""),p(e.message)}))},method:"POST",children:[(0,An.jsx)(Ja.Input,{placeholder:"First name",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,An.jsx)(Ja.Input,{placeholder:"Email address",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,An.jsx)(Ja.Input,{placeholder:"Password",type:"password",autoComplete:"off",value:l,onChange:function(e){var t=e.target;return f(t.value)}}),(0,An.jsx)(Ja.Submit,{disabled:v,type:"submit",children:"Sign Up"})]}),(0,An.jsxs)(Ja.Text,{children:["Already a user? ",(0,An.jsx)(Ja.Link,{to:"/signin",children:" Sign in now."})]}),(0,An.jsx)(Ja.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,An.jsx)(So,{})]})}var eN=["user","loggedInPath","children"],tN=["user","children"];function nN(e){var t=e.user,n=e.loggedInPath,r=e.children,i=Ce(e,eN);return(0,An.jsx)(se,Te(Te({},i),{},{render:function(){return t?t?(0,An.jsx)(ie,{to:{pathname:n}}):null:(console.log(1),r)}}))}function rN(e){var t=e.user,n=e.children,r=Ce(e,tN);return(0,An.jsx)(se,Te(Te({},r),{},{render:function(e){var r=e.location;return t?n:t?null:(0,An.jsx)(ie,{to:{pathname:"signin",state:{from:r}}})}}))}var iN,aN,oN=function(){var e=Cp().user;return(0,An.jsx)("div",{className:"App",children:(0,An.jsxs)(me,{children:[(0,An.jsx)(nN,{user:e,loggedInPath:Co,path:Ao,exact:!0,children:(0,An.jsx)(XA,{})}),(0,An.jsx)(nN,{user:e,loggedInPath:Co,exact:!0,path:"/signup",children:(0,An.jsx)(ZA,{})}),(0,An.jsx)(rN,{user:e,path:Co,exact:!0,children:(0,An.jsx)(JA,{})}),(0,An.jsx)(nN,{user:e,loggedInPath:Co,path:To,exact:!0,children:(0,An.jsx)(Po,{})})]})})},uN=on(iN||(iN=Ae(["\n    html, body {\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: black;\n        color: #333333;\n        font-size: 16px;\n    }\n"]))),sN=function(){function e(t,n){var r=this;Ko(this,e),this._delegate=t,this.firebase=n,Xu(t,new Nu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Qo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),hs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Xu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Zu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),cN=(Ie(aN={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ie(aN,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),aN),lN=new yu("app-compat","Firebase",cN);var fN=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=cs(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wu(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:ps,setLogLevel:ms,onLog:vs,apps:null,SDK_VERSION:ss,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(es(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw lN.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&au(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!wu(t,e=e||Qu))throw lN.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(sN);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){au(t,e)},createSubscribe:Eu,ErrorFactory:yu,deepExtend:au}),t}(),hN=new qu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hN.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dN=self.firebase.SDK_VERSION;dN&&dN.indexOf("LITE")>=0&&hN.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pN=fN;function vN(){return window}!function(e){ps("@firebase/app-compat","0.1.15",e)}();function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return yN=Ho(Xo().mark((function e(t,n,r){var i,a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vN(),o=a.BuildInfo,qs(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_N(n.sessionId);case 4:return u=e.sent,s={},Qc()?s.ibi=o.packageName:Hc()?s.apn=o.packageName:Ms(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",mp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(){return(gN=Ho(Xo().mark((function e(t){var n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vN(),r=n.BuildInfo,i={},Qc()?i.iosBundleId=r.packageName:Hc()?i.androidPackageName=r.packageName:Ms(t,"operation-not-supported-in-this-environment"),e.next=5,Kd(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kN(e){var t=vN().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function wN(e,t,n){return bN.apply(this,arguments)}function bN(){return bN=Ho(Xo().mark((function e(t,n,r){var i,a,o;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vN(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(js(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Hc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),bN.apply(this,arguments)}function xN(e){var t,n,r,i,a,o,u,s,c,l,f=vN();zs("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),zs("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),zs("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),zs("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),zs("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _N(e){return SN.apply(this,arguments)}function SN(){return(SN=Ho(Xo().mark((function e(t){var n,r,i;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=IN(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e){if(qs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var EN=function(e){Fo(n,e);var t=Bo(n);function n(){var e;return Ko(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Qo(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Mo(Do(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qd);function TN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ON(),postBody:null,tenantId:e.tenantId,error:js(e,"no-auth-event")}}function CN(e,t){return PN()._set(DN(e),t)}function AN(e){return NN.apply(this,arguments)}function NN(){return(NN=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PN()._get(DN(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,PN()._remove(DN(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RN(e,t){var n,r,i=function(e){var t=LN(e),n=t.link?decodeURIComponent(t.link):void 0,r=LN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return LN(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=LN(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?js(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ON(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function PN(){return Hs(lh)}function DN(e){return Fc("authEvent",e.config.apiKey,e.name)}function LN(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=rr(t=n)||$o(t)||ar(t)||or();r[0];return Su(r.slice(1).join("?"))}var MN=function(){function e(){Ko(this,e),this._redirectPersistence=hh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ud}return Qo(e,[{key:"_initialize",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new EN(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ms(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){var a,o,u,s;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xN(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),_d.clear(),e.next=10,this._originValidation(t);case 10:return o=TN(t,r,i),e.next=13,CN(t,o);case 13:return e.next=15,mN(t,o,n);case 15:return u=e.sent,e.next=18,kN(u);case 18:return s=e.sent,e.abrupt("return",wN(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vN(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,AN(e);case 2:t.onEvent(FN());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ho(Xo().mark((function n(r){var i,a;return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,AN(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=RN(i,r.url)),t.onEvent(a||FN());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vN().handleOpenURL=function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),jN=MN;function FN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:js("no-auth-event")}}function UN(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function VN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return!("file:"!==UN()&&"ionic:"!==UN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function zN(){return pu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function BN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/Edge\/\d+/.test(e)}function qN(){try{var e=self.localStorage,t=vh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return zN()||BN(e)}()||vu()}catch(n){return WN()&&vu()}return!1}function WN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function HN(){return("http:"===UN()||"https:"===UN()||hu()||VN())&&!(du()||fu())&&qN()&&!WN()}function KN(){return VN()&&"undefined"!==typeof document}function GN(){return QN.apply(this,arguments)}function QN(){return(QN=Ho(Xo().mark((function e(){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $N={LOCAL:"local",NONE:"none",SESSION:"session"},YN=zs,JN="persistence";function XN(e,t){YN(Object.values($N).includes(t),e,"invalid-persistence-type"),du()?YN(t!==$N.SESSION,e,"unsupported-persistence-type"):fu()?YN(t===$N.NONE,e,"unsupported-persistence-type"):WN()?YN(t===$N.NONE||t===$N.LOCAL&&vu(),e,"unsupported-persistence-type"):YN(t===$N.NONE||qN(),e,"unsupported-persistence-type")}function ZN(e){return eR.apply(this,arguments)}function eR(){return eR=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tR(),r=Fc(JN,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}function tR(){return"undefined"!==typeof window?window:null}var nR=zs,rR=function(){function e(){Ko(this,e),this.browserResolver=Hs(kp),this.cordovaResolver=Hs(jN),this.underlyingResolver=null,this._redirectPersistence=hh,this._completeRedirectFn=Ud}return Qo(e,[{key:"_initialize",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ho(Xo().mark((function e(t,n,r,i){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return KN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,GN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function iR(e){return e.unwrap()}function aR(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new lR(e,function(e,t){var n,r=Au(e),i=t;return zs(t.customData.operationType,r,"argument-error"),zs(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rh._fromError(r,i)}(e,t));else if(r){var i=oR(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function oR(e){var t=(e instanceof mu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof mu)&&"temporaryProof"in t&&"phoneNumber"in t)return sd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===xs)return null;switch(r){case bs:n=Hl;break;case ks:n=Wl;break;case ws:n=Kl;break;case _s:n=$l;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Gl._create(r,u):Rl._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ql(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof mu?n.credentialFromError(e):n.credentialFromResult(e)}function uR(e,t){return t.catch((function(t){throw t instanceof mu&&aR(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,oR(t)),additionalUserInfo:th(e),user:fR.getOrCreate(r)}}))}function sR(e,t){return cR.apply(this,arguments)}function cR(){return(cR=Ho(Xo().mark((function e(t,n){var r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uR(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lR=function(){function e(t,n){Ko(this,e),this.resolver=n,this.auth=t.wrapped()}return Qo(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uR(iR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fR=function(){function e(t){Ko(this,e),this._delegate=t,this.multiFactor=function(e){var t=Au(e);return oh.has(t)||oh.set(t,ah._fromUser(t)),oh.get(t)}(t)}return Qo(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uR(this.auth,yf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sR(this.auth,nd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uR(this.auth,wd(this._delegate,t,rR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN(el(this.auth));case 2:return e.abrupt("return",Ld(this._delegate,t,rR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uR(this.auth,kf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sR(this.auth,function(e,t,n){return id.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uR(this.auth,function(e,t,n){return kd.apply(this,arguments)}(this._delegate,e,rR))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN(el(this.auth));case 2:return e.abrupt("return",Pd(this._delegate,t,rR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return zf.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Gf(Au(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Gf(Au(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ud.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return Hf(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Bf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fR.USER_MAP=new WeakMap;var hR=zs,dR=function(){function e(t,n){if(Ko(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;hR(r,"invalid-api-key",{appName:t.name}),hR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?rR:void 0;this._delegate=n.initialize({options:{persistence:vR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Rs),this.linkUnderlyingAuth()}return Qo(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fR.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){nl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Af.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Nf(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Cf.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ho(Xo().mark((function e(t,n){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uR(this._delegate,Pf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Vf.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ul.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ho(Xo().mark((function e(){var t;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hR(HN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jd(this._delegate,rR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",uR(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){el(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Mf.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Tf.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ho(Xo().mark((function e(t){var n,r;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:XN(this._delegate,t),e.t0=t,e.next=e.t0===$N.SESSION?4:e.t0===$N.LOCAL?6:e.t0===$N.NONE?11:13;break;case 4:return n=hh,e.abrupt("break",14);case 6:return e.next=8,Hs(Lh)._isAvailable();case 8:return r=e.sent,n=r?Lh:lh,e.abrupt("break",14);case 11:return n=jc,e.abrupt("break",14);case 13:return e.abrupt("return",Ms("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uR(this._delegate,function(e){return ef.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uR(this._delegate,vf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uR(this._delegate,function(e,t){return _f.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uR(this._delegate,Lf(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uR(this._delegate,function(e,t,n){return jf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sR(this._delegate,function(e,t,n){return td.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hR(HN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",uR(this._delegate,yd(this._delegate,t,rR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ho(Xo().mark((function e(t){return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hR(HN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ZN(this._delegate);case 3:return e.abrupt("return",Rd(this._delegate,t,rR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Of.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pR(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&fR.getOrCreate(e))},error:t,complete:n}}function vR(e,t){var n=function(e,t){var n=tR();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Fc(JN,e,t);switch(n.sessionStorage.getItem(r)){case $N.NONE:return[jc];case $N.LOCAL:return[Lh,hh];case $N.SESSION:return[hh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Lh)||n.push(Lh),"undefined"!==typeof window)for(var r=0,i=[lh,hh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(jc)||n.push(jc),n}dR.Persistence=$N;var mR=function(){function e(){Ko(this,e),this.providerId="phone",this._delegate=new sd(iR(pN.auth()))}return Qo(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return sd.credential(e,t)}}]),e}();mR.PHONE_SIGN_IN_METHOD=sd.PHONE_SIGN_IN_METHOD,mR.PROVIDER_ID=sd.PROVIDER_ID;var yR,gR=zs,kR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pN.app();Ko(this,e),gR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Xh(t,n,i.auth()),this.type=this._delegate.type}return Qo(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(yR=pN).INTERNAL.registerComponent(new Nu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dR(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ss,PASSWORD_RESET:Is,RECOVER_EMAIL:Es,REVERT_SECOND_FACTOR_ADDITION:Ts,VERIFY_AND_CHANGE_EMAIL:Cs,VERIFY_EMAIL:As}},EmailAuthProvider:Vl,FacebookAuthProvider:Wl,GithubAuthProvider:Kl,GoogleAuthProvider:Hl,OAuthProvider:ql,SAMLAuthProvider:Ql,PhoneAuthProvider:mR,PhoneMultiFactorGenerator:bp,RecaptchaVerifier:kR,TwitterAuthProvider:$l,Auth:dR,AuthCredential:al,Error:mu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),yR.registerVersion("@firebase/auth-compat","0.2.6");function wR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bR(){if("undefined"===typeof Uint8Array)throw new tk("unimplemented","Uint8Arrays are not available in this environment.")}function xR(){if("undefined"==typeof atob)throw new tk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var _R=function(){function e(t){Ko(this,e),this._delegate=t}return Qo(e,[{key:"toBase64",value:function(){return xR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return xR(),new e(CC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bR(),new e(CC.fromUint8Array(t))}}]),e}();function SR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=qo(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var IR=function(){function e(){Ko(this,e)}return Qo(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){EC(e=nC(e,yC));var n=kC(e),r=e._freezeSettings(),i=new IT;return bC(n,i,new _T(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){EC(e=nC(e,yC));var t=kC(e),n=e._freezeSettings(),r=new IT;return bC(t,r,new ST(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new tk(ek.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new nk;return e._queue.enqueueAndForgetEvenWhileRestricted(Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ho(Xo().mark((function e(t){var n;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jx.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Jx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(cS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ER=function(){function e(t,n,r){var i=this;Ko(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $T||(this._appCompat=t)}return Qo(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return xC(this._delegate)}},{key:"disableNetwork",value:function(){return _C(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&XT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new nk;return e.asyncQueue.enqueueAndForget(Ho(Xo().mark((function n(){return Xo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=qE,n.next=3,qT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(kC(e=nC(e,yC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return VA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new tk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new VR(this,lC(this._delegate,e))}catch(t){throw OR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new RR(this,fC(this._delegate,e))}catch(t){throw OR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jR(this,function(e,t){if(e=nC(e,aC),JT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tk(ek.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sC(e,null,function(e){return new xw(_k.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw OR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return WA(this._delegate,(function(n){return e(new CR(t,n))}))}},{key:"batch",value:function(){var e=this;return kC(this._delegate),new AR(new RA(this._delegate,(function(t){return zA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return SC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return IC(this._delegate,e).then((function(e){return e?new jR(t,e):null}))}}]),e}(),TR=function(e){Fo(n,e);var t=Bo(n);function n(e){var r;return Ko(this,n),(r=t.call(this)).firestore=e,r}return Qo(n,[{key:"convertBytes",value:function(e){return new _R(new CC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return RR.forKey(t,this.firestore,null)}}]),n}(CA);var CR=function(){function e(t,n){Ko(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new TR(t)}return Qo(e,[{key:"get",value:function(e){var t=this,n=zR(e);return this._delegate.get(n).then((function(e){return new LR(t._firestore,new uA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zR(e);return n?(wR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zR(e);return this._delegate.delete(t),this}}]),e}(),AR=function(){function e(t){Ko(this,e),this._delegate=t}return Qo(e,[{key:"set",value:function(e,t,n){var r=zR(e);return n?(wR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NR=function(){function e(t,n,r){Ko(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Qo(e,[{key:"fromFirestore",value:function(e,t){var n=new sA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new TR(t),n),i.set(n,a)),a}}]),e}();NR.INSTANCES=new WeakMap;var RR=function(){function e(t,n){Ko(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new TR(t)}return Qo(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new VR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new VR(this.firestore,lC(this._delegate,e))}catch(t){throw OR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Au(e))instanceof uC&&hC(this._delegate,e)}},{key:"set",value:function(e,t){t=wR("DocumentReference.set",t);try{return t?jA(this._delegate,e,t):jA(this._delegate,e)}catch(n){throw OR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FA(this._delegate,e):FA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw OR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zA(nC(e.firestore,yC),[new yb(e._key,nb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PR(n),a=DR(n,(function(t){return new LR(e.firestore,new uA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return UA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nC(e,uC);var t=nC(e.firestore,yC);return KT(kC(t),e._key,{source:"server"}).then((function(n){return BA(t,e,n)}))}(this._delegate):function(e){e=nC(e,uC);var t=nC(e.firestore,yC);return KT(kC(t),e._key).then((function(n){return BA(t,e,n)}))}(this._delegate),t.then((function(e){return new LR(n.firestore,new uA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new tk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uC(n._delegate,r,new Fk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uC(n._delegate,r,t))}}]),e}();function OR(e,t,n){return e.message=e.message.replace(t,n),e}function PR(e){var t,n=qo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!SR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function DR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=SR(e[0])?e[0]:SR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var LR=function(){function e(t,n){Ko(this,e),this._firestore=t,this._delegate=n}return Qo(e,[{key:"ref",get:function(){return new RR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return fA(this._delegate,e._delegate)}}]),e}(),MR=function(e){Fo(n,e);var t=Bo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Qo(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Jg()}(void 0!==t),t}}]),n}(LR),jR=function(){function e(t,n){Ko(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new TR(t)}return Qo(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pA(this._delegate,function(e,t,n){var r=t,i=aA("where",e);return new vA(i,r,n)}(t,n,r)))}catch(i){throw OR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aA("orderBy",e);return new mA(n,t)}(t,n)))}catch(r){throw OR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pA(this._delegate,function(e){return rC("limit",e),new yA("limit",e,"F")}(t)))}catch(n){throw OR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pA(this._delegate,function(e){return rC("limitToLast",e),new yA("limitToLast",e,"L")}(t)))}catch(n){throw OR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pA(this._delegate,kA.apply(void 0,arguments)))}catch(t){throw OR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pA(this._delegate,wA.apply(void 0,arguments)))}catch(t){throw OR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pA(this._delegate,xA.apply(void 0,arguments)))}catch(t){throw OR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pA(this._delegate,_A.apply(void 0,arguments)))}catch(t){throw OR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return dC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nC(e,sC);var t=nC(e.firestore,yC),n=kC(t),r=new PA(t);return GT(n,e._query,{source:"server"}).then((function(n){return new cA(t,r,e,n)}))}(this._delegate):LA(this._delegate),t.then((function(e){return new UR(n.firestore,new cA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PR(n),a=DR(n,(function(t){return new UR(e.firestore,new cA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return UA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),FR=function(){function e(t,n){Ko(this,e),this._firestore=t,this._delegate=n}return Qo(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new MR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),UR=function(){function e(t,n){Ko(this,e),this._firestore=t,this._delegate=n}return Qo(e,[{key:"query",get:function(){return new jR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new MR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new FR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new MR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return fA(this._delegate,e._delegate)}}]),e}(),VR=function(e){Fo(n,e);var t=Bo(n);function n(e,r){var i;return Ko(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Qo(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new RR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new RR(this.firestore,void 0===e?fC(this._delegate):fC(this._delegate,e))}catch(t){throw OR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=nC(e.firestore,yC),r=fC(e),i=AA(e.converter,t);return zA(n,[FC(jC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new RR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jR);function zR(e){return nC(e,uC)}var BR=function(){function e(){Ko(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Zo(TC,n)}return Qo(e,[{key:"isEqual",value:function(e){return(e=Au(e))instanceof TC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ik.keyField().canonicalString())}}]),e}(),qR=function(){function e(t){Ko(this,e),this._delegate=t}return Qo(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new zC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new UC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=HA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new WC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),WR={Firestore:ER,GeoPoint:NC,Timestamp:yk,Blob:_R,Transaction:CR,WriteBatch:AR,DocumentReference:RR,DocumentSnapshot:LR,Query:jR,QueryDocumentSnapshot:MR,QuerySnapshot:UR,CollectionReference:VR,FieldPath:BR,FieldValue:qR,setLogLevel:function(e){!function(e){Hg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Nu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},WR)))}(e,(function(e,t){return new ER(e,t,new IR)})),e.registerVersion("@firebase/firestore-compat","0.1.12")}(pN);ps("firebase","9.6.4","app");var HR=cs({apiKey:"AIzaSyCH2bsKN7Ea5YfATDXtmA3Sgo12_vuZCdA",authDomain:"indian-movies-6472e.firebaseapp.com",projectId:"indian-movies-6472e",storageBucket:"indian-movies-6472e.appspot.com",messagingSenderId:"1081601166953",appId:"1:1081601166953:web:d56d23200ce1577e035cf8",measurementId:"G-F5HJDDL96H"});(0,a.render)((0,An.jsx)(An.Fragment,{children:(0,An.jsxs)(Tp.Provider,{value:{Firebase:HR},children:[(0,An.jsx)(uN,{}),(0,An.jsx)(oN,{})]})}),document.getElementById("root"))},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,I=60108,E=60114,T=60109,C=60110,A=60112,N=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),I=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},Et={};function Tt(e){if(It[e])return It[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return It[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),_n=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Ee(e)),e=Jn,je)e(t);else{je=!0;try{Pe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Sr.length;Ir++)Pt.set(Sr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case At:case Nt:s=wn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ii=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Ei(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Oi,Qi),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Ia(!0),Ta=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Nr(Er[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Se(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Nr(Er[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&zu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Su(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Eu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=b.ReactCurrentDispatcher,Ru=b.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Uu=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(Bu|=t,4===Fu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Oi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Es();for(Pu===e&&Lu===r||(Gu(),Ss(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Fu),0!==(Vu&Bu))Ss(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Ss(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Ss(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,qi()),null}function ws(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function bs(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Vu|=t}function _s(){Mu=ju.current,li(ju)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Fu=0,Uu=null,qu=Bu=zu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Fu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=zs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Es(){var e=Nu.current;return Nu.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Es();for(Pu===e&&Lu===t||Ss(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Fu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Os(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,zr=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var w=$u.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Eu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Eu($u.alternate,$u);break;case 4:Eu($u.alternate,$u);break;case 8:Iu(u,s=$u);var x=s.alternate;wu(s),null!==x&&wu(x)}$u=$u.nextEffect}}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);if(b=Br,w=mr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){w=void 0;var S=$u.ref;if(null!==S){var I=$u.stateNode;$u.tag,w=I,"function"===typeof S?S(w):S.current=w}}$u=$u.nextEffect}}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);$u=null,Fi(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(ms(e,qi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>qi()-Hu?Ss(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case E:return(e=Ws(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $s(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ws,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(me){}}t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)}},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],w=n[7];u&&(r.push(u),u="");var b=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,S=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:_,repeat:x,partial:b,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+s(S)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},203:function(){"use strict"},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,A=null,N=3,R=!1,O=!1,P=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(P=!1,D(e),!O)if(null!==_(E))O=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=N;try{for(D(n),A=_(E);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(E)&&S(E),D(n)}else S(E);A=_(E)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(E,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},221:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.ce6a4728b13b5f666f9c.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";n(642)}();
//# sourceMappingURL=main.6b9f0577.js.map